<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>iOSå¼€å‘æ ˆ - ä¸“æ³¨äºåˆ†äº«iOSå¼€å‘ç›¸å…³çŸ¥è¯†</title>
  
  <subtitle>å…³æ³¨å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘åŠæ—¶å…è´¹è·å–æ›´å¤šiOSå¼€å‘çŸ¥è¯†</subtitle>
  <link href="http://www.iosprogrammer.tech/atom.xml" rel="self"/>
  
  <link href="http://www.iosprogrammer.tech/"/>
  <updated>2021-06-12T13:08:46.358Z</updated>
  <id>http://www.iosprogrammer.tech/</id>
  
  <author>
    <name>æ–½æ²»æ˜‚</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>SwiftUIå¼¹çª—å¤§å…¨ï¼šMenu/Alert/ActionSheet</title>
    <link href="http://www.iosprogrammer.tech/swiftui/swiftui-alertview/"/>
    <id>http://www.iosprogrammer.tech/swiftui/swiftui-alertview/</id>
    <published>2021-06-12T10:31:50.000Z</published>
    <updated>2021-06-12T13:08:46.358Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€ä¸ªiOSåº”ç”¨ä¸­å¿…ç„¶ä¼šæœ‰å¾ˆå¤šçš„å¼¹çª—ï¼ŒUIKitä¸­çš„å¼¹çª—ä¸»è¦æ˜¯<code>UIMenuController</code>ã€<code>UIAlertView</code>å’Œ<code>UIActionController</code>ï¼Œåˆ°äº†SwiftUIæ¡†æ¶ä¸­ä¹Ÿæœ‰å¯¹åº”çš„å¼¹çª—ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯<code>contextMenu</code>ã€<code>alert</code>å’Œ<code>actionSheet</code>ä¸‰ä¸ª<a href="https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential/#Modifer">ViewModifier(è§†å›¾ä¿®æ”¹å™¨)</a>ã€‚</p><a id="more"></a><p><img src="../../images/swiftui-popupview/first.png"></p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="contextMenu"><a href="#contextMenu" class="headerlink" title="contextMenu"></a>contextMenu</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¸‹é¢ä¸¤ç§æ–¹å¼æ˜¯ç­‰ä»·çš„ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ç§æ–¹å¼</span></span><br><span class="line"><span class="keyword">let</span> menu <span class="operator">=</span> <span class="type">ContextMenu</span> &#123; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Button</span>(<span class="string">&quot;1&quot;</span>, action: &#123;&#125;)</span><br><span class="line">    .contextMenu(menu)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§æ–¹å¼</span></span><br><span class="line"><span class="type">Image</span>(systemName: <span class="string">&quot;square.and.arrow.up&quot;</span>)</span><br><span class="line">    .contextMenu &#123;</span><br><span class="line">        <span class="type">Button</span>(<span class="string">&quot;1&quot;</span>, action: &#123;&#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><code>contextMenu</code>ä¸¤ç§åˆå§‹åŒ–æ–¹å¼å¯¹åº”ä¸Šé¢ä¾‹å­ä¸­çš„ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§<code>public func contextMenu&lt;MenuItems&gt;(_ contextMenu: ContextMenu&lt;MenuItems&gt;?) -&gt; some View where MenuItems : View</code>æ˜¯ç”¨ä¸€ä¸ª<code>ContextMenu</code>å®ä¾‹ä½œä¸ºå‚æ•°ï¼›ç¬¬äºŒç§<code>public func contextMenu&lt;MenuItems&gt;(@ViewBuilder menuItems: () -&gt; MenuItems) -&gt; some View where MenuItems : View</code>çš„å‚æ•°æ˜¯ä¸€ä¸ªä½¿ç”¨<code>@ViewBuilder</code>ä¿®é¥°çš„é—­åŒ…ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">ContextMenu</span>&lt;<span class="title">MenuItems</span>&gt; <span class="title">where</span> <span class="title">MenuItems</span> : <span class="title">View</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(<span class="meta">@ViewBuilder</span> menuItems: () -&gt; <span class="type">MenuItems</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±<code>ContextMenu</code>çš„åˆå§‹åŒ–æ–¹æ³•å¯ä»¥çœ‹å‡ºï¼Œè¦åˆå§‹åŒ–è¿™ä¸ªç±»ä¹Ÿæ˜¯éœ€è¦ä¸€ä¸ªç”¨<code>@ViewBuilder</code>ä¿®é¥°çš„é—­åŒ…ï¼Œæ‰€ä»¥ä¸Šé¢çš„ä¸¤ç§<code>menuContext</code>ä½¿ç”¨æ–¹å¼å¹¶æ²¡æœ‰æœ¬è´¨åŒºåˆ«ã€‚æˆ–è€…è¯´ç¬¬äºŒç§æ˜¯ç¬¬ä¸€ç§çš„ç®€ä¾¿æ–¹æ³•ï¼Œç±»ä¼¼äºè¿™æ ·çš„ç”¨æ³•åœ¨SwiftUIä¸­æœ‰å¾ˆå¤šã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­ï¼š</p><p><img src="../../images/swiftui-popupview/menuview.png"></p><p>é•¿æŒ‰â€Context Menuâ€æ–‡æœ¬åä¼šå¼¹å‡ºä¸€ä¸ªMenuèœå•ï¼Œå…¶ä¸­æ¯ä¸ªé€‰é¡¹éƒ½æ˜¯ä¸€ä¸ªæŒ‰é’®ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ç¨‹åºæ‰€ä»¥æŒ‰é’®çš„äº‹ä»¶æ²¡æœ‰å†™ï¼Œåœ¨ä½ çš„é¡¹ç›®ä¸­å¯ä»¥åŠ ä¸Šå¯¹åº”çš„äº‹ä»¶ã€‚</p><h1 id="alert"><a href="#alert" class="headerlink" title="alert"></a>alert</h1><p><img src="../../images/swiftui-popupview/alert.png"></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> presentAlert: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="type">Button</span> &#123;</span><br><span class="line">    presentAlert <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">&#125; label: &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Show Alert&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line">.alert(isPresented: <span class="variable">$presentAlert</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> alert <span class="operator">=</span> <span class="type">Alert</span>(title: <span class="type">Text</span>(<span class="string">&quot;Alert Test&quot;</span>), message: <span class="type">Text</span>(<span class="string">&quot;This is a test case&quot;</span>), primaryButton: .default(<span class="type">Text</span>(<span class="string">&quot;Sure&quot;</span>)), secondaryButton: .destructive(<span class="type">Text</span>(<span class="string">&quot;Cancel&quot;</span>)))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> alert</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>alert</code>è¿™ä¸ªè§†å›¾ä¿®æ”¹å™¨æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯<code>Binding&lt;Bool&gt;</code>ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ä¸€ä¸ªè¢«<code>@State</code>å±æ€§åŒ…è£…å™¨åŒ…è£…çš„å±æ€§å‰åŠ <code>$</code>æ¥ä½œä¸ºè¿™ä¸ªå‚æ•°ï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒ<a href="https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential/#State%E5%92%8C-%E2%80%94%E2%80%94-Binding-Value">å±æ€§åŒ…è£…å™¨å’Œ@State</a></p><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªè¿”å›å€¼æ˜¯<code>Alert</code>ç±»å‹çš„é—­åŒ…ï¼Œå› æ­¤æˆ‘ä»¬è¿™é‡Œéœ€è¦åˆ›å»ºä¸€ä¸ªAlertçš„ç¤ºä¾‹ä½œä¸ºè¿”å›å€¼ã€‚</p><h1 id="actionSheet"><a href="#actionSheet" class="headerlink" title="actionSheet"></a>actionSheet</h1><p><img src="../../images/swiftui-popupview/actionSheet.png"></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> presentAlert: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="type">Button</span> &#123;</span><br><span class="line">    presentAlert <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">&#125; label: &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Show Alert&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.actionSheet(isPresented: <span class="variable">$presentAlert</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> actionSheet <span class="operator">=</span> <span class="type">ActionSheet</span>(title: <span class="type">Text</span>(<span class="string">&quot;Test ActionSheet&quot;</span>), message: <span class="type">Text</span>(<span class="string">&quot;This is a test&quot;</span>), buttons: [.default(<span class="type">Text</span>(<span class="string">&quot;Sure Item&quot;</span>)), .default(<span class="type">Text</span>(<span class="string">&quot;Sure Item2&quot;</span>)), .destructive(<span class="type">Text</span>(<span class="string">&quot;Cancel&quot;</span>))])</span><br><span class="line">    <span class="keyword">return</span> actionSheet</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>actionSheet</code>å’Œä¸Šé¢çš„<code>alert</code>ç”¨æ³•éå¸¸ç›¸ä¼¼ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª<code>Binding&lt;Bool&gt;</code>ç±»å‹çš„å˜é‡ï¼Œ<code>presentAlert</code>æ˜¯ä¸€ä¸ªè¢«<code>@State</code>å±æ€§åŒ…è£…å™¨åŒ…è£…çš„Boolç±»å‹å˜é‡ï¼Œåœ¨è¿™ä¸ªå˜é‡å‰é¢åŠ <code>$</code>å¯ä»¥ç”Ÿæˆä¸€ä¸ªBindingç±»å‹çš„å˜é‡ã€‚</p><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªè¿”å›å€¼æ˜¯<code>ActionSheet</code>ç±»å‹çš„é—­åŒ…ï¼Œå› æ­¤éœ€è¦åˆ›å»ºè¿™ä¸ªç±»å‹çš„å®ä¾‹å¹¶å°†å®ƒä½œä¸ºè¿”å›å€¼ã€‚<code>buttons</code>å‚æ•°æ˜¯ä¸€ä¸ª<code>ActionSheet.Button</code>ç±»å‹çš„æ•°ç»„ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªå®ä¾‹ç¨‹åºï¼ŒButtonå¹¶æ²¡æœ‰æ·»åŠ ä»»ä½•çš„äº‹ä»¶ï¼Œå¦‚æœéœ€è¦å¯ä»¥è‡ªè¡Œæ·»åŠ ã€‚</p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ç¯‡æ–‡ç« å¯¹SwiftUIæ¡†æ¶ä¸­çš„<code>contextMenu</code>ã€<code>alert</code>å’Œ<code>actionSheet</code>åšäº†å…¨é¢çš„è¯´æ˜ï¼Œä½ ç°åœ¨å¯¹è¿™3ç§å¼¹çª—è‚¯å®šæœ‰äº†å…¨é¢çš„è®¤è¯†ï¼Œé‚£å°±åœ¨é¡¹ç›®ä¸­ç”¨èµ·æ¥å§ã€‚ğŸ‘</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¸€ä¸ªiOSåº”ç”¨ä¸­å¿…ç„¶ä¼šæœ‰å¾ˆå¤šçš„å¼¹çª—ï¼ŒUIKitä¸­çš„å¼¹çª—ä¸»è¦æ˜¯&lt;code&gt;UIMenuController&lt;/code&gt;ã€&lt;code&gt;UIAlertView&lt;/code&gt;å’Œ&lt;code&gt;UIActionController&lt;/code&gt;ï¼Œåˆ°äº†SwiftUIæ¡†æ¶ä¸­ä¹Ÿæœ‰å¯¹åº”çš„å¼¹çª—ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯&lt;code&gt;contextMenu&lt;/code&gt;ã€&lt;code&gt;alert&lt;/code&gt;å’Œ&lt;code&gt;actionSheet&lt;/code&gt;ä¸‰ä¸ª&lt;a href=&quot;https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential/#Modifer&quot;&gt;ViewModifier(è§†å›¾ä¿®æ”¹å™¨)&lt;/a&gt;ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="SwiftUI" scheme="http://www.iosprogrammer.tech/tags/SwiftUI/"/>
    
  </entry>
  
  <entry>
    <title>å…¨é¢æŒæ¡ï¼SwiftUI2.0ä¸­TabViewçš„çŸ¥è¯†å’Œç”¨æ³•</title>
    <link href="http://www.iosprogrammer.tech/swiftui/swiftui-tabview/"/>
    <id>http://www.iosprogrammer.tech/swiftui/swiftui-tabview/</id>
    <published>2021-05-20T00:35:28.000Z</published>
    <updated>2021-05-21T10:24:57.866Z</updated>
    
    <content type="html"><![CDATA[<p>ç»å¤§å¤šæ•°Appçš„åº•éƒ¨éƒ½æœ‰Tabbaræ¥åˆ‡æ¢ä¸åŒçš„åŠŸèƒ½ï¼Œåœ¨UIKitæ¡†æ¶ä¸­ä½¿ç”¨<code>UITabbarController</code>æ¥å®ç°è¿™æ ·çš„æ“ä½œï¼Œåˆ°äº†SwiftUIä¸­è¢«<code>TabView</code>å–ä»£äº†ã€‚</p><p>è¿™ç¯‡æ–‡ç« æˆ‘ä»¬å°†å­¦ä¹ å…³äº<code>TabView</code>çš„ä¸€äº›åŸºç¡€çŸ¥è¯†å’Œé«˜é˜¶ç”¨æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬è¿™å‡ ä¸ªä¸»è¦æ–¹é¢ï¼š</p><ol><li>æ€ä¹ˆåˆ›å»º<code>TabView</code></li><li><code>TabView</code>æ¯”<code>UITabbarController</code>çš„ä¼˜åŠ¿</li><li>è‡ªå®šä¹‰TabViewçš„å¤–è§‚</li></ol><a id="more"></a><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><p><img src="../../images/swiftui-tabview/first.png"></p><h1 id="å¼€å§‹ä½¿ç”¨TabView"><a href="#å¼€å§‹ä½¿ç”¨TabView" class="headerlink" title="å¼€å§‹ä½¿ç”¨TabView"></a>å¼€å§‹ä½¿ç”¨<code>TabView</code></h1><h2 id="æœ€åŸºç¡€çš„TabView"><a href="#æœ€åŸºç¡€çš„TabView" class="headerlink" title="æœ€åŸºç¡€çš„TabView"></a>æœ€åŸºç¡€çš„TabView</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TabView</span> &#123;</span><br><span class="line">    <span class="type">ContentView</span>()</span><br><span class="line">    <span class="type">SecondView</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±åˆ›å»ºäº†ä¸€ä¸ªæœ€ç®€å•çš„<code>TabView</code>ï¼Œå’Œå…¶ä»–å¾ˆå¤šSwiftUIçš„æ§ä»¶ä¸€æ ·TabViewçš„åˆå§‹åŒ–ä¹Ÿæ˜¯æ¥æ”¶ä¸€ä¸ª<code>@ViewBuilder</code>ä¿®é¥°çš„View<code>public init(@ViewBuilder content: () -&gt; Content)</code>ã€‚</p><p>å…¶ä¸­çš„<code>ContentView</code>å’Œ<code>SecondView</code>æ˜¯<code>TabView</code>çš„ä¸¤ä¸ª<code>Tabbar</code>ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬æ²¡æœ‰è®¾ç½®<code>Tabbar</code>çš„å›¾ç‰‡å’Œæ–‡å­—ï¼Œæ­¤æ—¶Appæœ€åº•éƒ¨çš„å¯¼èˆªæ æ˜¯ç©ºçš„ã€‚</p><h2 id="ç»™Tabbarè®¾ç½®å›¾ç‰‡å’Œæ–‡å­—"><a href="#ç»™Tabbarè®¾ç½®å›¾ç‰‡å’Œæ–‡å­—" class="headerlink" title="ç»™Tabbarè®¾ç½®å›¾ç‰‡å’Œæ–‡å­—"></a>ç»™Tabbarè®¾ç½®å›¾ç‰‡å’Œæ–‡å­—</h2><p>å¾—ç›ŠäºSwiftUIçš„å£°æ˜å¼è¯­æ³•ï¼Œæˆ‘ä»¬è®¾ç½®tabbarä¸­æ–‡å­—å’Œå›¾ç‰‡çš„æ•ˆç‡æ¯”UIKité«˜äº†10å€ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TabView</span> &#123;</span><br><span class="line">    <span class="type">ContentView</span>()</span><br><span class="line">        .tabItem &#123; <span class="type">Label</span>(<span class="string">&quot;Menu&quot;</span>, systemImage: <span class="string">&quot;list.dash&quot;</span>) &#125;</span><br><span class="line">    <span class="type">SecondView</span>()</span><br><span class="line">        .tabItem &#123;</span><br><span class="line">            <span class="type">Image</span>(systemName: <span class="string">&quot;square.and.pencil&quot;</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Me&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="../../images/swiftui-tabview/essential-tabview.png"></p><p>ç»™tabbarè®¾ç½®å›¾ç‰‡å’Œæ–‡å­—ä½¿ç”¨çš„æ˜¯<code>tabItem</code><a href="https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential#Modifer">è§†å›¾ä¿®æ”¹å™¨</a>ã€‚</p><p>ç¬¬ä¸€ç§è®¾ç½®æ–‡å­—å’Œå›¾ç‰‡çš„æ–¹æ³•æ˜¯ä½¿ç”¨<code>Label</code>æ§ä»¶ï¼Œå®ƒé€šè¿‡ä¸€ä¸ªæ–‡å­—å’Œä¸€ä¸ªå›¾ç‰‡ä½œä¸ºå‚æ•°æ¥è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œç¬¬äºŒç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨äº†ä¸€æ®µæ–‡å­—å’Œä¸€å¼ å›¾ç‰‡ã€‚</p><p>ç”±äºtabItemä¿®æ”¹å™¨çš„å‚æ•°æ˜¯ä¸€ç»„Viewæ‰€ä»¥åŸåˆ™ä¸Šæ¥è¯´å¯ä»¥ä½¿ç”¨ä»»æ„Viewæ¥è®¾ç½®tabbarçš„æ ·å¼ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Tabbar</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;2&quot;</span>)</span><br><span class="line">            <span class="type">Image</span>(systemName: <span class="string">&quot;square.and.pencil&quot;</span>)</span><br><span class="line">            <span class="type">Image</span>(systemName: <span class="string">&quot;list.dash&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tabItem &#123;</span><br><span class="line">    <span class="type">Tabbar</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨äº†ä¸€ä¸ªåŒ…å«ä¸¤æ®µæ–‡å­—å’Œä¸¤å¼ å›¾ç‰‡çš„Tabbaræ¥è®¾ç½®<code>tabItem</code>ï¼Œæœ€ç»ˆèƒ½å¤Ÿæ˜¾ç¤ºå‡ºæ¥çš„æ˜¯<code>Text(&quot;1&quot;)</code>å’Œ<code>Image(systemName: &quot;square.and.pencil&quot;)</code>ï¼Œæ‰€ä»¥tabItemåœ¨å®ç°çš„æ—¶å€™åº”è¯¥æ˜¯ä½¿ç”¨çš„å­è§†å›¾ä¸­çš„ç¬¬ä¸€æ®µæ–‡å­—å’Œç¬¬ä¸€å¼ å›¾ç‰‡ï¼Œä¸”ä¸è®ºæ–‡å­—å’Œå›¾ç‰‡çš„é¡ºåºå¦‚ä½•ï¼Œå®ƒä»¬æœ€ç»ˆå±•ç¤ºå‡ºæ¥çš„ä½ç½®éƒ½ä¸ä¼šå˜ã€‚</p><h1 id="è‡ªå®šä¹‰TabViewå¤–è§‚"><a href="#è‡ªå®šä¹‰TabViewå¤–è§‚" class="headerlink" title="è‡ªå®šä¹‰TabViewå¤–è§‚"></a>è‡ªå®šä¹‰<code>TabView</code>å¤–è§‚</h1><h2 id="ä¿®æ”¹tabViewçš„æ ·å¼"><a href="#ä¿®æ”¹tabViewçš„æ ·å¼" class="headerlink" title="ä¿®æ”¹tabViewçš„æ ·å¼"></a>ä¿®æ”¹tabViewçš„æ ·å¼</h2><p>ä½¿ç”¨<code>tabViewStyle</code>ä¿®æ”¹å™¨æ¥è®¾ç½®ä¸åŒçš„æ ·å¼å¯ä»¥è½»æ˜“æ»¡è¶³ä¸åŒçš„åœºæ™¯éœ€è¦ã€‚</p><table><thead><tr><th>TabViewStyle</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>DefaultTabViewStyle</td><td>é»˜è®¤æ ·å¼ï¼Œæ•ˆæœç±»ä¼¼UITabbarController</td></tr><tr><td>PageTabViewStyle</td><td>æ²¡æœ‰ä¸‹é¢çš„æ ‡ç­¾ï¼Œå¯ä»¥å·¦å³æ»šåŠ¨ï¼Œå¸¸è§äºæ–°é—»App</td></tr></tbody></table><p>ä½¿ç”¨æ–¹å¼ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TabView</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">.tabViewStyle(<span class="type">DefaultTabViewStyle</span>())</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®tabbarItemçš„é€‰ä¸­é¢œè‰²"><a href="#è®¾ç½®tabbarItemçš„é€‰ä¸­é¢œè‰²" class="headerlink" title="è®¾ç½®tabbarItemçš„é€‰ä¸­é¢œè‰²"></a>è®¾ç½®tabbarItemçš„é€‰ä¸­é¢œè‰²</h2><p>ä½¿ç”¨<code>accentColor()</code><a href="https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential#Modifer">ä¿®æ”¹å™¨</a>å¯ä»¥è®¾ç½®tabItemçš„é€‰ä¸­é¢œè‰²ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.tabItem &#123;</span><br><span class="line">    <span class="type">Label</span>(<span class="string">&quot;Menu&quot;</span>, systemImage: <span class="string">&quot;list.dash&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">.accentColor(.green)</span><br></pre></td></tr></table></figure><p><code>accentColor</code>æ˜¯è®¾ç½®Viewé«˜äº®é¢œè‰²çš„ä¿®æ”¹å™¨ï¼Œè®¾ç½®åtabItemåœ¨æœªé€‰ä¸­çŠ¶æ€ä¸‹æ˜¯ç°è‰²ï¼Œé€‰ä¸­åæ˜¯greenç»¿è‰²ã€‚</p><h2 id="å¯¼èˆªæ§åˆ¶å™¨éšè—TabBar"><a href="#å¯¼èˆªæ§åˆ¶å™¨éšè—TabBar" class="headerlink" title="å¯¼èˆªæ§åˆ¶å™¨éšè—TabBar"></a>å¯¼èˆªæ§åˆ¶å™¨éšè—TabBar</h2><h3 id="è‡ªåŠ¨éšè—åº•éƒ¨tabbar"><a href="#è‡ªåŠ¨éšè—åº•éƒ¨tabbar" class="headerlink" title="è‡ªåŠ¨éšè—åº•éƒ¨tabbar"></a>è‡ªåŠ¨éšè—åº•éƒ¨tabbar</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">    <span class="type">TabView</span>(selection: <span class="variable">$tabViewSelection</span>) &#123;</span><br><span class="line">        <span class="type">List</span>(<span class="number">1</span><span class="operator">...</span><span class="number">10</span>, id: \.<span class="keyword">self</span>) &#123;index <span class="keyword">in</span></span><br><span class="line">            <span class="type">NavigationLink</span>(</span><br><span class="line">                destination: <span class="type">Text</span>(<span class="string">&quot;Item <span class="subst">\(index)</span> Details&quot;</span>),</span><br><span class="line">                label: &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;Item <span class="subst">\(index)</span>&quot;</span>)</span><br><span class="line">                &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        .tabItem &#123;</span><br><span class="line">            <span class="type">Label</span>(<span class="string">&quot;Menu&quot;</span>, systemImage: <span class="string">&quot;list.dash&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        .accentColor(.blue)</span><br><span class="line">        .navigationTitle(<span class="string">&quot;Menu&quot;</span>)</span><br><span class="line">        .tag(<span class="number">0</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Second Page&quot;</span>)</span><br><span class="line">            .navigationTitle(<span class="string">&quot;Me&quot;</span>)</span><br><span class="line">            .tabItem &#123;</span><br><span class="line">                <span class="type">Label</span>(<span class="string">&quot;Me&quot;</span>, systemImage: <span class="string">&quot;square.and.pencil&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            .navigationTitle(<span class="string">&quot;Home&quot;</span>)</span><br><span class="line">            .accentColor(.red)</span><br><span class="line">            .tag(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .navigationTitle(tabViewSelection <span class="operator">==</span> <span class="number">0</span> <span class="operator">?</span> <span class="string">&quot;Home&quot;</span> : <span class="string">&quot;Me&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†TabViewåµŒå¥—åœ¨NavigationViewé‡Œé¢ä¹Ÿå°±æ˜¯è¯´TabViewæ•´ä½“ä½œä¸ºå¯¼èˆªæ ˆçš„é¦–é¡µï¼Œé€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥å®ç°åˆ‡æ¢åˆ°äºŒçº§é¡µé¢è‡ªåŠ¨éšè—åº•éƒ¨Tabbarçš„æ•ˆæœã€‚</p><p>ä¸è¿‡è¿™æ ·åšä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼šTabViewè¢«å½“ä½œä¸€ä¸ªé¡µé¢æ¥çœ‹å¾…ï¼Œé‚£ä¹ˆè®¾ç½®çš„<code>navigationTitle</code>ä¼šå¯¹æ•´ä¸ªTabViewç”Ÿæ•ˆï¼Œä¹Ÿå°±æ˜¯è¯´å½“åˆ‡æ¢tabItemçš„æ—¶å€™å¯¼èˆªæ æ ‡é¢˜ä¸ä¼šæ”¹å˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™é‡Œæ ¹æ®å½“å‰é€‰ä¸­çš„tabItemæ¥åˆ‡æ¢æ ‡é¢˜ã€‚å…³äºæ€ä¹ˆè·å–é€‰ä¸­çš„tabItemå’Œ<code>tag</code>çš„å†…å®¹æˆ‘ä»¬ä¸‹é¢å†è¯´ã€‚</p><h3 id="ä¸éšè—åº•éƒ¨tabbar"><a href="#ä¸éšè—åº•éƒ¨tabbar" class="headerlink" title="ä¸éšè—åº•éƒ¨tabbar"></a>ä¸éšè—åº•éƒ¨tabbar</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TabView</span> &#123;</span><br><span class="line">    <span class="type">NavigationView</span> &#123;</span><br><span class="line">        <span class="type">List</span>(<span class="number">1</span><span class="operator">...</span><span class="number">10</span>, id: \.<span class="keyword">self</span>) &#123;index <span class="keyword">in</span></span><br><span class="line">            <span class="type">NavigationLink</span>(</span><br><span class="line">                destination: <span class="type">Text</span>(<span class="string">&quot;Item <span class="subst">\(index)</span> Details&quot;</span>),</span><br><span class="line">                label: &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;Item <span class="subst">\(index)</span>&quot;</span>)</span><br><span class="line">                &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        .navigationTitle(<span class="string">&quot;Home&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .tabItem &#123;</span><br><span class="line">        <span class="type">Label</span>(<span class="string">&quot;Menu&quot;</span>, systemImage: <span class="string">&quot;list.dash&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">NavigationView</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Second Page&quot;</span>)</span><br><span class="line">            .navigationTitle(<span class="string">&quot;Me&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .tabItem &#123;</span><br><span class="line">        <span class="type">Label</span>(<span class="string">&quot;Me&quot;</span>, systemImage: <span class="string">&quot;square.and.pencil&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯ä¸€ä¸ªNavigationViewæ˜¯ä¸€ä¸ªTabItemï¼Œå½“navigationViewåˆ‡æ¢åˆ°äºŒçº§é¡µé¢æ—¶tabBarä»ç„¶ä¼šæ˜¾ç¤ºã€‚</p><p>å…³äºSwiftUIå¯¼èˆªæ ç›¸å…³çš„å†…å®¹å¯ä»¥æŸ¥çœ‹<a href="https://www.iosprogrammer.tech/swiftui/swiftui-navigate-get-start-tutorial">ä½ åº”è¯¥çŸ¥é“çš„ï¼å…³äºSwiftUIä¸­å¯¼èˆªæ çš„4ç‚¹çŸ¥è¯†</a>ã€‚</p><h1 id="TabViewé€‰ä¸­çš„tabItem"><a href="#TabViewé€‰ä¸­çš„tabItem" class="headerlink" title="TabViewé€‰ä¸­çš„tabItem"></a>TabViewé€‰ä¸­çš„tabItem</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">init</span>(selection: <span class="type">Binding</span>&lt;<span class="type">SelectionValue</span>&gt;?, <span class="meta">@ViewBuilder</span> content: () -&gt; <span class="type">Content</span>)</span><br></pre></td></tr></table></figure><p>åœ¨<code>TabView</code>çš„åˆå§‹åŒ–æ–¹æ³•ä¸­é™¤äº†contentä¹‹å¤–è¿˜æœ‰ä¸€ä¸ª<code>selection</code>å‚æ•°ï¼Œå®ƒçš„ç±»å‹æ˜¯<code>Bind&lt;SelectionValue&gt;</code>ï¼Œè¿™ç§ç±»å‹çš„å‚æ•°å¯ä»¥æ¥å—ä¸€ä¸ª<code>@State</code>ä¿®é¥°çš„å‚æ•°ï¼Œå…³äº@Stateå’Œå‚æ•°ç»‘å®šç›¸å…³çš„å†…å®¹å¯ä»¥æŸ¥çœ‹<a href="%5Bhttps%5D(https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential">å­¦ä¹ SwiftUIï¼Œå¿…é¡»æŒæ¡çš„3ä¸ªçŸ¥è¯†ç‚¹</a>ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> tabViewSelection <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="type">TabView</span>(selection: <span class="variable">$tabViewSelection</span>)</span><br></pre></td></tr></table></figure><p><code>tabViewSelection</code>æ˜¯ä¸€ä¸ªè¢«@Stateç»‘å®šçš„å˜é‡ï¼Œå°†å®ƒä¼ é€’ç»™TabViewçš„åˆå§‹åŒ–æ–¹æ³•ä¹‹åï¼Œå½“åˆ‡æ¢TabItemæ—¶è¯¥å˜é‡ä¼šè¢«ä¿®æ”¹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Button</span>(<span class="string">&quot;Go to Home&quot;</span>) &#123;</span><br><span class="line">    tabViewSelection <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®æ¥ä¿®æ”¹<code>tabViewSelection</code>å˜é‡çš„å€¼ï¼ŒtabViewè¢«é€‰ä¸­çš„tabItemå°±ä¼šæˆç¬¬0ä¸ªã€‚</p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬ä¸»è¦äº†è§£äº†tabViewçš„ç”¨æ³•å’Œæ€ä¹ˆä¿®æ”¹tabViewä»¥åŠtabItemçš„æ ·å¼ï¼Œä»¥åŠå…³äºç»‘å®štabViewé€‰ä¸­çš„itemçš„æ–¹æ³•ï¼Œç›¸ä¿¡ç°åœ¨ä½ å·²ç»å¯¹SwiftUIæ¡†æ¶ä¸­çš„tabViewæœ‰äº†ä¸€ä¸ªå…¨é¢çš„æŒæ¡ï¼Œèµ¶ç´§ç”¨èµ·æ¥å§ğŸ˜Š</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»å¤§å¤šæ•°Appçš„åº•éƒ¨éƒ½æœ‰Tabbaræ¥åˆ‡æ¢ä¸åŒçš„åŠŸèƒ½ï¼Œåœ¨UIKitæ¡†æ¶ä¸­ä½¿ç”¨&lt;code&gt;UITabbarController&lt;/code&gt;æ¥å®ç°è¿™æ ·çš„æ“ä½œï¼Œåˆ°äº†SwiftUIä¸­è¢«&lt;code&gt;TabView&lt;/code&gt;å–ä»£äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« æˆ‘ä»¬å°†å­¦ä¹ å…³äº&lt;code&gt;TabView&lt;/code&gt;çš„ä¸€äº›åŸºç¡€çŸ¥è¯†å’Œé«˜é˜¶ç”¨æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬è¿™å‡ ä¸ªä¸»è¦æ–¹é¢ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ€ä¹ˆåˆ›å»º&lt;code&gt;TabView&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TabView&lt;/code&gt;æ¯”&lt;code&gt;UITabbarController&lt;/code&gt;çš„ä¼˜åŠ¿&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰TabViewçš„å¤–è§‚&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    
    <category term="SwiftUI" scheme="http://www.iosprogrammer.tech/tags/SwiftUI/"/>
    
  </entry>
  
  <entry>
    <title>iOSé¡¹ç›®å›½é™…åŒ–å¯¹ã€åè¯å¤æ•°ã€‘çš„å¤„ç†æ–¹æ³•</title>
    <link href="http://www.iosprogrammer.tech/xcode/localized-noun-plural/"/>
    <id>http://www.iosprogrammer.tech/xcode/localized-noun-plural/</id>
    <published>2021-05-15T04:30:51.000Z</published>
    <updated>2021-05-16T12:13:26.927Z</updated>
    
    <content type="html"><![CDATA[<p>iOSé¡¹ç›®å›½é™…åŒ–è¿‡ç¨‹ä¸­å¯¹ã€åè¯å¤æ•°ã€‘çš„å¤„ç†æ–¹æ³•å’Œå¯¹å…¶ä»–æ–‡å­—çš„å¤„ç†æ–¹æ³•æœ‰äº›ä¸åŒä¹‹å¤„ï¼Œè¿™ç¯‡æ–‡ç« å°†ä»ä¸‹é¢å‡ ä¸ªæ–¹é¢è®²è§£ä¸€ä¸‹é¡¹ç›®ä¸­æ€ä¹ˆå¤„ç†åè¯å¤æ•°ã€‚</p><ol><li>ä»€ä¹ˆä¸èƒ½åƒå¯¹å…¶ä»–è¯­å¥ä¸€æ ·å¯¹åè¯å¤æ•°è¿›è¡Œå¤„ç†ï¼Ÿ</li><li><code>.stringsdict</code>æ–‡ä»¶çš„ä½¿ç”¨æ–¹æ³•å’Œè¯´æ˜</li></ol><a id="more"></a><p><img src="../../images/localize-noun-plural/first.png"></p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="é”™è¯¯çš„åè¯å¤æ•°å¤„ç†æ–¹å¼"><a href="#é”™è¯¯çš„åè¯å¤æ•°å¤„ç†æ–¹å¼" class="headerlink" title="é”™è¯¯çš„åè¯å¤æ•°å¤„ç†æ–¹å¼"></a>é”™è¯¯çš„åè¯å¤æ•°å¤„ç†æ–¹å¼</h1><p>iOSé¡¹ç›®å›½é™…åŒ–ä¸»è¦æ˜¯å¯¹é¡¹ç›®ä¸­ç”¨åˆ°çš„æ–‡å­—è¿›è¡Œæœ¬åœ°åŒ–è¯­è¨€å¤„ç†ï¼Œè¿™ä¸ªæ–¹é¢çš„çŸ¥è¯†åœ¨å‰é¢å‡ ç¯‡æ–‡ç« éƒ½æœ‰æ¶‰åŠï¼Œæ¯”å¦‚<a href="https://www.iosprogrammer.tech/xcode/international-user-facing-text/">è‹¹æœå®˜æ–¹çš„iOS Appå›½é™…åŒ–å·¥ä½œæµ</a>ã€<a href="https://www.iosprogrammer.tech/xcode/language-internalization-ib/">ä½¿ç”¨Xibä½¿Appå®Œæˆå›½é™…åŒ–åŠŸèƒ½</a>ã€‚</p><p>æ™®é€šæ–‡æœ¬å¯ä»¥å¤§è‡´çœ‹ä½œ1å¯¹1çš„ç¿»è¯‘ï¼Œæ¯”å¦‚è¯´â€œiOSå¼€å‘æ ˆâ€-&gt;â€œiOS developers stackâ€ï¼Œè¿™ç§ä¸€å¯¹ä¸€çš„ç¿»è¯‘é€šè¿‡<code>.strings</code>æ–‡ä»¶å¯ä»¥å¤„ç†ã€‚</p><p>åè¯å¤æ•°çš„å¤šè¯­è¨€å¤„ç†æ˜¯æ›´åŠ å¤æ‚çš„ç¿»è¯‘ï¼Œå› ä¸ºä¸åŒçš„è¯­è¨€å¯¹ä¸åŒæ•°é‡çš„è¡¨è¾¾æ–¹å¼éƒ½ä¸ä¸€æ ·ã€‚åˆ†åˆ«ä»¥è‹±æ–‡ã€ä¸­æ–‡è¡¨è¾¾ã€iOSå¼€å‘æ ˆã€‘å…¬ä¼—å·æœ‰å‡ ä¸ªç²‰ä¸ä¸ºä¾‹ï¼š</p><table><thead><tr><th>åè¯</th><th>æ•°é‡</th><th>è‹±æ–‡</th><th>ä¸­æ–‡</th></tr></thead><tbody><tr><td>Fan</td><td>0</td><td>There is none fan</td><td>æ²¡æœ‰ç²‰ä¸</td></tr><tr><td>Fan</td><td>1</td><td>There is one fan</td><td>æœ‰ä¸€ä¸ªç²‰ä¸</td></tr><tr><td>Fan</td><td>n(n&gt;1)</td><td>There are n fans</td><td>æœ‰nä¸ªç²‰ä¸</td></tr></tbody></table><blockquote><p>ä¸åŒè¯­è¨€å¯¹ä¸åŒæ•°é‡çš„è¡¨è¾¾å¯ä»¥å‚è€ƒ<a href="https://unicode-org.github.io/cldr-staging/charts/latest/supplemental/language_plural_rules.html">Language Plural Rules</a></p></blockquote><p>å¦‚æœè¦ç”¨<code>.strings</code>æ–‡ä»¶æ¥å¤„ç†åè¯å¤æ•°çš„è¯ï¼Œå¤§æ¦‚ä¼šå†™å‡ºè¿™æ ·çš„ä»£ç ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¼ªä»£ç  */</span></span><br><span class="line"><span class="keyword">let</span> fans <span class="operator">=</span> <span class="operator">...</span></span><br><span class="line"><span class="keyword">if</span> fans <span class="operator">==</span> <span class="number">0</span> &#123;</span><br><span class="line">    <span class="type">NSLocalizedString</span>(<span class="string">&quot;zero fans number of my offical account&quot;</span>, comment: <span class="string">&quot;The Fans Number of ã€ioså¼€å‘æ ˆã€‘is zero&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> fans <span class="operator">==</span> <span class="number">1</span> &#123;</span><br><span class="line">    <span class="type">NSLocalizedString</span>(<span class="string">&quot;one fans number of my offical account&quot;</span>, comment: <span class="string">&quot;The Fans Number of ã€ioså¼€å‘æ ˆã€‘is one&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="type">NSLocalizedString</span>(<span class="string">&quot;other fans number of my offical account&quot;</span>, comment: <span class="string">&quot;The Fans Number of ã€ioså¼€å‘æ ˆã€‘is other&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ¯ä¸ªç”¨åˆ°åè¯å¤æ•°çš„åœ°æ–¹éƒ½è¿™æ ·å†™çš„è¯ï¼Œé¡¹ç›®ä¸­å°±ä¼šå……æ–¥ç€è¿™ç§èƒ¶æ°´ä»£ç ï¼Œéå¸¸ä¸åˆ©äºç»´æŠ¤ã€‚ä¸ºäº†é¿å…è¿™ç§åšæ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨Xcodeè‡ªå¸¦çš„<code>.stringsdict</code>æ–‡ä»¶ã€‚</p><h1 id="stringsdict"><a href="#stringsdict" class="headerlink" title="stringsdict"></a>stringsdict</h1><p><code>.stringsdict</code>æ–‡ä»¶å°±æ˜¯ä¸“é—¨ç”¨æ¥å¤„ç†åè¯å¤æ•°çš„plistæ–‡ä»¶ã€‚</p><h2 id="åˆ›å»º-stringsdictæ–‡ä»¶"><a href="#åˆ›å»º-stringsdictæ–‡ä»¶" class="headerlink" title="åˆ›å»º.stringsdictæ–‡ä»¶"></a>åˆ›å»º<code>.stringsdict</code>æ–‡ä»¶</h2><div style="display:flex;justify-content:space-evenly;">    <img src="../../images/localize-noun-plural/create-stringsdict-1.png">    <img src="../../images/localize-noun-plural/create-stringsdict-2.png">    <img src="../../images/localize-noun-plural/create-stringsdict-3.png"></div><ol><li>åœ¨é¡¹ç›®ç›®å½•å³å‡»é€‰æ‹©New Fileæˆ–è€…ä½¿ç”¨å¿«æ·é”®âŒ˜+N</li><li>æ–°å»ºä¸€ä¸ªStringsdict File,å¹¶å‘½åä¸º<code>Localizable.stringsdict</code></li></ol><h2 id="stringsdictæ–‡ä»¶è§£æ"><a href="#stringsdictæ–‡ä»¶è§£æ" class="headerlink" title="stringsdictæ–‡ä»¶è§£æ"></a><code>stringsdict</code>æ–‡ä»¶è§£æ</h2><div style="display:flex;justify-content:space-evenly;">    <img src="../../images/localize-noun-plural/empty-stringsdict.png" alt="ç©ºçš„stringsdict">    <img src="../../images/localize-noun-plural/example-stringsdict.png" alt="å…¬ä¼—å·ç²‰ä¸æ•°stringdict"></div><p>å·¦è¾¹æ˜¯ä¸€ä¸ªç©ºçš„stringsdictæ–‡ä»¶ï¼Œå³è¾¹æ˜¯ç”¨å…¬ä¼—å·ç²‰ä¸æ•°ä¸ºä¾‹çš„stringsdictæ–‡ä»¶ã€‚</p><ul><li><code>Localized String Key</code>æ˜¯ä¸€ä¸ªæ–‡å­—å¸¸é‡,ç”¨åœ¨<code>NSLocalizedString</code>å®é‡Œé¢ç”¨æ¥åŒ¹é…å¤šè¯­è¨€ç¿»è¯‘ï¼Œå¦‚<code>NSLocalizedString(&quot;fans number of my official account&quot;, comment: &quot;The Fans Number of ã€ioså¼€å‘æ ˆã€‘&quot;)</code>ã€‚é¡¹ç›®ä¸­æœ‰å¤šå°‘ä¸ªéœ€è¦ç¿»è¯‘çš„åè¯å¤æ•°å°±è¦æœ‰å¤šå°‘ä¸ªLocalized String Keyã€‚</li><li><code>Localized Format Key</code>å¯¹åº”çš„æ˜¯åŒ…å«åè¯å¤æ•°çš„å¥å­ï¼Œå…¶ä¸­çš„æ•°å­—å’Œåè¯åœ¨<code>%#@</code>å’Œ<code>@</code>ä¸­é—´ã€‚</li><li><code>VARIABLE</code>ç”¨<code>%#@</code>å’Œ<code>@</code>ä¹‹é—´çš„ä»£æ›¿ã€‚è¿™æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå†…å®¹å°±æ˜¯VARIABLEåœ¨ä¸åŒæ•°é‡ä¸‹çš„è¡¨ç¤ºè§„åˆ™ã€‚<ul><li><code>NSStringFormatSpecTypeKey</code> æŒ‡å®šå¤æ•°è§„åˆ™çš„ç±»å‹ï¼Œå›ºå®šä¸º<code>NSStringPluralRuleType</code>è¡¨ç¤ºå¤æ•°è§„åˆ™ç±»å‹ã€‚</li><li><code>NSStringFormatValueTypeKey</code> ç”¨æ¥è¡¨ç¤ºä¸åŒçš„æ•°å­—ç±»å‹ï¼Œæ¯”æ–¹è¯´æ•´å‹æ˜¯%dï¼Œæ— ç¬¦å·æ•´å‹%uï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹<a href="https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFStrings/formatSpecifiers.html#//apple_ref/doc/uid/TP40004265">String Format Specifiers</a></li><li><code>zero</code>/<code>one</code>/<code>two</code>/<code>few,many</code>/<code>other</code> ä¸åŒæ•°é‡ä¸‹åè¯å¤æ•°çš„è¡¨ç°æ–¹å¼ï¼Œæœ‰äº›è¯­è¨€åªæœ‰å…¶ä¸­å‡ ä¸ªæ¯”å¦‚æ±‰è¯­åŸºæœ¬æ‰€æœ‰æ•°é‡éƒ½å¯ä»¥ç”¨ä¸€ç§æ–¹å¼æ¥è¡¨è¾¾ï¼ˆ1ä¸ªã€2ä¸ªã€100ä¸ªï¼‰ï¼Œè‹±è¯­æœ‰ä¸¤ç§ï¼ˆone fan/many fansï¼‰ï¼Œæ›´å¤šçš„è¯­è¨€å¯ä»¥æŸ¥çœ‹<a href="https://unicode-org.github.io/cldr-staging/charts/latest/supplemental/language_plural_rules.html">Language Plural Rules</a>ã€‚</li></ul></li></ul><h2 id="å®æˆ˜ç»éªŒ"><a href="#å®æˆ˜ç»éªŒ" class="headerlink" title="å®æˆ˜ç»éªŒ"></a>å®æˆ˜ç»éªŒ</h2><ol><li><code>Localized Format Key</code>æ˜¯ä¸€ä¸ªè¯­å¥ï¼Œå…¶ä¸­å¯ä»¥åŒ…å«1ä¸ªæˆ–1ä¸ªä»¥ä¸Šçš„å¤æ•°ï¼Œæ¯ä¸ªéƒ½ç”¨<code>%#@</code>å’Œ<code>@</code>åŒ…å›´ã€‚</li><li>æ¯å¢åŠ ä¸€ä¸ªéœ€è¦ç¿»è¯‘çš„åè¯å¤æ•°å°±è¦å¢åŠ ä¸€ä¸ª<code>Localized String Key</code>ã€‚</li><li>è®¾ç½®<code>.stringsdict</code>æ–‡ä»¶çš„å¤šè¯­è¨€<ol><li>ç‚¹å‡»<code>Localizable.stringsdict</code>æ–‡ä»¶</li><li>ç‚¹å‡»å³ä¸Šè§’æ–‡ä»¶æ£€è§†å™¨ï¼Œé€‰ä¸­ç¬¬ä¸€ä¸ªé€‰é¡¹<code>the File inspector</code></li><li>åœ¨Localizationä¸­å¢åŠ ã€å‡å°‘è¯­è¨€ã€‚</li></ol></li></ol><div style="display:flex;justify-content:space-evenly;">    <img src="../../images/localize-noun-plural/stringsdict-chinese.png" alt="ä¸­æ–‡">    <img src="../../images/localize-noun-plural/stringsdict-english.png" alt="è‹±æ–‡"></div><p>ä¸Šé¢æ˜¯åœ¨ä¸­è‹±æ–‡ä¸‹å¯¹<em>iOSå¼€å‘æ ˆæœ‰nä¸ªç²‰ä¸</em>å’Œ<em>iOSå¼€å‘æ ˆæœ‰nç¯‡æ–‡ç« å’Œmæ¬¡åˆ†äº«</em>çš„ç¿»è¯‘ã€‚å¯¹è¿™ä¸¤ä¸ªç¿»è¯‘çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fansNumLocalizableString <span class="operator">=</span> <span class="type">NSLocalizedString</span>(<span class="string">&quot;fans num in my offical account&quot;</span>, comment: <span class="string">&quot;The Fans Number of ã€ioså¼€å‘æ ˆã€‘&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> fanNumStr <span class="operator">=</span> <span class="type">String</span>.localizedStringWithFormat(fansNumLocalizableString, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> offcialAccountInfo <span class="operator">=</span> <span class="type">NSLocalizedString</span>(<span class="string">&quot;official account info&quot;</span>, comment: <span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> accountInfoStr <span class="operator">=</span> <span class="type">String</span>.localizedStringWithFormat(offcialAccountInfo, <span class="number">10</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>é€šè¿‡è¿™ç¯‡æ–‡ç« æˆ‘ä»¬äº†è§£äº†ä¸ºä»€ä¹ˆè¦å¯¹åè¯å¤æ•°çš„å›½é™…åŒ–è¿›è¡Œå•ç‹¬å¤„ç†ï¼Œå’Œstringsdictæ–‡ä»¶çš„ç”¨æ³•ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹åè¯å¤æ•°çš„å›½é™…åŒ–æœ‰æ‰€äº†è§£ï¼Œç°åœ¨å°±å»åŠ¨æ‰‹è¯•è¯•å§ï½</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;iOSé¡¹ç›®å›½é™…åŒ–è¿‡ç¨‹ä¸­å¯¹ã€åè¯å¤æ•°ã€‘çš„å¤„ç†æ–¹æ³•å’Œå¯¹å…¶ä»–æ–‡å­—çš„å¤„ç†æ–¹æ³•æœ‰äº›ä¸åŒä¹‹å¤„ï¼Œè¿™ç¯‡æ–‡ç« å°†ä»ä¸‹é¢å‡ ä¸ªæ–¹é¢è®²è§£ä¸€ä¸‹é¡¹ç›®ä¸­æ€ä¹ˆå¤„ç†åè¯å¤æ•°ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»€ä¹ˆä¸èƒ½åƒå¯¹å…¶ä»–è¯­å¥ä¸€æ ·å¯¹åè¯å¤æ•°è¿›è¡Œå¤„ç†ï¼Ÿ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.stringsdict&lt;/code&gt;æ–‡ä»¶çš„ä½¿ç”¨æ–¹æ³•å’Œè¯´æ˜&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    
    <category term="Xcode" scheme="http://www.iosprogrammer.tech/tags/Xcode/"/>
    
    <category term="å›½é™…åŒ–" scheme="http://www.iosprogrammer.tech/tags/%E5%9B%BD%E9%99%85%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>iOSé¡¹ç›®å…¥å£çš„æ¼”å˜è¿‡ç¨‹ï¼ˆ2021ï¼‰</title>
    <link href="http://www.iosprogrammer.tech/ios/application-entry-point-changes/"/>
    <id>http://www.iosprogrammer.tech/ios/application-entry-point-changes/</id>
    <published>2021-05-05T13:47:33.000Z</published>
    <updated>2021-05-10T05:42:05.788Z</updated>
    
    <content type="html"><![CDATA[<p><code>UISceneDelegate</code>æ˜¯ä»€ä¹ˆï¼Œå®ƒå’Œ<code>AppDelegate</code>æœ‰ä»€ä¹ˆå…³ç³»ï¼ŒSwiftä¸­çš„<code>@main</code>åˆæ˜¯ä»€ä¹ˆï¼Œæœ¬æ–‡å°†å¸¦ä½ ä¸€ä¸€äº†è§£ã€‚</p><p>è¿™ç¯‡æ–‡ç« å°†ä¸»è¦è®²è§£ä¸‹é¢å‡ ç‚¹å†…å®¹ï¼š</p><ol><li>iOS13ä¹‹å‰çš„<code>AppDelegate</code>å¯åŠ¨é¡¹ç›®çš„æµç¨‹</li><li><code>UISceneDelegate</code>çš„å¤šçª—å£å®ç°é€»è¾‘</li><li><code>UISceneDelegate</code>å’Œ<code>AppDelegate</code>çš„å…³ç³»</li><li><code>int main()</code>å’Œ<code>@main</code></li></ol><a id="more"></a><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><p><img src="../../images/scene-delegate/first.png"></p><h1 id="å•Windowçš„AppDelegate"><a href="#å•Windowçš„AppDelegate" class="headerlink" title="å•Windowçš„AppDelegate"></a>å•Windowçš„AppDelegate</h1><p>åœ¨iOS13ä¹‹å‰iPhoneä¸Šçš„é¡¹ç›®éƒ½æ˜¯å•windowsçš„ï¼ŒAppDelegateä¸­çš„<code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions</code>å°±æ˜¯iOSé¡¹ç›®å¯åŠ¨åç¬¬ä¸€ä¸ªä¼šè¢«è°ƒç”¨çš„å‡½æ•°ã€‚</p><h2 id="çº¯ä»£ç åœ¨AppDelegateä¸­å¯åŠ¨App"><a href="#çº¯ä»£ç åœ¨AppDelegateä¸­å¯åŠ¨App" class="headerlink" title="çº¯ä»£ç åœ¨AppDelegateä¸­å¯åŠ¨App"></a>çº¯ä»£ç åœ¨AppDelegateä¸­å¯åŠ¨App</h2><p>AppDelegateä¸­æœ‰ä¸€ä¸ª<code>window</code>å±æ€§ï¼Œéœ€è¦è‡ªå·±æ¥ç»™windowsæŒ‡å®šä¸€ä¸ª<code>rootViewController</code>ï¼Œåœ¨ä¸ä½¿ç”¨storyboardæˆ–è€…xibçš„æƒ…å†µä¸‹ï¼Œæœ€ç®€å•çš„AppDelegateä»£ç å¤§æ¦‚æ˜¯ä¸‹é¢è¿™æ ·å­ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// AppDelegate.h</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AppDelegate</span> : <span class="title">UIResponder</span> &lt;<span class="title">UIApplicationDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">UIWindow</span> *window;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// AppDelegate.m</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">&quot;AppDelegate.h&quot;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&quot;ViewController.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AppDelegate</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AppDelegate</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions &#123;</span><br><span class="line">    <span class="comment">// Override point for customization after application launch.</span></span><br><span class="line">    <span class="keyword">self</span>.window = [[<span class="built_in">UIWindow</span> alloc] initWithFrame:[<span class="built_in">UIScreen</span> mainScreen].bounds];</span><br><span class="line">    <span class="keyword">self</span>.window.rootViewController = [[ViewController alloc] init];</span><br><span class="line">    <span class="keyword">self</span>.window.backgroundColor = [<span class="built_in">UIColor</span> whiteColor];</span><br><span class="line">    [<span class="keyword">self</span>.window makeKeyAndVisible];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><p><code>AppDelegate</code>éµå®ˆäº†<code>UIApplicationDelegate</code>åè®®ï¼Œå…¶ä¸­windowæ˜¯åè®®é‡Œè§„å®šçš„ä¸€ä¸ªå±æ€§ï¼Œæ‰€ä»¥è¿™é‡Œå¿…é¡»åœ¨.hä¸­å£°æ˜è¿™ä¸ªå±æ€§ï¼Œå¦åˆ™ä¼šæŠ¥é”™<mark class="label danger">-[AppDelegate setWindow:]: unrecognized selector sent to instance</mark>ï¼›è€Œå¦‚æœæ”¾åœ¨.mä¸­ä¼šæŠ¥é‡å¤å£°æ˜çš„é”™è¯¯<mark class="label danger">Illegal redeclaration of property in class extension AppDelegate (attribute must be readwrite, while its primary must be readonly)</mark>ã€‚</p><p>åœ¨<code>didFinishLaunchingWithOptions</code>ä¸­åˆå§‹åŒ–windowå¹¶è®¾ç½®å®ƒçš„<code>rootViewController</code>ä¹‹åè°ƒç”¨<code>makeKeyAndVisible</code>ã€‚</p><h2 id="Storyboardåœ¨AppDelegateä¸­å¯åŠ¨App"><a href="#Storyboardåœ¨AppDelegateä¸­å¯åŠ¨App" class="headerlink" title="Storyboardåœ¨AppDelegateä¸­å¯åŠ¨App"></a>Storyboardåœ¨AppDelegateä¸­å¯åŠ¨App</h2><p>å¦‚æœæ˜¯ä½¿ç”¨storyboardä½œä¸ºé¡¹ç›®å…¥å£çš„è¯ï¼ŒAppDelegateå°±æ›´ç®€å•äº†ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœé¡¹ç›®æ˜¯ä½¿ç”¨Xcode11åˆ›å»ºçš„é‚£ä¹ˆè¦æƒ³è¯•éªŒè¿™ç§æ–¹æ³•éœ€è¦ 1. åˆ é™¤info.plistä¸­çš„<code>Application Scene Manifest</code> 2. åˆ é™¤<code>SceneDelegate.h</code>å’Œ<code>SceneDelegate.m</code> 3. åˆ é™¤<code>AppDelegate.m</code>ä¸­çš„ä¸¤ä¸ªSceneDelegateç›¸å…³å‡½æ•°<code>application(_:configurationForConnecting:options:)</code>å’Œ<code>application(_:didDiscardSceneSessions:)</code> 4. æ­¤æ—¶Xcodeä¸ä¼šè‡ªåŠ¨ä»Main.storyboardåŠ è½½è§†å›¾ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä¿®æ”¹<code>didFinishLaunchingWithOptions</code>æ¥å±•ç¤ºç•Œé¢ã€‚</p></blockquote><h1 id="SceneDelegate"><a href="#SceneDelegate" class="headerlink" title="SceneDelegate"></a>SceneDelegate</h1><p>ä»Xcode11å¼€å§‹ï¼Œåˆ›å»ºæ–°çš„iOSé¡¹ç›®çš„æ¨¡ç‰ˆä¸­ä¼šå¸¦æœ‰<code>SceneDelegate</code>ç±»ï¼Œå¹¶ä¸”åœ¨plistæ–‡ä»¶ä¸­ä¼šæœ‰ä¸€ä¸ª<code>Application Scene Manifest</code>é…ç½®ï¼Œ<code>AppDelegate.m</code>ä¸­æ–°å¢äº†ä¸¤ä¸ªç®¡ç†SceneDelegateçš„å‡½æ•°<code>application(_:configurationForConnecting:options:)</code>å’Œ<code>application(_:didDiscardSceneSessions:)</code>ã€‚</p><h2 id="iOSåº”ç”¨çš„è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸå’ŒUIç”Ÿå‘½å‘¨æœŸ"><a href="#iOSåº”ç”¨çš„è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸå’ŒUIç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="iOSåº”ç”¨çš„è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸå’ŒUIç”Ÿå‘½å‘¨æœŸ"></a>iOSåº”ç”¨çš„è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸå’ŒUIç”Ÿå‘½å‘¨æœŸ</h2><p>Appçš„è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬Appå¯åŠ¨ã€Appç»ˆæ­¢ç­‰ï¼Œä¸»è¦æ¶‰åŠçš„åè®®æœ‰ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* UIApplicationDelegate */</span></span><br><span class="line">- (<span class="keyword">void</span>)applicationDidFinishLaunching:(<span class="built_in">UIApplication</span> *)application;</span><br><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application willFinishLaunchingWithOptions:(<span class="keyword">nullable</span> <span class="built_in">NSDictionary</span>&lt;<span class="built_in">UIApplicationLaunchOptionsKey</span>, <span class="keyword">id</span>&gt; *)launchOptions API_AVAILABLE(ios(<span class="number">6.0</span>));</span><br><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="keyword">nullable</span> <span class="built_in">NSDictionary</span>&lt;<span class="built_in">UIApplicationLaunchOptionsKey</span>, <span class="keyword">id</span>&gt; *)launchOptions API_AVAILABLE(ios(<span class="number">3.0</span>));</span><br><span class="line">- (<span class="keyword">void</span>)applicationWillTerminate:(<span class="built_in">UIApplication</span> *)application;</span><br></pre></td></tr></table></figure><p>Appé€€åˆ°åå°æˆ–è€…é‡æ–°è¿›å…¥å‰å°çš„è¿‡ç¨‹å±äºUIç”Ÿå‘½å‘¨æœŸï¼Œå…¶ä¸­ä¸»è¦æ¶‰åŠçš„åè®®æœ‰ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* UIApplicationDelegate */</span></span><br><span class="line">- (<span class="keyword">void</span>)applicationDidBecomeActive:(<span class="built_in">UIApplication</span> *)application;</span><br><span class="line">- (<span class="keyword">void</span>)applicationWillResignActive:(<span class="built_in">UIApplication</span> *)application;</span><br></pre></td></tr></table></figure><h2 id="SceneDelegateæ˜¯ä»€ä¹ˆ"><a href="#SceneDelegateæ˜¯ä»€ä¹ˆ" class="headerlink" title="SceneDelegateæ˜¯ä»€ä¹ˆ"></a>SceneDelegateæ˜¯ä»€ä¹ˆ</h2><p><img src="../../images/scene-delegate/ios12-appdelegate.png" alt="iOS12ä¹‹å‰AppDelegateçš„ä½œç”¨"></p><p>åœ¨iOS13ä¹‹å‰ï¼ŒiOSé¡¹ç›®åªæœ‰ä¸€ä¸ªä¸»Windowï¼Œé‚£æ—¶å€™çš„è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸå’ŒUIç”Ÿå‘½å‘¨æœŸéƒ½åœ¨<code>APPDelegate</code>ä¸­è¿›è¡Œç®¡ç†ã€‚</p><p>åœ¨iOS13ä¹‹åï¼Œä¸ºäº†å¢å¼ºiOSé¡¹ç›®çš„å¯ç”¨æ€§ä¸€ä¸ªAppå¯ä»¥æœ‰å¤šä¸ªwindowæ¥æ˜¾ç¤ºä¸åŒæˆ–ç›¸åŒçš„å†…å®¹ã€‚åŒå‡»è®¾å¤‡çš„Homeé”®åæ¯ä¸€ä¸ªwindowä¼šç‹¬ç«‹å±•ç¤ºã€‚</p><p><img src="../../images/scene-delegate/sample-image.png" alt="sceneDelegateç¤ºä¾‹"></p><p><strong>å¤šçª—å£ç‰¹æ€§åªæœ‰åœ¨iPadä¸Šæ‰å¯ä»¥ç”¨</strong>ï¼ŒiPhoneä¸Šé¢æ˜¯ä¸è¡Œçš„ã€‚å…·ä½“çš„ä½¿ç”¨æ–¹æ³•å’Œä¾‹å­å¯ä»¥æŸ¥çœ‹è¿™ç¯‡<a href="https://developer.apple.com/documentation/uikit/uiscenedelegate/supporting_multiple_windows_on_ipad">è‹¹æœçš„å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><p>ä¸ºäº†ç®¡ç†ä¸åŒçª—å£çš„ç”Ÿå‘½å‘¨æœŸï¼Œè‹¹æœæ·»åŠ äº†<code>UIWindowSceneDelegate</code>åè®®ï¼Œè€Œ<code>SceneDelegate</code>ç±»å®ç°äº†è¿™ä¸ªåè®®çš„æ–¹æ³•ï¼Œå› æ­¤<strong>SceneDelegateç±»æ˜¯ç”¨æ¥ç®¡ç†iOSåº”ç”¨çª—å£çš„ç”Ÿå‘½å‘¨æœŸçš„</strong>ï¼Œä¹Ÿå°±æ˜¯åº”ç”¨ç•Œé¢çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><h2 id="SceneDelegateå’ŒAppDelegateçš„å…³ç³»"><a href="#SceneDelegateå’ŒAppDelegateçš„å…³ç³»" class="headerlink" title="SceneDelegateå’ŒAppDelegateçš„å…³ç³»"></a>SceneDelegateå’ŒAppDelegateçš„å…³ç³»</h2><p>åœ¨æ¨å‡º<code>SceneDelegate</code>ä¹‹å‰ï¼Œæ•´ä¸ªåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸå’ŒUIç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯ä¾èµ–AppDelegateè¿›è¡Œç®¡ç†ï¼Œåœ¨è¿™ä¹‹åï¼ŒUIç”Ÿå‘½å‘¨æœŸäº¤ç»™äº†SceneDelegateæ¥ç®¡ç†ï¼Œè€ŒAppDelegateå°±ç”¨æ¥ç®¡ç†åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸå’ŒSceneDelegateçš„ç”Ÿå‘½å‘¨æœŸã€‚</p><p><img src="../../images/scene-delegate/appdelegate-scenedelegate.png" alt="AppDelegateå’ŒSceneDelegateçš„å…³ç³»"></p><p>Appçš„å¯åŠ¨å’Œæ€æ­»çš„å›è°ƒä»ç„¶åœ¨AppDelegateä¸­ï¼Œé™¤æ­¤ä¹‹å¤–åœ¨åˆ›å»ºiOSé¡¹ç›®çš„æ¨¡ç‰ˆä¸­ï¼ŒAppDelegateä¸­å¢åŠ äº†å¯¹SceneDelegateç®¡ç†çš„ä¸¤ä¸ªæ–¹æ³•ï¼š</p><ul><li><code>application:configurationForConnectingSceneSession:options:</code> å½“çª—å£å»ºç«‹æ—¶ä¼šè¢«è°ƒç”¨ã€‚</li><li><code>application:didDiscardSceneSessions:sceneSessions</code>ã€‚ å½“çª—å£è¢«æ°¸ä¹…é”€æ¯æ—¶è¢«è°ƒç”¨</li></ul><p>SceneDelegateä¸­å¯¹Appçš„æŸä¸ªçª—å£çš„åŠ¨ä½œè¿›è¡Œç®¡ç†ï¼š</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>scene:willConnectToSession:options:connectionOptions</code></td><td><code>sceneDidDisconnect:</code></td></tr><tr><td><code>sceneDidBecomeActive:</code></td><td><code>sceneWillResignActive:</code></td></tr><tr><td><code>sceneWillEnterForeground:</code></td><td><code>sceneDidEnterBackground:</code></td></tr></tbody></table><p>è¿™é‡Œçš„æ–¹æ³•éƒ½æ˜¯å¯¹ç§°å‡ºç°çš„ï¼ŒåŸºæœ¬ä¹Ÿéƒ½æ˜¯å’Œä¹‹å‰åœ¨AppDelegateä¸­çš„ç›¸å…³åŠŸèƒ½çš„æ–¹æ³•å¾ˆç±»ä¼¼ã€‚</p><p><strong>SceneDelegateæ‰¿æ¥äº†éƒ¨åˆ†AppDelegateçš„åŠŸèƒ½ï¼Œè€ŒAppDelegateé‡ç‚¹ç”¨æ¥å¯¹åº”ç”¨ç”Ÿå‘½å‘¨æœŸå°±è¿›è¡Œç®¡ç†ï¼ŒSceneDelegateç”¨æ¥ç®¡ç†UIç”Ÿå‘½å‘¨æœŸã€‚</strong></p><h1 id="int-main-å’Œ-main"><a href="#int-main-å’Œ-main" class="headerlink" title="int main()å’Œ@main"></a><code>int main()</code>å’Œ<code>@main</code></h1><p>åœ¨Objcé¡¹ç›®ä¸­å­˜åœ¨ä¸€ä¸ª<code>main.m</code>æ–‡ä»¶ï¼Œé‡Œé¢çš„mainå‡½æ•°æ˜¯é¡¹ç›®çš„å¯åŠ¨å‡½æ•°ã€‚</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="built_in">NSString</span> * appDelegateClassName;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        <span class="comment">// Setup code that might create autoreleased objects goos here.</span></span><br><span class="line">        appDelegateClassName = <span class="built_in">NSStringFromClass</span>([AppDelegate <span class="keyword">class</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">UIApplicationMain</span>(argc, argv, <span class="literal">nil</span>, appDelegateClassName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨Swiftä¸­ï¼Œé¡¹ç›®å…¥å£ä½¿ç”¨<code>@main</code>ä½œä¸ºæ ‡è®°ï¼Œä½œç”¨å’Œä¸Šé¢çš„Cè¯­è¨€å‡½æ•°æ˜¯ä¸€æ ·çš„ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* AppDelegate.swift */</span></span><br><span class="line"><span class="keyword">@main</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppDelegate</span></span></span><br></pre></td></tr></table></figure><p>é€šè¿‡æ·»åŠ <code>@main</code>æ ‡è®°ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆé¡¹ç›®å…¥å£ç›¸å…³ä»£ç ï¼Œå¹¶æŠŠ<code>AppDelegate</code>çš„ç±»åä¼ é€’è¿›å»ã€‚</p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ç¯‡æ–‡ç« æˆ‘ä»¬å¯¹iOSé¡¹ç›®çš„å¯åŠ¨å…¥å£è¿›è¡Œäº†ä¸€æ¬¡å›é¡¾å’Œæ·±å…¥äº†è§£ï¼Œç›¸ä¿¡ä½ å¯¹iOSé¡¹ç›®çš„å‘å±•æœ‰äº†ä¸€ä¸ªæ›´åŠ æ¸…æ™°çš„è®¤è¯†ã€‚</p><p>æ„Ÿè°¢ä½ çš„é˜…è¯»ğŸ’—ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;code&gt;UISceneDelegate&lt;/code&gt;æ˜¯ä»€ä¹ˆï¼Œå®ƒå’Œ&lt;code&gt;AppDelegate&lt;/code&gt;æœ‰ä»€ä¹ˆå…³ç³»ï¼ŒSwiftä¸­çš„&lt;code&gt;@main&lt;/code&gt;åˆæ˜¯ä»€ä¹ˆï¼Œæœ¬æ–‡å°†å¸¦ä½ ä¸€ä¸€äº†è§£ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« å°†ä¸»è¦è®²è§£ä¸‹é¢å‡ ç‚¹å†…å®¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;iOS13ä¹‹å‰çš„&lt;code&gt;AppDelegate&lt;/code&gt;å¯åŠ¨é¡¹ç›®çš„æµç¨‹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UISceneDelegate&lt;/code&gt;çš„å¤šçª—å£å®ç°é€»è¾‘&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UISceneDelegate&lt;/code&gt;å’Œ&lt;code&gt;AppDelegate&lt;/code&gt;çš„å…³ç³»&lt;/li&gt;
&lt;li&gt;&lt;code&gt;int main()&lt;/code&gt;å’Œ&lt;code&gt;@main&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    
    <category term="iOS" scheme="http://www.iosprogrammer.tech/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>æ¨èï¼iOSåº”ç”¨ä½¿ç”¨Assets.xcassetsè¿›è¡Œå›¾ç‰‡å›½é™…åŒ–çš„2ç§æ–¹æ³•</title>
    <link href="http://www.iosprogrammer.tech/xcode/localize-images/"/>
    <id>http://www.iosprogrammer.tech/xcode/localize-images/</id>
    <published>2021-05-01T06:38:38.000Z</published>
    <updated>2021-05-01T09:52:27.955Z</updated>
    
    <content type="html"><![CDATA[<p>iOSåº”ç”¨çš„å›½é™…åŒ–é™¤äº†æ–‡å­—ä»¥å¤–è¿˜éœ€è¦å¯¹ä¸€äº›æœ¬åœ°ä½¿ç”¨çš„èµ„æºè¿›è¡Œå›½é™…åŒ–ï¼Œè¿™ç¯‡æ–‡ç« å°†åˆ†äº«ä¸€äº›å…³äºImageå›¾ç‰‡å›½é™…åŒ–çš„æ–¹æ¡ˆã€‚</p><p>ä¸»è¦åŒ…æ‹¬iOSåº”ç”¨å›¾ç‰‡å›½é™…åŒ–æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p><ol><li>Assets.xcassetsä¸­åŒä¸€ä¸ªImageSetåŒ…å«ä¸åŒçš„æœ¬åœ°åŒ–å›¾ç‰‡</li><li>ä½¿ç”¨åç§°ä¸åŒçš„ImageSet</li></ol><a id="more"></a><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><p><img src="../../images/image-localize/first.png"></p><h1 id="åŒä¸€ä¸ªImageSetåŒ…å«ä¸åŒçš„æœ¬åœ°åŒ–å›¾ç‰‡"><a href="#åŒä¸€ä¸ªImageSetåŒ…å«ä¸åŒçš„æœ¬åœ°åŒ–å›¾ç‰‡" class="headerlink" title="åŒä¸€ä¸ªImageSetåŒ…å«ä¸åŒçš„æœ¬åœ°åŒ–å›¾ç‰‡"></a>åŒä¸€ä¸ªImageSetåŒ…å«ä¸åŒçš„æœ¬åœ°åŒ–å›¾ç‰‡</h1><p><img src="../../images/image-localize/1.png" alt="iOSå›¾ç‰‡æœ¬åœ°åŒ–è®¾ç½®"></p><p>æŒ‰ç…§æ­£å¸¸æµç¨‹æŠŠä¸€å¼ pngå›¾ç‰‡æ·»åŠ åˆ°Assets.xcassetsä¸­ä»¥åï¼Œé€‰ä¸­å…¶ä¸­ä»»æ„ä¸€å¼ å›¾ç‰‡ç„¶åå°±å¯ä»¥åœ¨Inspectorçš„ç¬¬å››æ Attribute Inspectorä¸­çœ‹åˆ°<strong>Localization</strong>é€‰é¡¹ï¼Œç‚¹å‡»åä¼šå‡ºç°é¡¹ç›®ä¸­å·²ç»å›½é™…åŒ–çš„è¯­è¨€ã€‚<em>ï¼ˆæ·»åŠ è¯­è¨€çš„æ–¹æ³•å¯ä»¥æŸ¥çœ‹<a href="https://www.iosprogrammer.tech/xcode/language-internalization-ib/#%E5%AE%8C%E6%95%B4%E4%BA%86%E8%A7%A3%E5%9B%BD%E9%99%85%E5%8C%96%E6%AD%A5%E9%AA%A4">å®Œæ•´äº†è§£å›½é™…åŒ–æ­¥éª¤</a>ï¼‰</em></p><p>åœ¨<em>Localization</em>ä¸­é€‰ä¸­çš„è¯­è¨€å°±æ˜¯è¦å•ç‹¬è®¾ç½®å›¾ç‰‡çš„è¯­è¨€ï¼Œå¦‚æœå•ç‹¬è®¾ç½®çš„è¯­è¨€å›¾ç‰‡æ˜¯ç©ºçš„å°±ä¼šè‡ªåŠ¨é€‰æ‹©ç”¨ç¬¬ä¸€ä¸ªï¼ˆUniversalï¼‰çš„å›¾ç‰‡ã€‚</p><p>æˆ‘çš„è¿™ä¸ªé¡¹ç›®é‡Œæœ‰ç®€ä½“ä¸­æ–‡å’Œè‹±æ–‡ä¸¤ç§è¯­è¨€ï¼Œå¹¶ä¸”å¯¹avatarè¿™ä¸ªå›¾ç‰‡çš„ä¸­æ–‡è®¾ç½®äº†å•ç‹¬å›¾ç‰‡ã€‚å½“æˆ‘åœ¨è®¾ç½®ä¸­åˆ‡æ¢ç®€ä½“ä¸­æ–‡å’Œè‹±æ–‡æ—¶å›¾ç‰‡å°±ä¼šè¢«åˆ‡æ¢äº†ã€‚</p><h1 id="ä½¿ç”¨åç§°ä¸åŒçš„ImageSet"><a href="#ä½¿ç”¨åç§°ä¸åŒçš„ImageSet" class="headerlink" title="ä½¿ç”¨åç§°ä¸åŒçš„ImageSet"></a>ä½¿ç”¨åç§°ä¸åŒçš„ImageSet</h1><p>åœ¨Assets.xcassetsä¸­åˆ†åˆ«åˆ›å»ºä¸¤ä¸ªImageSetï¼Œç„¶ååœ¨ImageNamedä¸­ä½¿ç”¨NSLocalizedStringæ¥è®¾ç½®å›¾ç‰‡åå­—ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">avatarImageView.image <span class="operator">=</span> <span class="type">UIImage</span>(named: <span class="type">NSLocalizedString</span>(<span class="string">&quot;avatarImageName&quot;</span>, comment: <span class="string">&quot;This is the avatar image&#x27;s name&quot;</span>))</span><br></pre></td></tr></table></figure><p><code>NSLocalizedString()</code>å®ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¤šè¯­è¨€çš„keyï¼Œè€Œcommentæ˜¯ç”¨æ¥ç”Ÿæˆå¤šè¯­è¨€æ³¨é‡Šçš„ï¼Œæ›´æ·±å…¥çš„äº†è§£å¯ä»¥æŸ¥çœ‹<a href="https://www.iosprogrammer.tech/xcode/international-user-facing-text/#%E6%A0%87%E8%AE%B0%E9%9C%80%E8%A6%81%E6%9C%AC%E5%9C%B0%E5%8C%96%E7%9A%84%E6%96%87%E6%9C%AC">æ ‡è®°éœ€è¦æœ¬åœ°åŒ–çš„æ–‡æœ¬</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Localization.strings(English)</span><br><span class="line">&quot;avatarImageName&quot; &#x3D; &quot;avatar-en&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Localization.strings((Chinese, Simplified))</span><br><span class="line">&quot;avatarImageName&quot; &#x3D; &quot;avatar-ch&quot;;</span><br></pre></td></tr></table></figure><p>åˆ†åˆ«åœ¨ä¸­æ–‡ç®€ä½“å’Œè‹±æ–‡çš„Localization.stringsçš„å¤šè¯­è¨€æ–‡ä»¶ä¸­æ·»åŠ å¯¹åº”çš„å›¾ç‰‡æ–‡ä»¶åã€‚</p><p>ä¹‹ååˆ†åˆ«åœ¨ä¸åŒçš„è¯­è¨€ç¯å¢ƒä¸‹è¿è¡Œé¡¹ç›®å°±å¯ä»¥çœ‹åˆ°ä¸åŒçš„å›¾ç‰‡äº†ã€‚</p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>é€šè¿‡ä¸Šé¢çš„2ç§æ–¹æ³•å¯ä»¥å°†å›¾ç‰‡è¿›è¡Œæœ¬åœ°åŒ–å¤„ç†ï¼Œå…¶ä¸­ç¬¬äºŒç§æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨äº<code>UIImage(contentsOfFile:)</code>æ–¹æ³•ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;iOSåº”ç”¨çš„å›½é™…åŒ–é™¤äº†æ–‡å­—ä»¥å¤–è¿˜éœ€è¦å¯¹ä¸€äº›æœ¬åœ°ä½¿ç”¨çš„èµ„æºè¿›è¡Œå›½é™…åŒ–ï¼Œè¿™ç¯‡æ–‡ç« å°†åˆ†äº«ä¸€äº›å…³äºImageå›¾ç‰‡å›½é™…åŒ–çš„æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;ä¸»è¦åŒ…æ‹¬iOSåº”ç”¨å›¾ç‰‡å›½é™…åŒ–æœ‰ä¸¤ç§æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Assets.xcassetsä¸­åŒä¸€ä¸ªImageSetåŒ…å«ä¸åŒçš„æœ¬åœ°åŒ–å›¾ç‰‡&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åç§°ä¸åŒçš„ImageSet&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    
    <category term="Xcode" scheme="http://www.iosprogrammer.tech/tags/Xcode/"/>
    
    <category term="å›½é™…åŒ–" scheme="http://www.iosprogrammer.tech/tags/%E5%9B%BD%E9%99%85%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>ä½ åº”è¯¥çŸ¥é“çš„ï¼å…³äºSwiftUIä¸­å¯¼èˆªæ çš„4ç‚¹çŸ¥è¯†</title>
    <link href="http://www.iosprogrammer.tech/swiftui/swiftui-navigate-get-start-tutorial/"/>
    <id>http://www.iosprogrammer.tech/swiftui/swiftui-navigate-get-start-tutorial/</id>
    <published>2021-04-23T00:44:11.000Z</published>
    <updated>2021-04-23T07:54:35.832Z</updated>
    
    <content type="html"><![CDATA[<p>å¾—ç›ŠäºSwiftUIçš„å£°æ˜å¼ç¼–ç¨‹æ–¹å¼è¿›è¡Œé¡µé¢åˆ‡æ¢æ˜¯éå¸¸æ–¹ä¾¿çš„ï¼Œè¿™ç¯‡æ–‡ç« å°†å¯¹SwiftUIä¸­çš„å¯¼èˆªåŠŸèƒ½è¿›è¡Œä¸€ä¸ªå…¨é¢çš„äº†è§£ï¼Œä¸»è¦ä¼šæ¶‰åŠåˆ°è¿™å‡ ä¸ªæ–¹é¢ï¼š</p><ol><li>NavigatinViewçš„ä½¿ç”¨æ–¹æ³•ä»¥åŠå¯¹åº”APIçš„è®²è§£</li><li>NavigationLinkçš„ä½¿ç”¨æ–¹æ³•</li><li>å®ç°POPä¼šä¸Šä¸€çº§é¡µé¢çš„æ•ˆæœ</li><li>Xcode12çš„å®æ—¶é¢„è§ˆå¯¼èˆªæ </li></ol><a id="more"></a><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><p><img src="../../images/first/swiftui-navigate.png"></p><h1 id="NavigationView"><a href="#NavigationView" class="headerlink" title="NavigationView"></a>NavigationView</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hellow World&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œå°†ä¸€ä¸ªViewåŒ…è£¹åœ¨<code>NavigationView</code>ä¸­ï¼Œå½“å‰è¿™ä¸ªbodyå°±æ˜¯ä¸€ä¸ªâ€œå¯¼èˆªæ§åˆ¶å™¨â€äº†ï¼Œå…³äºè¿™ç§å†™æ³•çš„è¯´æ˜å¯ä»¥æŸ¥çœ‹æˆ‘ä¹‹å‰çš„<a href="https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential/">å­¦ä¹ SwiftUIï¼Œå¿…é¡»æŒæ¡çš„3ä¸ªçŸ¥è¯†ç‚¹</a>ä¸­çš„Viewéƒ¨åˆ†ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hellow World&quot;</span>)</span><br><span class="line">        .navigationTitle(<span class="string">&quot;å…¬ä¼—å·ï¼šiOSå¼€å‘æ ˆ&quot;</span>) <span class="comment">// æˆ–è€…ä½¿ç”¨ navigationBarTitle</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ç»™NavagationViewå†…éƒ¨çš„Contentè®¾ç½®<em>navigationTitle</em>ä¿®æ”¹å™¨å¯ä»¥è®¾ç½®å¯¼èˆªæ çš„æ ‡é¢˜ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.navigationBarTitleDisplayMode(.inline)</span><br></pre></td></tr></table></figure><p>é€šè¿‡è®¾ç½®<code>navigationBarTitleDisplayMode</code>ä¿®æ”¹å™¨å¯ä»¥æ›´æ”¹å¯¼èˆªæ æ ‡é¢˜çš„å±•ç°æ ·å¼ï¼Œ<em>inline</em>æ˜¯å±…ä¸­å±•ç¤ºå¹¶ä¸”å¯¼èˆªæ é«˜åº¦æ˜¯å›ºå®šçš„44ptï¼›<em>large</em>æ˜¯åœ¨iOSå‰å‡ ä¸ªç‰ˆæœ¬æ–°å¼•å…¥çš„æ ·å¼ï¼Œè¿™ç§æ ·å¼é»˜è®¤æ˜¯æŠŠæ ‡é¢˜æ˜¾ç¤ºåœ¨å·¦ä¸Šè§’å¹¶ä¸”å­—ä½“åŠ ç²—åŠ å¤§ï¼Œéšç€å±å¹•çš„æ»šåŠ¨å¯¼èˆªæ çš„é«˜åº¦ä¹Ÿä¼šå˜åŒ–ï¼›<code>automic</code>æ˜¯ä¼šå’Œå¯¼èˆªæ ˆçš„ä¸Šä¸€ä¸ªé¡µé¢ä¿æŒç›¸åŒã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.navigationBarTitle(<span class="string">&quot;å…¬ä¼—å·ï¼šiOSå¼€å‘æ ˆ&quot;</span>, displayMode: .inline)</span><br></pre></td></tr></table></figure><p>é€šè¿‡è®¾ç½®<code>navigationBarTitle</code>ä¿®æ”¹å™¨å¯ä»¥å°†ä¸Šé¢ä¸¤ä¸ªä¿®æ”¹å™¨åˆå¹¶æˆä¸€ä¸ªã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.navigationBarHidden()</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä½¿ç”¨<code>navigationBarHidden</code>å¯ä»¥åŠ¨æ€æ§åˆ¶æ˜¯å¦å±•ç¤ºå¯¼èˆªæ ï¼Œç»“åˆ<code>@State</code>çš„ä½¿ç”¨å¯ä»¥å®ç°åŠ¨æ€æ˜¾ç¤ºæˆ–è€…éšè—å¯¼èˆªæ çš„æ•ˆæœäº†ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.navigationBarItems(leading:, trailing:)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>navigationBarItems</code>å¯ä»¥ç»™å¯¼èˆªæ çš„å·¦ã€å³æ·»åŠ æŒ‰é’®ï¼Œè€Œä¸”å› ä¸ºleadingå’Œtrailingçš„ç±»å‹éƒ½æ˜¯Viewçš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ·»åŠ æ–‡å­—ã€å›¾ç‰‡ã€å›¾æ–‡ç­‰ã€‚</p><h1 id="NavigationLink"><a href="#NavigationLink" class="headerlink" title="NavigationLink"></a>NavigationLink</h1><p>ä¸Šé¢åˆ›å»ºå‡ºäº†ä¸€ä¸ªnavigationViewäº†ï¼Œä¸‹é¢æ¥çœ‹ä¸€ä¸‹æ€ä¹ˆå®ç°è·³è½¬ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NavigationLink</span>(<span class="string">&quot;ç•Œé¢è·³è½¬&quot;</span>, destination: <span class="type">Text</span>(<span class="string">&quot;å…¬ä¼—å·ï¼šiOSå¼€å‘æ ˆ&quot;</span>))</span><br><span class="line">                </span><br><span class="line"><span class="type">NavigationLink</span>(destination: <span class="type">Text</span>(<span class="string">&quot;å…¬ä¼—å·ï¼šiOSå¼€å‘æ ˆ&quot;</span>), label: &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;ç•Œé¢è·³è½¬&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ç§åˆ›å»ºæ–¹å¼çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œæœ€ç»ˆéƒ½æ˜¯é€šè¿‡ç‚¹å‡»â€œç•Œé¢è·³è½¬â€çš„æ–‡å­—ä»¥åè·³è½¬åˆ°ä¸€ä¸ªåªæœ‰â€œå…¬ä¼—å·ï¼šiOSå¼€å‘æ ˆâ€çš„æ–°é¡µé¢ã€‚</p><h1 id="å®ç°POPå›ä¸Šä¸€çº§é¡µé¢çš„æ•ˆæœ"><a href="#å®ç°POPå›ä¸Šä¸€çº§é¡µé¢çš„æ•ˆæœ" class="headerlink" title="å®ç°POPå›ä¸Šä¸€çº§é¡µé¢çš„æ•ˆæœ"></a>å®ç°POPå›ä¸Šä¸€çº§é¡µé¢çš„æ•ˆæœ</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ContentView.swift</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> pushActive <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">NavigationView</span> &#123;</span><br><span class="line">            <span class="type">VStack</span> &#123;</span><br><span class="line">                <span class="type">NavigationLink</span>(<span class="string">&quot;è·³è½¬å¹¶è¿”å›&quot;</span>, destination: <span class="type">SecondView</span>(pushActive: <span class="variable">$pushActive</span>), isActive: <span class="variable">$pushActive</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            .navigationTitle(<span class="string">&quot;å…¬ä¼—å·ï¼šiOSå¼€å‘æ ˆ&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// SecondView.swift</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SecondView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Binding</span> <span class="keyword">var</span> pushActive: <span class="type">Bool</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Button</span>(<span class="string">&quot;è¿”å›&quot;</span>) &#123;</span><br><span class="line">            pushActive <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸€ä¸ª@Stateå±æ€§ç»‘å®šåˆ°<code>NavigationLink</code>çš„åˆå§‹åŒ–æ–¹æ³•ä¸­çš„<code>isActive</code>å‚æ•°ï¼Œè¿™æ ·å°±ä¼šæ ¹æ®<code>pushActive</code>çš„Boolå€¼æ¥pushå’Œpopè§†å›¾ï¼Œå¦‚æœé»˜è®¤è®¾ç½®æˆtrueé‚£å¯åŠ¨appåå°±ä¼šç›´æ¥åˆ‡æ¢åˆ°SecondViewã€‚</p><p>æŠŠpushActiveå‚æ•°ä¼ é€’åˆ°SecondViewä»¥åé€šè¿‡åœ¨SecondViewä¸­ä¿®æ”¹è¿™ä¸ªå‚æ•°çš„å€¼ï¼Œå°±å¯ä»¥å®ç°è¿”å›ä¸Šä¸€çº§çš„æ•ˆæœã€‚å…¶ä¸­å…³äº@Stateå’Œ@Bindçš„ç”¨æ³•å¯ä»¥çœ‹ä¸€ä¸‹<a href="(https://www.iosprogrammer.tech/swiftui/swiftui-data-flow">è¯¦è§£SwiftUIæ•°æ®æµæ˜¯æ€ä¹ˆåœ¨Viewé—´ä¼ é€’çš„</a>ã€‚</p><h1 id="Xcode12çš„å®æ—¶é¢„è§ˆå¯¼èˆªæ "><a href="#Xcode12çš„å®æ—¶é¢„è§ˆå¯¼èˆªæ " class="headerlink" title="Xcode12çš„å®æ—¶é¢„è§ˆå¯¼èˆªæ "></a>Xcode12çš„å®æ—¶é¢„è§ˆå¯¼èˆªæ </h1><p>åœ¨Xcode12ä¸­ï¼Œå¯¹äºSwiftUIçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰“å¼€Cavasï¼ˆoption+cmd+enterï¼‰æ¥æŸ¥çœ‹å®æ—¶é¢„è§ˆçš„ç•Œé¢ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„åŠŸèƒ½ã€‚è™½ç„¶æœ‰å¾ˆå¤šçš„å±€é™æ€§ï¼Œä¸å¤Ÿä¹Ÿç»ˆäºè®©iOSå¼€å‘è€…å“å°åˆ°äº†Webæˆ–è€…Androidå¾…é‡äº†ã€‚æ„Ÿè°¢è‹¹æœçˆ¸çˆ¸ğŸ™</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SecondView_Previews</span>: <span class="title">PreviewProvider</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">SecondView</span>(pushActive: .constant(false))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºSwiftUIçš„æ–‡ä»¶åé»˜è®¤ä¼šå¸¦æœ‰ä¸€ä¸ªéµå®ˆäº†<code>PreviewProvider</code>åè®®å¹¶ä¸”ä»¥<em>_Previews</em>ç»“å°¾çš„ç»“æ„ä½“ï¼Œæœ‰äº†å®ƒå°±æœ‰äº†å¯¹ç•Œé¢çš„å®æ—¶é¢„è§ˆèƒ½åŠ›ã€‚</p><p>è¦æƒ³é¢„è§ˆå¯¼èˆªæ çš„pushå’Œpopæ•ˆæœéœ€è¦åœ¨è¿™ä¸ªç»“æ„ä½“ä¸­è¿›è¡Œä¿®æ”¹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SecondView_Previews</span>: <span class="title">PreviewProvider</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">NavigationView</span> &#123;</span><br><span class="line">            <span class="type">SecondView</span>(pushActive: .constant(false))</span><br><span class="line">                .navigationTitle(<span class="string">&quot;å…¬ä¼—å·ï¼šiOSå¼€å‘æ ˆ&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡åœ¨é¢„è§ˆç»“æ„ä½“ä¸­å¢åŠ ä¸€ä¸ªNavigationViewå°±å¯ä»¥åœ¨å¯¼èˆªæ ˆçš„æ¬¡çº§é¡µé¢å®æ—¶é¢„è§ˆå¸¦æœ‰å¯¼èˆªæ¡çš„æ•ˆæœã€‚</p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ç¯‡æ–‡ç« æ¶µç›–äº†NavigationViewå’ŒNavigationLinkçš„åŸºç¡€ç”¨æ³•å’Œå¸¸ç”¨APIçš„è®²è§£ï¼Œåˆæåˆ°äº†åœ¨å®æˆ˜åº”ç”¨ä¸­ä¼šé‡åˆ°äº†ä¸€äº›è¿›é˜¶éœ€æ±‚ä»¥åŠæå‡å¼€å‘æ•ˆç‡çš„é¢„è§ˆåŠŸèƒ½ç”¨æ³•ã€‚</p><p>ğŸ‰ ä½ å·²ç»æŒæ¡äº†SwiftUIæ¡†æ¶ä¸­å…³äºå¯¼èˆªæ çš„çŸ¥è¯†ï¼Œç°åœ¨å¯ä»¥åŠ¨æ‰‹è¯•è¯•åšä¸€ä¸ªå¸¦æœ‰å¯¼èˆªæ§åˆ¶çš„åº”ç”¨äº†ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¾—ç›ŠäºSwiftUIçš„å£°æ˜å¼ç¼–ç¨‹æ–¹å¼è¿›è¡Œé¡µé¢åˆ‡æ¢æ˜¯éå¸¸æ–¹ä¾¿çš„ï¼Œè¿™ç¯‡æ–‡ç« å°†å¯¹SwiftUIä¸­çš„å¯¼èˆªåŠŸèƒ½è¿›è¡Œä¸€ä¸ªå…¨é¢çš„äº†è§£ï¼Œä¸»è¦ä¼šæ¶‰åŠåˆ°è¿™å‡ ä¸ªæ–¹é¢ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;NavigatinViewçš„ä½¿ç”¨æ–¹æ³•ä»¥åŠå¯¹åº”APIçš„è®²è§£&lt;/li&gt;
&lt;li&gt;NavigationLinkçš„ä½¿ç”¨æ–¹æ³•&lt;/li&gt;
&lt;li&gt;å®ç°POPä¼šä¸Šä¸€çº§é¡µé¢çš„æ•ˆæœ&lt;/li&gt;
&lt;li&gt;Xcode12çš„å®æ—¶é¢„è§ˆå¯¼èˆªæ &lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    
    <category term="SwiftUI" scheme="http://www.iosprogrammer.tech/tags/SwiftUI/"/>
    
  </entry>
  
  <entry>
    <title>SwiftUIä¸­Imageè‡ªé€‚åº”å¤§å°AspectFillã€AspectFit</title>
    <link href="http://www.iosprogrammer.tech/swiftui/swiftui-image-fill-fit-mode/"/>
    <id>http://www.iosprogrammer.tech/swiftui/swiftui-image-fill-fit-mode/</id>
    <published>2021-04-16T01:30:16.000Z</published>
    <updated>2021-04-16T03:40:50.576Z</updated>
    
    <content type="html"><![CDATA[<p>SwiftUIä¸­æƒ³è¦è®©Imageèƒ½å¤Ÿå®ç°ç±»ä¼¼äºUIViewContentModeAspectFitæˆ–è€…ApectFillçš„æ•ˆæœéœ€è¦æŠŠä¸¤ä¸ª<a href="https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential/">ä¿®æ”¹å™¨(modifier)</a>ç»“åˆèµ·æ¥ä½¿ç”¨ã€‚</p><a id="more"></a><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Image</span>(<span class="string">&quot;xxx&quot;</span>)</span><br><span class="line">    .resizable(resizingMode: .stretch)</span><br><span class="line">    .aspectRatio(contentMode: .fit)</span><br></pre></td></tr></table></figure><p><code>func resizable(capInsets:, resizingMode:)</code>å¯¹åº”çš„æ˜¯UIImageçš„<code>resizableImageWithCapInsets:resizingMode:</code>ã€‚<code>capInsets</code>ç¡®å®šäº†ä¸è¢«æ‹‰ä¼¸å½±å“çš„ä¸Šä¸‹å·¦å³å››è¾¹è·ï¼Œå››è¾¹è·ä»¥å¤–çš„éƒ¨åˆ†ä¼šè¢«<code>resizingMode</code>å½±å“ã€‚<code>Image.ResizingMode.stretch</code>é“ºæ»¡æ•´ä¸ªç©ºé—´ï¼Œä¼šå‘ç”Ÿå½¢å˜,<code>Image.ResizingMode.stretch</code>å¹³é“ºï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœå›¾ç‰‡çš„å¤§å°ä¸è¶³ä»¥å æ»¡ç©ºé—´å°±æŠŠå›¾ç‰‡å¤åˆ¶å¤šä»½ï¼Œå¦‚æœå›¾ç‰‡æ¯”ç©ºé—´å¤§åªä¼šå±•ç¤ºå‡ºæ¥å’Œç©ºé—´ä¸€æ ·å¤§çš„éƒ¨åˆ†å¹¶ä¸”å›¾ç‰‡çš„å·¦ä¸Šè§’å’Œå®¹å™¨çš„å·¦ä¸Šè§’å¯¹é½ï¼Œå…¶ä»–éƒ¨åˆ†ä¼šè¢«è£æ‰ã€‚</p><p><code>aspectRatio(_ aspectRatio:,contentMode:)</code>ä¿®æ”¹å™¨è®¾ç½®é•¿å®½æ¯”å’Œå¡«å……æ–¹å¼ï¼Œ<code>aspectRatio</code>å‚æ•°æ˜¯è§†å›¾çš„<em>é•¿:å®½</em>ï¼Œ<code>contentMode</code>æ˜¯å¡«å……æ–¹å¼å…¶ä¸­Fillè¡¨ç¤ºå¡«æ»¡ç©ºé—´ï¼Œé•¿è¾¹ä¼šè¶…å‡ºå®¹å™¨ï¼ŒFitä¼šä¿è¯é•¿è¾¹å¡«æ»¡ç©ºé—´çŸ­è¾¹ä¼šç•™å‡ºç©ºç™½ã€‚</p><p><strong>æ®æˆ‘è§‚å¯Ÿï¼Œå•ç‹¬å¯¹Imageä½¿ç”¨aspectRatioä¿®æ”¹å™¨æ²¡æœ‰æ•ˆæœï¼Œéœ€è¦ç»“åˆ<code>resizable</code>ä¿®æ”¹å™¨æ‰è¡Œã€‚</strong></p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div>]]></content>
    
    
    <summary type="html">&lt;p&gt;SwiftUIä¸­æƒ³è¦è®©Imageèƒ½å¤Ÿå®ç°ç±»ä¼¼äºUIViewContentModeAspectFitæˆ–è€…ApectFillçš„æ•ˆæœéœ€è¦æŠŠä¸¤ä¸ª&lt;a href=&quot;https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential/&quot;&gt;ä¿®æ”¹å™¨(modifier)&lt;/a&gt;ç»“åˆèµ·æ¥ä½¿ç”¨ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="SwiftUI" scheme="http://www.iosprogrammer.tech/tags/SwiftUI/"/>
    
  </entry>
  
  <entry>
    <title>SwiftUIè‡ªå®šä¹‰Modifier</title>
    <link href="http://www.iosprogrammer.tech/swiftui/swiftui-custom-modifier/"/>
    <id>http://www.iosprogrammer.tech/swiftui/swiftui-custom-modifier/</id>
    <published>2021-04-14T00:47:13.000Z</published>
    <updated>2021-04-14T01:16:39.832Z</updated>
    
    <content type="html"><![CDATA[<p>SwiftUIä¸­å·²ç»è‡ªå¸¦äº†å¾ˆå¤š<a href="https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential/">Modifier</a>ï¼Œä½¿ç”¨è¿™äº›è‡ªå¸¦çš„modifierå¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„å¤§å¤šæ•°éœ€æ±‚ã€‚æœ‰äº›æƒ…å†µä¸‹ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨æˆ–è€…ç»Ÿä¸€é£æ ¼ï¼Œæˆ‘ä»¬è¿˜æƒ³è¦ç»™Viewå¢åŠ è‡ªå·±çš„Modifierã€‚</p><a id="more"></a><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CustomModifier</span>: <span class="title">ViewModifier</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">body</span><span class="params">(content: Content)</span></span> -&gt; <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        content</span><br><span class="line">            .background(<span class="type">Color</span>.yellow)</span><br><span class="line">            .cornerRadius(<span class="number">10</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éµå®ˆ<code>ViewModifier</code>å³å¯åˆ›å»ºè‡ªå®šä¹‰çš„modifierã€‚</p><p>modifierå¹¶ä¸æ˜¯å¯¹åŸæ¥viewçš„ä¿®æ”¹ï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„viewï¼Œå…·ä½“å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„<a href="https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential/">è¿™ç¯‡æ–‡ç« </a>ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">&quot;iOSå¼€å‘æ ˆ&quot;</span>)</span><br><span class="line">    .modifier(customModifier())</span><br></pre></td></tr></table></figure><p><code>modier(:)</code>æ–¹æ³•æ˜¯Viewçš„ä¸€ä¸ªæ‰©å±•æ–¹æ³•ï¼Œé€šè¿‡è¿™ä¸ªæ–¹æ³•å¯ä»¥è®©ä¸€ä¸ªviewé€šè¿‡åº”ç”¨modieræ¥è¿”å›ä¸€ä¸ªæ–°çš„viewï¼Œè¿™ä¹Ÿè¯å®äº†ä¸Šé¢æåˆ°çš„ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">customModifier</span><span class="params">()</span></span> -&gt; <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.modifier(<span class="type">CustomModifier</span>())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ç»™Viewæ·»åŠ ä¸€ä¸ªæ‰©å±•æ–¹æ³•å°±å¯ä»¥åƒä½¿ç”¨ç³»ç»Ÿæ–¹æ³•é‚£æ ·è°ƒç”¨æˆ‘ä»¬è‡ªå·±æ·»åŠ çš„modifieräº†ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">&quot;iOSå¼€å‘æ ˆ&quot;</span>)</span><br><span class="line">    .customModifier()</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™è‡ªå®šä¹‰çš„Modifieræ·»åŠ å‚æ•°ï¼Œæ¥å®ç°æ›´ä¸ºå¤æ‚çš„æ•ˆæœã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CustomModifier</span>: <span class="title">ViewModifier</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> cornerRadius: <span class="type">CGFloat</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">body</span><span class="params">(content: Content)</span></span> -&gt; <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        content</span><br><span class="line">            .background(<span class="type">Color</span>.yellow)</span><br><span class="line">            .cornerRadius(cornerRadius)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">customModifier</span><span class="params">(cornerRadius: CGFloat)</span></span> -&gt; <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.modifier(<span class="type">CustomModifier</span>(cornerRadius: cornerRadius))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;iOSå¼€å‘æ ˆ&quot;</span>)</span><br><span class="line">                .customModifier(cornerRadius: <span class="number">10</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div>]]></content>
    
    
    <summary type="html">&lt;p&gt;SwiftUIä¸­å·²ç»è‡ªå¸¦äº†å¾ˆå¤š&lt;a href=&quot;https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential/&quot;&gt;Modifier&lt;/a&gt;ï¼Œä½¿ç”¨è¿™äº›è‡ªå¸¦çš„modifierå¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„å¤§å¤šæ•°éœ€æ±‚ã€‚æœ‰äº›æƒ…å†µä¸‹ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨æˆ–è€…ç»Ÿä¸€é£æ ¼ï¼Œæˆ‘ä»¬è¿˜æƒ³è¦ç»™Viewå¢åŠ è‡ªå·±çš„Modifierã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="SwiftUI" scheme="http://www.iosprogrammer.tech/tags/SwiftUI/"/>
    
  </entry>
  
  <entry>
    <title>iOSæœ¬åœ°åŒ–æ—¥æœŸã€æ—¶é—´ã€è´§å¸æ•°å­—ï¼ˆè¶…å…¨ï¼‰</title>
    <link href="http://www.iosprogrammer.tech/xcode/international-data-format/"/>
    <id>http://www.iosprogrammer.tech/xcode/international-data-format/</id>
    <published>2021-04-11T02:44:40.000Z</published>
    <updated>2021-05-01T06:46:21.625Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸åŒçš„å›½å®¶ã€åœ°åŒºå¯¹ä¸€äº›è¯¸å¦‚æ—¥æœŸã€æ—¶é—´ã€æ•°å­—ã€è´§å¸ç­‰æ–¹é¢æœ‰ä¸åŒçš„è¡¨è¿°æ–¹å¼ï¼Œä¸ºäº†æ›´å¥½çš„æ»¡è¶³å½“åœ°äººçš„ä½¿ç”¨ä¹ æƒ¯å’Œä¹ ä¿—ï¼ŒAppå¿…é¡»åšå¥½è¿™äº›æ–¹é¢çš„å›½é™…åŒ–å·¥ä½œã€‚è¿™æ˜¯ä¸€é¡¹é‡è¦ä¸”å¤æ‚çš„å·¥ä½œï¼Œå¸Œæœ›é€šè¿‡è¿™ç¯‡å¯ä»¥è®©ä½ å¯¹è¿™äº›å†…å®¹æœ‰ä¸€ä¸ªå…¨é¢çš„äº†è§£ã€‚</p><a id="more"></a><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><p><img src="../../images/international-data-format/cover.png" alt="iOS app æ—¥æœŸå’Œæ•°å­—çš„æœ¬åœ°åŒ–"></p><p>ä¹‹å‰ä¸¤ç¯‡å…³äºiOSå›½é™…åŒ–çš„æ–‡ç« è®¨è®ºäº†å…³äº<a href="https://www.iosprogrammer.tech/xcode/language-internalization-ib/">ä½¿ç”¨IBå°†å›ºå®šUIå›½é™…åŒ–</a>å’Œ<a href="https://www.iosprogrammer.tech/xcode/international-user-facing-text/">ä½¿ç”¨NSLocalizeStringå®å°†å¯å˜æ–‡æœ¬å›½é™…åŒ–</a>ï¼Œè¿™ç¯‡æ–‡ç« å°†é›†ä¸­äºå¤„ç†ä¸€äº›æ—¥å¸¸è¡¨è¿°æ–¹é¢çš„å›½é™…åŒ–é—®é¢˜ï¼Œæ¯”å¦‚æ—¥æœŸã€æ—¶é—´ã€æ•°å­—ã€è´§å¸ç­‰ã€‚</p><p>é¦–å…ˆè¦æ˜ç¡®ä¸€ç‚¹ï¼Œè¿™é‡Œçš„æœ¬åœ°åŒ–å¹¶ä¸æ˜¯å®Œå…¨ä¾èµ–äºè¯­è¨€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åŒæ ·çš„è¯­è¨€åœ¨æœ¬åœ°åŒ–æ–¹é¢ä¹Ÿä¼šæœ‰ä¸åŒçš„è¡¨ç°å½¢å¼ã€‚æ¯”å¦‚è¯´æ„å¤§åˆ©å’Œç¾å›½éƒ½æ˜¯è‹±è¯­å›½å®¶ä½†æ˜¯åœ¨ç¾å›½æ•°å­—ä½¿ç”¨çš„â€œ,â€åˆ†å‰²ï¼Œè€Œæ„å¤§åˆ©ä½¿ç”¨çš„æ˜¯â€œ.â€ï¼Œåˆå¯¹äºè´§å¸ç¬¦å·å°±æ›´å¤šäº†ã€‚</p><p>åœ¨iPhoneå’ŒMacä¸Šéƒ½æœ‰åœ°åŒºçš„é€‰æ‹©ï¼Œåœ¨å¯¹åº”é¡µé¢çš„ä¸‹æ–¹å°±æ˜¯ä¸€äº›ç¤ºä¾‹ã€‚</p><p><img src="../../images/international-data-format/mac-region-pannel.png" alt="Macåœ°åŒºé€‰æ‹©ç¤ºä¾‹"></p><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­è¿˜æœ‰ä¸€ä¸ªå¿«é€Ÿä¿®æ”¹æ‰€åœ¨åŒºåŸŸçš„å°æŠ€å·§ï¼Œåœ¨Edit Scheme -&gt; Optionsä¸­ä¿®æ”¹App Regionç„¶åé‡æ–°è¿è¡Œé¡¹ç›®å°±å¯ä»¥ä¿®æ”¹æ‰€åœ¨åŒºåŸŸäº†ï¼Œè¿™æ ·å°±ä¸éœ€è¦æ¯æ¬¡åˆ°ç³»ç»Ÿè®¾ç½®ä¸­å»ä¿®æ”¹åŒºåŸŸã€‚</p><h1 id="è·å–å½“å‰ç³»ç»Ÿçš„æœ¬åœ°åŒ–ä¿¡æ¯"><a href="#è·å–å½“å‰ç³»ç»Ÿçš„æœ¬åœ°åŒ–ä¿¡æ¯" class="headerlink" title="è·å–å½“å‰ç³»ç»Ÿçš„æœ¬åœ°åŒ–ä¿¡æ¯"></a>è·å–å½“å‰ç³»ç»Ÿçš„æœ¬åœ°åŒ–ä¿¡æ¯</h1><ol><li>è·å–Localeå¯¹è±¡</li></ol><p>å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹æ³•è·å–åˆ°ç”¨æˆ·çš„æœ¬åœ°åŒ–å¯¹è±¡<code>Locale.current</code>å’Œ<code>Locale.autoupdatingCurrent</code>ï¼Œå®˜æ–¹æ–‡æ¡£è¯´autoupdatingCurrentä¼šéšç€ç³»ç»Ÿè®¾ç½®çš„æ›´æ”¹è€Œæ”¹å˜ï¼Œcurrentæ˜¯å›ºå®šçš„ã€‚</p><p>ä½†æ˜¯æˆ‘å¹¶æ²¡æœ‰å‘ç°è¿™ä¸¤è€…çš„åŒºåˆ«ï¼Œå½“ç”¨æˆ·ä¿®æ”¹ç³»ç»Ÿè¯­è¨€æˆ–è€…æ‰€åœ¨åœ°åŒºä»¥åæ‰€æœ‰appéƒ½ä¼šé‡å¯ï¼Œä¸ç®¡ä½¿ç”¨é‚£ç§æ–¹å¼éƒ½ä¼šé‡æ–°è·å–æœ€æ–°çš„ç³»ç»Ÿè®¾ç½®ï¼Œè€Œå¦‚æœåªæ˜¯ä¿®æ”¹æ—¥å†çš„è¯appä¸ä¼šé‡å¯ä½†æ˜¯<code>autoupdatingCurrent</code>æ–¹æ³•è·å–åˆ°çš„localeä¹Ÿä¸ä¼šæ”¹å˜ã€‚</p><p>æˆ‘ä¸çŸ¥é“è¿™æ˜¯ç”±äºå®˜æ–¹æ–‡æ¡£æ²¡æœ‰åŠæ—¶æ›´æ–°è¿˜æ˜¯ç”±äºæˆ‘æ²¡æœ‰æ‰¾åˆ°è¿™ä¸¤ä¸ªæ–¹æ³•ä¹‹é—´çš„åŒºåˆ«ï¼Œå¦‚æœä½ çŸ¥é“ä»–ä»¬çš„åŒºåˆ«éº»çƒ¦å‘Šè¯‰æˆ‘ã€‚</p><ol start="2"><li>è·å–Localeå¯¹è±¡åŒ…å«çš„æœ¬åœ°åŒ–ä¿¡æ¯</li></ol><p>æœ¬åœ°åŒ–ä¿¡æ¯ä¼šéšç€è¯­è¨€ã€åœ°åŸŸã€æ–‡åŒ–çš„ä¸åŒè€Œä¸åŒï¼Œæ€»å…±åŒ…å«äº†å¤§æ¦‚åå‡ ä¸ªæ¡ç›®ï¼Œä¸‹é¢åˆ—ä¸¾å‡ ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„æ¡ç›®å¹¶ä¸”ä»¥å¤§é™†åœ°åŒºä¸ºä¾‹æ¥ç»™å‡ºç»“æœã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥ä¸­å›½å¤§é™†åœ°åŒºä¸ºä¾‹</span></span><br><span class="line"><span class="keyword">let</span> currentLocale <span class="operator">=</span> <span class="type">Locale</span>.autoupdatingCurrent</span><br><span class="line">currentLocale.identifier <span class="comment">// zh_CN</span></span><br><span class="line">currentLocale.languageCode <span class="operator">??</span> <span class="string">&quot;&quot;</span> <span class="comment">// zh</span></span><br><span class="line">currentLocale.regionCode <span class="operator">??</span> <span class="string">&quot;&quot;</span> <span class="comment">// CN</span></span><br><span class="line">currentLocale.scriptCode <span class="operator">??</span> <span class="string">&quot;&quot;</span> <span class="comment">// &quot;&quot;</span></span><br><span class="line">currentLocale.variantCode <span class="operator">??</span> <span class="string">&quot;&quot;</span> <span class="comment">// &quot;&quot;</span></span><br><span class="line">currentLocale.calendar <span class="comment">// gregorian (current)</span></span><br><span class="line">currentLocale.usesMetricSystem <span class="comment">// true</span></span><br><span class="line">currentLocale.currencySymbol <span class="operator">??</span> <span class="string">&quot;&quot;</span> <span class="comment">// Â¥</span></span><br><span class="line">currentLocale.currencyCode <span class="operator">??</span> <span class="string">&quot;&quot;</span> <span class="comment">// CNY</span></span><br><span class="line">currentLocale.quotationBeginDelimiter <span class="operator">??</span> <span class="string">&quot;&quot;</span> <span class="comment">// â€œ å‰å¼•å·</span></span><br><span class="line">currentLocale.quotationEndDelimiter <span class="operator">??</span> <span class="string">&quot;&quot;</span> <span class="comment">// â€ åå¼•å·</span></span><br></pre></td></tr></table></figure><ol start="3"><li>è·å–å½“å‰è¯­è¨€å’Œæ–¹è¨€</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> languageId <span class="operator">=</span> <span class="type">Bundle</span>.main.preferredLocalizations.first<span class="operator">!</span> <span class="comment">// zh-Hans</span></span><br><span class="line"><span class="keyword">let</span> locale <span class="operator">=</span> <span class="type">Locale</span>.current</span><br><span class="line"><span class="keyword">let</span> languageName <span class="operator">=</span> locale.localizedString(forLanguageCode: languageId)<span class="operator">!</span> <span class="comment">// ä¸­æ–‡</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„languageIdæ˜¯å¼€å‘è€…éœ€è¦çš„è€Œä¸åº”è¯¥è®©ç”¨æˆ·çœ‹åˆ°ï¼ŒlanguageNameæ˜¯å±•ç¤ºç»™ç”¨æˆ·çš„ã€‚</p><h1 id="æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´"><a href="#æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´" class="headerlink" title="æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´"></a>æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´</h1><ol><li>ä½¿ç”¨é¢„è®¾çš„æ ¼å¼</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> date <span class="operator">=</span> <span class="type">DateFormatter</span>.localizedString(from: <span class="type">Date</span>(), dateStyle: .short, timeStyle: .short) <span class="comment">// 2021/4/11 ä¸‹åˆ9:15:16</span></span><br></pre></td></tr></table></figure><p>æ ¹æ®å½“å‰æ‰€åœ¨çš„Localeï¼Œå°†å½“å‰æ—¶é—´æ ¼å¼åŒ–ï¼Œå…¶ä¸­æ—¥æœŸä½¿ç”¨â€œçŸ­æ ¼å¼â€ã€æ—¶é—´ä½¿ç”¨â€œä¸­æ ¼å¼ã€‚ä¸‹é¢æ˜¯å®˜æ–¹æ–‡æ¡£ä¸Šé¢çš„ä¸€ä¸ªå¯¹ä¸åŒæ ¼å¼çš„ç¤ºä¾‹ï¼š</p><table><thead><tr><th>Style</th><th>Date</th><th>Time</th><th>Description</th></tr></thead><tbody><tr><td>Short</td><td>6/10/13</td><td>11:03 AM</td><td>åªæœ‰æ•°å­—</td></tr><tr><td>Medium</td><td>Jun 10, 2013</td><td>11:03:15 AM</td><td>ç®€çŸ­æ–‡æœ¬</td></tr><tr><td>Long</td><td>June 10, 2013</td><td>11:03:15 AM PDT</td><td>å®Œæ•´æ–‡æœ¬</td></tr><tr><td>Full</td><td>Friday, June 10, 2013</td><td>11:03:15 AM Pacific Daylight Time</td><td>æ›´å¤šç»†èŠ‚</td></tr></tbody></table><p>ä¸‹é¢æ˜¯åœ¨ä¸åŒçš„è¯­è¨€å’Œåœ°åŒºä¸­ä¸­é•¿å’ŒçŸ­æ–‡æœ¬çš„æ—¶é—´æ ¼å¼ï¼š</p><table><thead><tr><th>Language (Region)</th><th>Medium style</th><th>Short style</th></tr></thead><tbody><tr><td>English (United States)</td><td>Jun 6, 2013</td><td>10:14 AM</td></tr><tr><td>French (France)</td><td>6 Jun 2013</td><td>10:14</td></tr><tr><td>Chinese (China)</td><td>2013å¹´6æœˆ6æ—¥</td><td>ä¸Šåˆ10:14</td></tr></tbody></table><ol start="2"><li>ä½¿ç”¨è‡ªå®šä¹‰çš„æ—¥æœŸå’Œæ—¶é—´æ ¼å¼</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dateFormatter <span class="operator">=</span> <span class="type">DateFormatter</span>()</span><br><span class="line"><span class="keyword">let</span> formatterString <span class="operator">=</span> <span class="type">DateFormatter</span>.dateFormat(fromTemplate: <span class="string">&quot;MMM d&quot;</span>, options: <span class="number">0</span>, locale: dateFormatter.locale)<span class="operator">!</span>  <span class="comment">// 4æœˆ11æ—¥</span></span><br><span class="line"><span class="comment">//        let formaterString = &quot;MMM d&quot; // 4æœˆ 11</span></span><br><span class="line">dateFormatter.dateFormat <span class="operator">=</span> formatterString </span><br><span class="line"><span class="keyword">let</span> date2 <span class="operator">=</span> dateFormatter.string(from: <span class="type">Date</span>()) </span><br></pre></td></tr></table></figure><p>åˆ†ä¸¤ç§æ–¹å¼åˆ›å»ºformatterStringï¼Œå½“ä½¿ç”¨<code>fromTemplate:options:locale</code>æ—¶å¾—åˆ°çš„dateStringæ˜¯4æœˆ11æ—¥ï¼›ç›´æ¥ä½¿ç”¨æ™®é€šæ–‡æœ¬æ—¶å¾—åˆ°çš„dateStringæ˜¯4æœˆ11ã€‚</p><p>ä¸‹é¢æ˜¯å‡ ä¸ªä¸åŒè¯­è¨€å’Œåœ°åŒºåˆ†åˆ«åœ¨ä½¿ç”¨å’Œä¸ä½¿ç”¨åœ°åŒºæ ¼å¼åŒ–ä¸‹çš„æ—¥æœŸï¼š</p><table><thead><tr><th>Language (Region)</th><th>Date using format string â€œMMM dâ€</th><th>Date using templat â€œdMMMâ€</th></tr></thead><tbody><tr><td>English (United States)</td><td>Nov 13</td><td>Nov 13</td></tr><tr><td>French (France)</td><td>nov. 13</td><td>13 nov.</td></tr><tr><td>Chinese (China)</td><td>11æœˆ13</td><td>11æœˆ13æ—¥ï½œ</td></tr></tbody></table><h1 id="æ•°å­—æ ¼å¼åŒ–"><a href="#æ•°å­—æ ¼å¼åŒ–" class="headerlink" title="æ•°å­—æ ¼å¼åŒ–"></a>æ•°å­—æ ¼å¼åŒ–</h1><ol><li>ä½¿ç”¨é¢„è®¾æ ·å¼æ ¼å¼åŒ–æ•°å­—</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myNumber: <span class="type">NSNumber</span> <span class="operator">=</span> <span class="number">234231.231</span></span><br><span class="line"><span class="keyword">let</span> numberString <span class="operator">=</span> <span class="type">NumberFormatter</span>.localizedString(from: myNumber, number: .decimal)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;numberString = <span class="subst">\(numberString)</span>&quot;</span>) <span class="comment">// numberString = 234,231.231</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é¢„è®¾æ ¼å¼è¿›è¡Œæ ¼å¼åŒ–æ•°å­—æ—¶ï¼Œåœ¨ä¸åŒçš„è¯­è¨€å’Œåœ°åŒºä¸‹çš„ä¾‹å­ï¼š</p><table><thead><tr><th>Style</th><th>Formatted string, <br> English (United States)</th><th>Formatted string,<br> Language (Region)</th></tr></thead><tbody><tr><td>Decimalï¼ˆå°æ•°ï¼‰</td><td>1,234.56</td><td>1.234,56 <br>Italian (Italy)</td></tr><tr><td>Currencyï¼ˆè´§å¸ï¼‰</td><td>$1,234.56</td><td>Â¥1,234.56<br>Chinese (China)</td></tr><tr><td>Percentï¼ˆç™¾åˆ†æ•°ï¼‰</td><td>123,456%</td><td><img src="../../images/international-data-format/arabic_percent.svg" width="72.548" height="13.019"><br>Arabic (Egypt)</td></tr><tr><td>Scientificï¼ˆç§‘å­¦è®¡æ•°æ³•ï¼‰</td><td>1.23456E+03</td><td>1,23456E3<br>Italian (Italy)</td></tr><tr><td>Spell Outï¼ˆè¯»ï¼‰</td><td>one thousand two hundred thirty-four point five six</td><td>ä¸€åƒäºŒç™¾ä¸‰åå››ç‚¹äº”å…­<br>Chinese (China)</td></tr></tbody></table><ol start="2"><li>è·å–ç”¨æˆ·è¾“å…¥çš„æ•°å­—</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> formatter <span class="operator">=</span> <span class="type">NumberFormatter</span>()</span><br><span class="line">formatter.numberStyle <span class="operator">=</span> .decimal</span><br><span class="line">formatter.isLenient <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">let</span> number <span class="operator">=</span> formatter.number(from: <span class="string">&quot;1,234,123.23&quot;</span>)<span class="operator">!</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;number = <span class="subst">\(number)</span>&quot;</span>) <span class="comment">// number = 1234123.23</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ç³»ç»Ÿå½“å‰çš„è¯­è¨€å’Œåœ°åŒºæŠŠç”¨æˆ·è¾“å…¥çš„å¸¦æœ‰å½“åœ°ç‰¹è‰²çš„æ•°å­—å­—ç¬¦ä¸²è½¬åŒ–æˆ<code>Number</code>æ ¼å¼ã€‚å…¶ä¸­<code>isLenient</code>è¡¨ç¤ºæ˜¯å¦å…è®¸æ ¼å¼ä¸å®Œå…¨æŒ‰ç…§æ ‡å‡†æ ¼å¼ï¼Œä¾‹å¦‚å¦‚æœè¿™é‡Œä½¿ç”¨<code>formatter.isLenient = false</code>ï¼Œå½“è¾“å…¥å­—ç¬¦ä¸²åªè¦ä¸æ˜¯æ ‡å‡†çš„<em>1,234,123.23</em>è€Œæ˜¯<em>1,23,4123.23</em>æˆ–è€…1,234123.23å°±ä¼šè¿”å›nilã€‚</p><h1 id="å…³äºæ—¥å†çš„æœ¬åœ°åŒ–"><a href="#å…³äºæ—¥å†çš„æœ¬åœ°åŒ–" class="headerlink" title="å…³äºæ—¥å†çš„æœ¬åœ°åŒ–"></a>å…³äºæ—¥å†çš„æœ¬åœ°åŒ–</h1><p>ä¸åŒåœ°åŒºä¹‹é—´çš„çºªå¹´æ–¹æ³•æœ‰å¾ˆå¤§çš„å·®åˆ«ï¼Œæ—¥æœ¬çš„å¹´ä»£å˜åŒ–å¾ˆå¿«ï¼ˆä»–ä»¬è¿˜åœ¨ç”¨å¤©çš‡çºªå¹´ï¼Œå°±åƒå’±ä»¬ä¸­å›½çš„å°å»ºç¤¾ä¼šï¼‰è€Œå…¬å†æˆ–è€…å†œå†çš„å¹´ä»£å˜åŒ–å°±ç›¸å¯¹è¾ƒæ…¢ï¼Œè€Œæœ‰çš„åœ°åŒºä¸€å¹´æœ‰13ä¸ªæœˆï¼Œä¸åŒçš„æ—¥å†å¯¹æ¯å‘¨çš„ç¬¬ä¸€å¤©å®šä¹‰ä¹Ÿä¸åŒï¼ˆå‘¨å…­ã€å‘¨æ—¥ã€å‘¨ä¸€éƒ½æœ‰ï¼‰ã€‚è¦å¤„ç†è¿™ä¹ˆå¤æ‚å¤šå˜çš„æ—¥å†ç›¸å…³é—®é¢˜å°±ä¸€å®šè¦ç”¨åˆ°<code>Calender</code>ç±»ã€‚</p><p>è·å–ç”¨æˆ·å½“å‰ä½¿ç”¨çš„æ—¥å†ä½¿ç”¨<code>Calendar.current</code>ã€‚</p><p>è·å–ä¸€ä¸ªæ—¥æœŸçš„ç»„æˆéƒ¨åˆ†ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> calendar <span class="operator">=</span> <span class="type">Calendar</span>.current</span><br><span class="line"><span class="keyword">let</span> components <span class="operator">=</span> calendar.dateComponents([.era, .year, .month, .weekday, .day, .hour, .minute, .second], from: <span class="type">Date</span>())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å½“å‰æ—¶é—´ç»„ä»¶ï¼š<span class="subst">\(String(describing: components.era<span class="operator">!</span>))</span>, <span class="subst">\(String(describing: components.year<span class="operator">!</span>))</span>, <span class="subst">\(String(describing: components.month<span class="operator">!</span>))</span>, <span class="subst">\(String(describing: components.weekday<span class="operator">!</span>))</span>, <span class="subst">\(String(describing: components.day<span class="operator">!</span>))</span>, <span class="subst">\(String(describing: components.hour<span class="operator">!</span>))</span>, <span class="subst">\(String(describing: components.minute<span class="operator">!</span>))</span>, <span class="subst">\(String(describing: components.second<span class="operator">!</span>))</span>&quot;</span>) <span class="comment">// å½“å‰æ—¶é—´ç»„ä»¶ï¼š1, 2021, 4, 1, 11, 22, 32, 4</span></span><br></pre></td></tr></table></figure><blockquote><p>å½“ä½¿ç”¨æ—¥æœ¬å†æˆ–è€…ä½›æ•™æ—¥å†çš„æ—¶å€™ï¼Œæ¯æ¬¡è·å–æˆ–è€…è®¾ç½®å¹´ä»½ä¸€å®šè¦åŒæ—¶è·å–æˆ–è€…è®¾ç½®å¹´ä»£ã€‚</p></blockquote><p>æ›´å¤šå…³äºæ—¥å†çš„å†…å®¹å¯ä»¥å‚è€ƒä¸€ä¸‹<a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/DatesAndTimes/DatesAndTimes.html#//apple_ref/doc/uid/10000039i">å®˜æ–¹æ–‡æ¡£</a></p><h1 id="Localeå’Œæ—¶åŒºç›¸å…³çš„é€šçŸ¥"><a href="#Localeå’Œæ—¶åŒºç›¸å…³çš„é€šçŸ¥" class="headerlink" title="Localeå’Œæ—¶åŒºç›¸å…³çš„é€šçŸ¥"></a>Localeå’Œæ—¶åŒºç›¸å…³çš„é€šçŸ¥</h1><p>è¦åŠæ—¶çš„è·å–Localeæˆ–è€…æ—¶åŒºå˜åŒ–çš„é€šçŸ¥å¯ä»¥ç›‘å¬<code>NSCurrentLocaleDidChangeNotification</code>å’Œ<code>NSSystemTimeZoneDidChangeNotification</code>é€šçŸ¥ã€‚</p><p>è·å–é€šçŸ¥åœ¨ç”¨æˆ·è¿›è¡Œè·¨å›½é•¿é€”æ—…è¡Œçš„æ—¶å€™éå¸¸æœ‰ç”¨ï¼Œå½“ç”¨æˆ·æ—¶åŒºæ”¹å˜åappèƒ½å¤ŸåŠæ—¶å˜åŒ–å¯ä»¥ç»™ç”¨æˆ·ä¸€ä¸ªéå¸¸æ£’çš„ä½“éªŒã€‚</p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æƒ³è¦å¾ˆå®Œå–„çš„æœ¬åœ°åŒ–ä¸€ä¸ªAppæ˜¯ä¸å®¹æ˜“çš„ï¼Œä¸ä»…è¦æŠŠæ–‡å­—æœ¬åœ°åŒ–è¿˜è¦æŠŠæ—¥æœŸã€æ—¶é—´ã€æ—¥å†ã€æ•°å­—ç­‰å†…å®¹æœ¬åœ°åŒ–ï¼Œè¿™äº›å†…å®¹åœ¨ä¸€ä¸ªappä¸­æ˜¯æ— å¤„ä¸åœ¨çš„ï¼Œè¿™å°±è¦æ±‚æˆ‘ä»¬è¦éšæ—¶è®°ç€è‡ªå·±æ˜¯åœ¨åšä¸€ä¸ªå›½é™…åŒ–çš„Appã€‚ä¸ºäº†èƒ½ç»™å…¨ä¸–ç•Œå„åœ°çš„ç”¨æˆ·ä¸€ä¸ªæ›´å¥½çš„ä½¿ç”¨ä½“éªŒï¼Œå°½åŠ›åšå¥½è¿™é¡¹å·¥ä½œå§ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¸åŒçš„å›½å®¶ã€åœ°åŒºå¯¹ä¸€äº›è¯¸å¦‚æ—¥æœŸã€æ—¶é—´ã€æ•°å­—ã€è´§å¸ç­‰æ–¹é¢æœ‰ä¸åŒçš„è¡¨è¿°æ–¹å¼ï¼Œä¸ºäº†æ›´å¥½çš„æ»¡è¶³å½“åœ°äººçš„ä½¿ç”¨ä¹ æƒ¯å’Œä¹ ä¿—ï¼ŒAppå¿…é¡»åšå¥½è¿™äº›æ–¹é¢çš„å›½é™…åŒ–å·¥ä½œã€‚è¿™æ˜¯ä¸€é¡¹é‡è¦ä¸”å¤æ‚çš„å·¥ä½œï¼Œå¸Œæœ›é€šè¿‡è¿™ç¯‡å¯ä»¥è®©ä½ å¯¹è¿™äº›å†…å®¹æœ‰ä¸€ä¸ªå…¨é¢çš„äº†è§£ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="Xcode" scheme="http://www.iosprogrammer.tech/tags/Xcode/"/>
    
    <category term="å›½é™…åŒ–" scheme="http://www.iosprogrammer.tech/tags/%E5%9B%BD%E9%99%85%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>è‹¹æœå®˜æ–¹çš„iOS Appå›½é™…åŒ–å·¥ä½œæµ</title>
    <link href="http://www.iosprogrammer.tech/xcode/international-user-facing-text/"/>
    <id>http://www.iosprogrammer.tech/xcode/international-user-facing-text/</id>
    <published>2021-04-05T09:08:21.000Z</published>
    <updated>2021-05-01T06:46:28.083Z</updated>
    
    <content type="html"><![CDATA[<p>å›½é™…åŒ–æ˜¯å‡ºæµ·åº”ç”¨éå¸¸é‡è¦çš„ä¸€ä¸ªåŸºç¡€æ­¥éª¤ï¼Œå…¶ä¸­å¤šè¯­è¨€çš„é€‚é…æ˜¯é‡ä¸­ä¹‹é‡ã€‚Xcodeè‡ªå¸¦äº†å¸®åŠ©å¼€å‘è€…è¿›è¡ŒAppæœ¬åœ°åŒ–çš„åŠŸèƒ½ï¼Œå…¶ä¸­åŒ…æ‹¬å¤šè¯­è¨€æ–‡ä»¶çš„å¯¼å…¥å’Œå¯¼å‡ºï¼Œä½¿ç”¨è¿™äº›åŠŸèƒ½å¯ä»¥å¾ˆä¸æ»‘çš„å®Œæˆå¤šè¯­è¨€çš„å·¥ä½œã€‚</p><a id="more"></a><p><img src="../../images/first/international-user-facing-text.png" alt="iOSå›½é™…åŒ–"></p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><p>Appä¸­æœ‰ä¸€äº›å›ºå®šå†…å®¹çš„æ§ä»¶æ˜¯å¯ä»¥ç›´æ¥åˆ©ç”¨IBæ–‡ä»¶æ¥åšå¤šè¯­è¨€çš„ï¼Œå…·ä½“æ–¹æ³•å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ä¹‹å‰çš„<a href="https://www.iosprogrammer.tech/xcode/language-internalization-ib/">è¿™ç¯‡æ–‡ç« </a>ï¼Œæ–‡ç« ä¸­ä¹Ÿè®²äº†æ€ä¹ˆæ·»åŠ å¤šè¯­è¨€çš„æ“ä½œã€‚</p><p>é™¤äº†ä¸€äº›å›ºå®šå†…å®¹çš„æ§ä»¶ä¹‹å¤–è¿˜ä¼šæœ‰ä¸€äº›å…¶ä»–å†…å®¹éœ€è¦å¼€å‘è€…é€šè¿‡ä»£ç çš„å½¢å¼æ¥æœ¬åœ°åŒ–ï¼Œæ¯”å¦‚å¯å˜å†…å®¹çš„æ§ä»¶ã€é”™è¯¯æç¤ºä¿¡æ¯ã€å¯Œæ–‡æœ¬ã€Appåç§°ç­‰ã€‚é€šè¿‡ä¸‹é¢å‡ ä¸ªæ­¥éª¤å¯ä»¥ç»™è¿™äº›å†…å®¹æ·»åŠ å¤šè¯­è¨€ã€‚</p><h1 id="æ ‡è®°éœ€è¦æœ¬åœ°åŒ–çš„æ–‡æœ¬"><a href="#æ ‡è®°éœ€è¦æœ¬åœ°åŒ–çš„æ–‡æœ¬" class="headerlink" title="æ ‡è®°éœ€è¦æœ¬åœ°åŒ–çš„æ–‡æœ¬"></a>æ ‡è®°éœ€è¦æœ¬åœ°åŒ–çš„æ–‡æœ¬</h1><p>Foundationæ¡†æ¶ä¸­ä½¿ç”¨<code>NSLocalizedString(_:tableName:bundle:value:comment:)</code>æ¥æ ‡è®°éœ€è¦æœ¬åœ°åŒ–çš„æ–‡æœ¬ï¼Œé€šå¸¸tableName/bundleå’Œvalueç›´æ¥ä½¿ç”¨é»˜è®¤å€¼å°±å¯ä»¥äº†ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NSLocalizedString</span>(<span class="string">&quot;Label1&quot;</span>, comment: <span class="string">&quot;This is the first label&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šé¢çš„ä»£ç æœ€ç»ˆçš„æ ·å­</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* This is the first label */</span></span><br><span class="line"><span class="string">&quot;Label1&quot;</span> <span class="operator">=</span> <span class="string">&quot;First Label 111&quot;</span>;</span><br></pre></td></tr></table></figure><p>ç¿»è¯‘æ–‡ä»¶æ˜¯key-valueçš„æ ¼å¼ï¼Œå…¶ä¸­keyæ˜¯<code>NSLocalizedString</code>å‡½æ•°ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåœ¨è¿™é‡Œå°±æ˜¯<em>Label1</em>ã€‚é»˜è®¤çš„valueä¹Ÿæ˜¯<em>Label1</em>ã€‚</p><p><code>comment</code>å‚æ•°æ˜¯è¿™å¯¹key-valueçš„æ³¨é‡Šï¼Œä¸»è¦æ˜¯åœ¨è¿›è¡Œäººå·¥ç¿»è¯‘çš„æ—¶å€™æä¾›ä¸€ä¸ªè¯´æ˜ä½œç”¨ï¼Œå°¤å…¶æ˜¯å½“æœ‰å¤šä¸ªç›¸ä¼¼çš„æ–‡æœ¬æ—¶è¿™ä¸ªæ³¨é‡Šå°±æœ‰ä½œç”¨äº†ã€‚</p><h1 id="ä½¿ç”¨Xcodeå¯¼å‡ºæœ¬åœ°åŒ–å¤šè¯­è¨€æ–‡ä»¶"><a href="#ä½¿ç”¨Xcodeå¯¼å‡ºæœ¬åœ°åŒ–å¤šè¯­è¨€æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨Xcodeå¯¼å‡ºæœ¬åœ°åŒ–å¤šè¯­è¨€æ–‡ä»¶"></a>ä½¿ç”¨Xcodeå¯¼å‡ºæœ¬åœ°åŒ–å¤šè¯­è¨€æ–‡ä»¶</h1><p>å½“è¿˜æ²¡æœ‰è¿›è¡Œç¿»è¯‘çš„æ—¶å€™ï¼Œä½¿ç”¨<code>NSLocalizedString</code>çš„åœ°æ–¹å°±ä¼šæ˜¾ç¤º<em>key</em>æ–‡æœ¬ï¼ŒXcodeä¼šåœ¨å¯¼å‡ºå¤šè¯­è¨€æ–‡ä»¶çš„æ—¶å€™åœ¨é¡¹ç›®ä¸­æœå¯»è¿™ä¸ªå‡½æ•°ã€‚</p><p>å¯¼å‡ºå¤šè¯­è¨€æ–‡ä»¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>ä½¿ç”¨Xcodeæ‰“å¼€é¡¹ç›®</li><li>åœ¨å·¦ä¾§çš„ç›®å½•å¯¼èˆªæ ä¸­ç‚¹å‡»é¡¹ç›®åæ‰“å¼€.xcodeproj</li><li>åœ¨PROJECTä¸­é€‰æ‹©é¡¹ç›®åï¼Œå¹¶åœ¨Infoé€‰é¡¹å¡çš„Locationsä¸­æ·»åŠ ä¸Šå…¶ä»–è¯­è¨€</li><li>ç‚¹å‡»Xcodeèœå•æ ä¸­Editoré€‰é¡¹çš„Export for Localization</li><li>é€‰æ‹©å¯¼å‡ºçš„æ–‡ä»¶å¤¹å¹¶å‘½ååç‚¹å‡»å¯¼å‡º</li></ol><h1 id="ä¿®æ”¹æœ¬åœ°åŒ–å¤šè¯­è¨€æ–‡ä»¶"><a href="#ä¿®æ”¹æœ¬åœ°åŒ–å¤šè¯­è¨€æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹æœ¬åœ°åŒ–å¤šè¯­è¨€æ–‡ä»¶"></a>ä¿®æ”¹æœ¬åœ°åŒ–å¤šè¯­è¨€æ–‡ä»¶</h1><p>å¯¼å‡ºçš„æ–‡ä»¶ä¸­åŒ…å«å¤šä¸ª.xclocå­æ–‡ä»¶å¤¹ï¼Œæ¯ä¸€ä¸ªxlocæ–‡ä»¶å¤¹ä¸­çš„Localized Contentsä¸‹çš„.xliffæ–‡ä»¶å°±æ˜¯è¦å¡«å†™ç¿»è¯‘å†…å®¹çš„æ–‡ä»¶ã€‚</p><p>æ‰“å¼€xliffæ–‡ä»¶å¹¶åœ¨å…¶ä¸­æœç´¢â€œ<source>â€ï¼Œæœç´¢åˆ°çš„æ–‡æœ¬å°±æ˜¯éœ€è¦ç¿»è¯‘çš„å†…å®¹ã€‚æ¯ä¸ª<source>å¯¹åº”ä¸€ä¸ª<target>ï¼ŒæŠŠè¯‘æ–‡æ”¾åˆ°<target>å’Œ</target>ä¸­é—´ã€‚å°±åƒè¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;source&gt;First Label 111&lt;&#x2F;source&gt;</span><br><span class="line">&lt;target&gt;ç¬¬ä¸€ä¸ªæ–‡æœ¬&lt;&#x2F;target&gt;</span><br></pre></td></tr></table></figure><p>sourceæ˜¯Development Languageçš„è¯­è¨€æ–‡æœ¬ï¼Œtargetæ˜¯è¯‘æ–‡ã€‚ä¸Šé¢è¿™ä¸ªä¾‹å­çš„Development Languageæ˜¯è‹±æ–‡ï¼Œtargetæ˜¯ä¸­æ–‡ã€‚</p><p>sourceä¸æ˜¯<code>NSLocalizedString</code>ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šçš„keyï¼Œè€Œæ˜¯Development Languageä¸‹keyå¯¹åº”çš„valueï¼Œæ‰€ä»¥å¦‚æœå¼€å‘è¯­è¨€çš„è¯‘æ–‡å˜äº†ï¼Œè¿™é‡Œçš„sourceä¹Ÿä¼šå˜ã€‚</p><h1 id="ä½¿ç”¨Xcodeå¯¼å…¥æœ¬åœ°åŒ–å¤šè¯­è¨€æ–‡ä»¶"><a href="#ä½¿ç”¨Xcodeå¯¼å…¥æœ¬åœ°åŒ–å¤šè¯­è¨€æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨Xcodeå¯¼å…¥æœ¬åœ°åŒ–å¤šè¯­è¨€æ–‡ä»¶"></a>ä½¿ç”¨Xcodeå¯¼å…¥æœ¬åœ°åŒ–å¤šè¯­è¨€æ–‡ä»¶</h1><p>æŠŠæ‰€æœ‰éœ€è¦ç¿»è¯‘çš„å†…å®¹ç¿»è¯‘å®Œæˆåï¼Œä½¿ç”¨Xcodeæ‰“å¼€é¡¹ç›®ï¼Œå¹¶æ‰“å¼€.xcodeprojåé€‰æ‹©Editor-&gt;Import Localizationsï¼Œæ‰“å¼€ç¿»è¯‘æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•æŠŠ.xclocæŒ¨ä¸ªå¯¼å…¥å°±å¯ä»¥äº†ã€‚</p><p>è¿™é‡Œå»ºè®®å…ˆç¿»è¯‘å¹¶å¯¼å…¥Development Languageçš„.xclocæ–‡ä»¶å¤¹ï¼Œå†æ‰§è¡Œä¸€æ¬¡å¯¼å‡ºæ“ä½œåå†ç¿»è¯‘å…¶ä»–è¯­è¨€å¹¶å¯¼å…¥ã€‚å› ä¸ºç¬¬ä¸€æ¬¡å¯¼å‡ºæ—¶sourceæ˜¯NSLocalizedStringçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œè¿™ä¸ªå‚æ•°å¯èƒ½å¹¶ä¸æ˜¯ä¸»è¯­è¨€çš„æœ€ç»ˆç¿»è¯‘ï¼Œå¦‚æœå…¶ä»–è¯­è¨€éƒ½æŠŠç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºsourceæ¥ç¿»è¯‘å°±ä¼šé€ æˆæ‰¾ä¸åˆ°å¯¹åº”ç¿»è¯‘çš„é—®é¢˜ã€‚</p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>iOSå’ŒMacOSç³»ç»Ÿä»¥åŠå®ƒä»¬è‡ªå¸¦çš„Appåœ¨æœ¬åœ°åŒ–æ–¹é¢åšçš„éå¸¸å‡ºè‰²ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ²¡æœ‰ç‰¹æ®Šè¦æ±‚çš„æƒ…å†µä¸‹å°½é‡ä¾èµ–Xcodeæä¾›çš„åŠŸèƒ½æ¥å®ç°æœ¬åœ°åŒ–çš„éœ€æ±‚ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å›½é™…åŒ–æ˜¯å‡ºæµ·åº”ç”¨éå¸¸é‡è¦çš„ä¸€ä¸ªåŸºç¡€æ­¥éª¤ï¼Œå…¶ä¸­å¤šè¯­è¨€çš„é€‚é…æ˜¯é‡ä¸­ä¹‹é‡ã€‚Xcodeè‡ªå¸¦äº†å¸®åŠ©å¼€å‘è€…è¿›è¡ŒAppæœ¬åœ°åŒ–çš„åŠŸèƒ½ï¼Œå…¶ä¸­åŒ…æ‹¬å¤šè¯­è¨€æ–‡ä»¶çš„å¯¼å…¥å’Œå¯¼å‡ºï¼Œä½¿ç”¨è¿™äº›åŠŸèƒ½å¯ä»¥å¾ˆä¸æ»‘çš„å®Œæˆå¤šè¯­è¨€çš„å·¥ä½œã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="Xcode" scheme="http://www.iosprogrammer.tech/tags/Xcode/"/>
    
    <category term="å›½é™…åŒ–" scheme="http://www.iosprogrammer.tech/tags/%E5%9B%BD%E9%99%85%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>å¿…çœ‹ï¼2ä¸ªå…³äºiOSå¼€å‘å¤šè¯­è¨€çš„çŸ¥è¯†ç‚¹</title>
    <link href="http://www.iosprogrammer.tech/xcode/iphone-selected-language/"/>
    <id>http://www.iosprogrammer.tech/xcode/iphone-selected-language/</id>
    <published>2021-04-05T03:18:11.000Z</published>
    <updated>2021-05-01T06:46:23.768Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æŠŠAppè¿›è¡Œå›½é™…åŒ–çš„è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œè¿™ç¯‡æ–‡ç« æ¥çœ‹ä¸€ä¸‹Development Languageæ˜¯ä»€ä¹ˆä»¥åŠæ€ä¹ˆä¿®æ”¹å®ƒï¼Œå¹¶ä¸”çœ‹ä¸€ä¸‹ç³»ç»Ÿæ˜¯æ€ä¹ˆæ¥é€‰æ‹©ä½¿ç”¨å“ªä¸ªè¯­è¨€çš„ã€‚</p><a id="more"></a><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="ä»€ä¹ˆæ˜¯Development-Languageå’Œæ€ä¹ˆä¿®æ”¹å®ƒ"><a href="#ä»€ä¹ˆæ˜¯Development-Languageå’Œæ€ä¹ˆä¿®æ”¹å®ƒ" class="headerlink" title="ä»€ä¹ˆæ˜¯Development Languageå’Œæ€ä¹ˆä¿®æ”¹å®ƒ"></a>ä»€ä¹ˆæ˜¯Development Languageå’Œæ€ä¹ˆä¿®æ”¹å®ƒ</h1><p>åœ¨è¿›è¡Œå›½é™…åŒ–çš„è¿‡ç¨‹ä¸­éœ€è¦æŠŠAppä¸­çš„æ–‡å­—ç¿»è¯‘æˆå¤šä¸ªè¯­è¨€ï¼Œå…¶ä¸­æœ‰ä¸€ç§è¯­è¨€æ˜¯Development Languageï¼Œå½“æ²¡æœ‰ä»»ä½•ä¸€ç§è¯­è¨€æ»¡è¶³å½“å‰è®¾å¤‡çš„æ—¶å€™ç³»ç»Ÿä¼šä½¿ç”¨Development Languageã€‚</p><p>å¯ä»¥é€šè¿‡ä¿®æ”¹<em>project.pbxproj</em>æ–‡ä»¶æ¥ä¿®æ”¹Development Languageã€‚</p><ol><li>æ‰“å¼€é¡¹ç›®æ‰€åœ¨æ–‡ä»¶å¤¹</li><li>å³å‡».xcodeprojæ–‡ä»¶å¹¶é€‰æ‹©*Show package Content(æ˜¾ç¤ºåŒ…å†…å®¹)*ï¼ˆåº”è¯¥æ˜¯ç¬¬ä¸‰ä¸ªé€‰é¡¹ï¼‰</li><li>åŒå‡»<em>project.phxproj</em>æ‰“å¼€æ–‡ä»¶</li><li>æœç´¢<em>developmentRegion</em>ï¼Œå¹¶å°†å†…å®¹ä¿®æ”¹ä¸ºæƒ³è¦çš„è¯­è¨€ã€‚è¿™ä¸ªåœ°æ–¹çš„è¯­è¨€æ˜¯åœ¨æˆ‘ä»¬æ·»åŠ å¤šè¯­è¨€æ—¶çš„ç¼©å†™ï¼Œæ¯”å¦‚English=enã€Chinese, Simpilied=zh-Hansç­‰ç­‰ã€‚</li></ol><h1 id="iPhoneæ˜¯æ€ä¹ˆé€‰æ‹©å½“å‰ä½¿ç”¨çš„è¯­è¨€çš„"><a href="#iPhoneæ˜¯æ€ä¹ˆé€‰æ‹©å½“å‰ä½¿ç”¨çš„è¯­è¨€çš„" class="headerlink" title="iPhoneæ˜¯æ€ä¹ˆé€‰æ‹©å½“å‰ä½¿ç”¨çš„è¯­è¨€çš„"></a>iPhoneæ˜¯æ€ä¹ˆé€‰æ‹©å½“å‰ä½¿ç”¨çš„è¯­è¨€çš„</h1><ol><li>åœ¨iPhoneæ‰‹æœºçš„è®¾ç½®ä¸­â€œè¯­è¨€ä¸åœ°åŒºâ€é€‰æ‹©çš„â€œiPhoneè¯­è¨€â€æ˜¯æœ€é«˜ä¼˜å…ˆçº§ï¼Œå¦‚æœAppçš„å¤šè¯­è¨€åŒ…å«è¿™é‡Œè®¾ç½®çš„è¯­è¨€ä¼šç›´æ¥ä½¿ç”¨ã€‚</li><li>å¦‚æœAppçš„å¤šè¯­è¨€ä¸åŒ…å«â€œiPhoneè¯­è¨€â€ï¼Œé‚£ä¹ˆä¼šæŸ¥æ‰¾â€œé¦–é€‰è¯­è¨€é¡ºåºâ€ä¸­æ˜¯å¦æœ‰åŒ…å«åœ¨å¤šè¯­è¨€ä¸­çš„è¯­è¨€ï¼ŒæŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºæ‰¾åˆ°ä¸€ä¸ªè¯­è¨€åä¼šç›´æ¥ä½¿ç”¨è¿™ä¸ªè¯­è¨€ã€‚</li><li>å¦‚æœâ€œé¦–é€‰è¯­è¨€é¡ºåºâ€ä¸­ä¹Ÿæ²¡æœ‰ç¬¦åˆè¦æ±‚çš„ï¼Œé‚£ä¹ˆä¼šä½¿ç”¨Development Languageä½œä¸ºAppçš„è¯­è¨€ã€‚</li></ol><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨æŠŠAppè¿›è¡Œå›½é™…åŒ–çš„è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œè¿™ç¯‡æ–‡ç« æ¥çœ‹ä¸€ä¸‹Development Languageæ˜¯ä»€ä¹ˆä»¥åŠæ€ä¹ˆä¿®æ”¹å®ƒï¼Œå¹¶ä¸”çœ‹ä¸€ä¸‹ç³»ç»Ÿæ˜¯æ€ä¹ˆæ¥é€‰æ‹©ä½¿ç”¨å“ªä¸ªè¯­è¨€çš„ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="Xcode" scheme="http://www.iosprogrammer.tech/tags/Xcode/"/>
    
    <category term="å›½é™…åŒ–" scheme="http://www.iosprogrammer.tech/tags/%E5%9B%BD%E9%99%85%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>iOS Appå›½é™…åŒ–å¿…çœ‹ï¼ä½¿ç”¨Xibä½¿Appå®Œæˆå›½é™…åŒ–åŠŸèƒ½</title>
    <link href="http://www.iosprogrammer.tech/xcode/language-internalization-ib/"/>
    <id>http://www.iosprogrammer.tech/xcode/language-internalization-ib/</id>
    <published>2021-03-28T13:50:56.000Z</published>
    <updated>2021-05-01T06:46:24.985Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ©ç”¨Xibæˆ–è€…Storyboardæ¥åšiOSçš„å›½é™…åŒ–æ˜¯ä¸€ç§ç‰¹åˆ«æ–¹ä¾¿ä¸”é«˜æ•ˆçš„æ–¹å¼ã€‚é€šè¿‡ç®€å•çš„è®¾ç½®åå°±å¯ä»¥åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­æŠŠå†…å®¹ç¿»è¯‘ä¸ºä¸åŒçš„è¯­ç§ï¼Œè¿™ç¯‡æ–‡ç« æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹åˆ©ç”¨IBæ¥åšå›½é™…åŒ–è¦æ³¨æ„çš„ä¸€äº›é—®é¢˜ï¼Œå¸Œæœ›èƒ½å¤Ÿå¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p><a id="more"></a><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><p><img src="../../images/xcode-internaiton-ib/cover.png"></p><h1 id="å®Œæ•´äº†è§£å›½é™…åŒ–æ­¥éª¤"><a href="#å®Œæ•´äº†è§£å›½é™…åŒ–æ­¥éª¤" class="headerlink" title="å®Œæ•´äº†è§£å›½é™…åŒ–æ­¥éª¤"></a>å®Œæ•´äº†è§£å›½é™…åŒ–æ­¥éª¤</h1><p><img src="../../images/xcode-internaiton-ib/overview.png"></p><ol><li>å¢åŠ å›½é™…åŒ–è¯­è¨€ã€‚åœ¨xcodeå·¦ä¾§çš„é¡¹ç›®ç›®å½•æ ‘ä¸­ç‚¹å‡»<strong>é¡¹ç›®åç§°-&gt;ç‚¹å‡»â€œPROJECTâ€ä¸­çš„é¡¹ç›®åç§°-&gt;Info-&gt;Locatlizations</strong>ï¼Œä¹‹åç‚¹å‡»+å·å°±å¯ä»¥å¢åŠ è‡ªå·±éœ€è¦çš„è¯­è¨€äº†ã€‚</li><li>åœ¨é€‰æ‹©è¦å¢åŠ çš„è¯­è¨€ä¹‹åä¼šå¼¹å‡ºè®¾ç½®å¼¹çª—ï¼ŒæŠŠéœ€è¦å›½é™…åŒ–çš„IBï¼ˆXibã€Storyboardï¼‰æ–‡ä»¶å‹¾é€‰ä¸Šï¼Œå¹¶ä¸”åœ¨File Typesé€‰é¡¹ä¸­é€‰æ‹©<em>Localizable Strings</em>ã€‚</li><li>é¡¹ç›®ç›®å½•æ ‘ä¸­å¯¹åº”çš„IBæ–‡ä»¶å°±ä¼šæˆä¸ºæ–‡ä»¶å¤¹çš„å½¢å¼ï¼Œå¯ä»¥çœ‹åˆ°åˆšåˆšæ·»åŠ çš„è¯­è¨€æ–‡ä»¶ï¼ˆ*.strings(xxx)ï¼‰ã€‚</li></ol><h1 id="æ·»åŠ è¿‡è¯­è¨€ååˆè¦å¢åŠ UILabelç­‰æ§ä»¶å›½é™…åŒ–"><a href="#æ·»åŠ è¿‡è¯­è¨€ååˆè¦å¢åŠ UILabelç­‰æ§ä»¶å›½é™…åŒ–" class="headerlink" title="æ·»åŠ è¿‡è¯­è¨€ååˆè¦å¢åŠ UILabelç­‰æ§ä»¶å›½é™…åŒ–"></a>æ·»åŠ è¿‡è¯­è¨€ååˆè¦å¢åŠ UILabelç­‰æ§ä»¶å›½é™…åŒ–</h1><p>éšç€ç‰ˆæœ¬çš„å‡çº§æˆ–è€…éœ€æ±‚çš„æ”¹å˜ï¼Œæˆ‘ä»¬çš„IBæ–‡ä»¶å¾ˆå¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œç”±äºæˆ‘ä»¬ä½¿ç”¨äº†IBæ–‡ä»¶è¿›è¡Œå›½é™…åŒ–ï¼Œåˆä¸èƒ½æ¯æ¬¡æ”¹ç‰ˆé‡æ–°åšä¸€éå›½é™…åŒ–çš„å·¥ä½œï¼Œè¿™å°±è¦æ±‚æˆ‘ä»¬å¯ä»¥å®šä½åˆ°æ–°å¢çš„æ§ä»¶å¹¶è®¾ç½®è¯­è¨€ã€‚</p><p>åœ¨xxx.storyboad(Base)æ–‡ä»¶ä¸­é€‰ä¸­å¢åŠ çš„æ§ä»¶ï¼Œæ‰“å¼€å³ä¾§å¸®åŠ©æ ï¼Œæ‰¾åˆ°ç¬¬å››ä¸ªé€‰é¡¹å¡(Show the Identity Inspector)ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª<strong>Object ID</strong>ã€‚</p><p>æŠŠè¿™ä¸ªIDå¤åˆ¶åˆ°å…¶ä»–è¯­è¨€çš„.stringsæ–‡ä»¶ä¸­ï¼Œå°±å¯ä»¥è®¾ç½®å¯¹åº”çš„è¯­è¨€ç¿»è¯‘äº†ã€‚å…¶ä¸­UILabelã€UIButtonå’ŒUITextFiledçš„placehoderçš„è®¾ç½®æ–¹æ³•å¦‚ä¸‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* Class &#x3D; &quot;UITextField&quot;; placeholder &#x3D; &quot;ios&quot;; ObjectID &#x3D; &quot;RCg-HC-Mcn&quot;; *&#x2F;</span><br><span class="line">&quot;RCg-HC-Mcn.placeholder&quot; &#x3D; &quot;ios&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;* Class &#x3D; &quot;UIButton&quot;; normalTitle &#x3D; &quot;Button&quot;; ObjectID &#x3D; &quot;isH-qk-FQm&quot;; *&#x2F;</span><br><span class="line">&quot;isH-qk-FQm.normalTitle&quot; &#x3D; &quot;Button&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;* Class &#x3D; &quot;UILabel&quot;; text &#x3D; &quot;iosprogrammer.tech&quot;; ObjectID &#x3D; &quot;pLC-qp-tdZ&quot;; *&#x2F;</span><br><span class="line">&quot;pLC-qp-tdZ.text&quot; &#x3D; &quot;iosprogrammer.tech&quot;;</span><br></pre></td></tr></table></figure><h1 id="ä¸€äº›æ€»ç»“"><a href="#ä¸€äº›æ€»ç»“" class="headerlink" title="ä¸€äº›æ€»ç»“"></a>ä¸€äº›æ€»ç»“</h1><ol><li>å¦‚æœä¸€ä¸ªç”¨æˆ·çš„è®¾å¤‡ç³»ç»Ÿè¯­è¨€æ˜¯æ²¡æœ‰è¿›è¡Œé€‚é…çš„ï¼Œä»–ä¸‹è½½äº†åº”ç”¨åï¼Œå°†ä¼šä½¿ç”¨Baseè¯­è¨€ã€‚æ¯”å¦‚ä¸€ä¸ªè‘¡è„è¨€è¯­çš„ç”¨æˆ·ä¸‹è½½äº†ä¸€ä¸ªé€‚é…äº†æ—¥æ–‡å’ŒéŸ©æ–‡çš„appï¼Œå¹¶ä¸”è¿™ä¸ªappçš„Baseè¯­è¨€æ˜¯æ—¥æ–‡ï¼Œé‚£ä¹ˆè¿™ä¸ªç”¨æˆ·å°†ä¼šçœ‹åˆ°æ—¥æ–‡ã€‚</li><li>ä»ä¸€ä¸ªå·²ç»é€‚é…çš„è¯­è¨€åˆ‡æ¢åˆ°ä¸€ä¸ªæ²¡æœ‰é€‚é…çš„è¯­è¨€ï¼Œä»ç„¶ä¼šä½¿ç”¨åˆ‡æ¢å‰çš„è¯­è¨€ã€‚æ¯”å¦‚ä»é€‚é…äº†çš„ä¸­æ–‡ç®€ä½“åˆ‡æ¢åˆ°äº†æ²¡æœ‰é€‚é…çš„æ—¥æ–‡ï¼Œé‚£ç”¨æˆ·çœ‹åˆ°çš„ä»ç„¶ä¼šæ˜¯ä¸­æ–‡ç®€ä½“ã€‚</li></ol><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>é€šè¿‡è¿™ç¯‡æ–‡ç« æˆ‘ä»¬å­¦ä¹ äº†å‡ ä¸ªåœ¨ä½¿ç”¨IBæ¥åšiOSå›½é™…åŒ–çš„è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå¦‚æœæƒ³è¦å……åˆ†äº†è§£åˆ°è¿™æ–¹é¢çš„çŸ¥è¯†å»ºè®®é€šç¯‡é˜…è¯»ä¸€ä¸‹<a href="https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPInternational/Introduction/Introduction.html#//apple_ref/doc/uid/10000171i-CH1-SW1">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;åˆ©ç”¨Xibæˆ–è€…Storyboardæ¥åšiOSçš„å›½é™…åŒ–æ˜¯ä¸€ç§ç‰¹åˆ«æ–¹ä¾¿ä¸”é«˜æ•ˆçš„æ–¹å¼ã€‚é€šè¿‡ç®€å•çš„è®¾ç½®åå°±å¯ä»¥åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­æŠŠå†…å®¹ç¿»è¯‘ä¸ºä¸åŒçš„è¯­ç§ï¼Œè¿™ç¯‡æ–‡ç« æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹åˆ©ç”¨IBæ¥åšå›½é™…åŒ–è¦æ³¨æ„çš„ä¸€äº›é—®é¢˜ï¼Œå¸Œæœ›èƒ½å¤Ÿå¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="Xcode" scheme="http://www.iosprogrammer.tech/tags/Xcode/"/>
    
    <category term="å›½é™…åŒ–" scheme="http://www.iosprogrammer.tech/tags/%E5%9B%BD%E9%99%85%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>å‘Šè¯‰ä½ 3ä¸ªå®¹æ˜“è¢«å¿½ç•¥çš„å¯èƒ½é€ æˆå¾ªç¯å¼•ç”¨çš„æƒ…å†µå’Œ2ç§ä¸ä¼šé€ æˆå¾ªç¯å¼•ç”¨çš„æƒ…å†µ</title>
    <link href="http://www.iosprogrammer.tech/ios/retain-cycle-problems/"/>
    <id>http://www.iosprogrammer.tech/ios/retain-cycle-problems/</id>
    <published>2021-03-19T05:16:18.000Z</published>
    <updated>2021-04-14T00:57:35.196Z</updated>
    
    <content type="html"><![CDATA[<p>å¾ªç¯å¼•ç”¨æ˜¯iOSå¼€å‘ç§ååˆ†å¸¸è§çš„ä¸€ä¸ªé—®é¢˜ï¼Œä¹Ÿæ˜¯é¢è¯•ä¸­å‡ºç°é¢‘ç‡å¾ˆé«˜çš„ä¸€ç±»é—®é¢˜ï¼Œæœ‰äº›ç»éªŒçš„å¼€å‘è€…å¯¹å¾ªç¯å¼•ç”¨éƒ½æœ‰æ‰€äº†è§£ï¼Œä¹Ÿèƒ½åœ¨å¼€å‘è¿‡ç¨‹ä¸­å°½é‡é¿å…æ­¤ç±»é—®é¢˜ï¼Œä½†æ˜¯éšç€é¡¹ç›®çš„æ‰©å¤§å’Œå¼€å‘æ—¶é—´æœ‰é™æœ‰æ—¶ä¼šä¸ç»æ„è§ç»™å¼•ç”¨å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚</p><p>è¿™ç±»é—®é¢˜è™½ç„¶å¾ˆå¤šæ—¶å€™ä¸ä¼šå‡ºç°ä¸¥é‡çš„å½±å“ï¼Œä½†æ˜¯åœ¨å…¶ä»–ä¸€äº›æ¡ä»¶ä¸‹å¯èƒ½ä¼šå¸¦æ¥å¾ˆè¹Šè··çš„ç°è±¡ï¼Œæœ¬äººå°±æ·±å—å…¶å®³ã€‚æ‰€ä»¥åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹å…³äºå¾ªç¯å¼•ç”¨çš„ä¸€äº›å¸¸ç”¨çŸ¥è¯†ï¼Œä¹Ÿå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p><a id="more"></a><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="ä»€ä¹ˆæ˜¯å¾ªç¯å¼•ç”¨"><a href="#ä»€ä¹ˆæ˜¯å¾ªç¯å¼•ç”¨" class="headerlink" title="ä»€ä¹ˆæ˜¯å¾ªç¯å¼•ç”¨"></a>ä»€ä¹ˆæ˜¯å¾ªç¯å¼•ç”¨</h1><p>é€ æˆå¾ªç¯å¼•ç”¨é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯iOSçš„å¼•ç”¨è®¡æ•°æœºåˆ¶ï¼Œè€Œåœ¨å¼•ç”¨è®¡æ•°æœºåˆ¶ä¸‹å¦‚æœæœ‰å¼•ç”¨ä¸èƒ½å¾—åˆ°å³æ—¶çš„é‡Šæ”¾å°±ä¼šé€ æˆäº†å†…å­˜æ³„æ¼ï¼Œè¿™å°±æ˜¯å¾ªç¯å¼•ç”¨ã€‚</p><p>å¹¶ä¸”ä¸ºäº†ç»´æŒAppçš„é«˜æ€§èƒ½ï¼Œè‹¹æœå¹¶ä¸æ²¡æœ‰ä¹Ÿä¸æ‰“ç®—å¼•å…¥ç±»ä¼¼Androidä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶ã€‚è¿™å°±é€ æˆäº†å¦‚æœæˆ‘ä»¬å¯¼è‡´äº†å¾ªç¯å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™å—å†…å­˜å°±æ— æ³•å¾—åˆ°å›æ”¶ã€‚</p><p>æ³„æ¼çš„å†…å­˜å¤šäº†ä¼šé€ æˆç³»ç»Ÿå¼ºåˆ¶killæ‰æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œè™½ç„¶è¿™ç§ç°è±¡æˆ‘è¿˜æ²¡æœ‰è§åˆ°è¿‡ä¸è¿‡åŸç†ä¸Šæ¥è¯´ä¼šå‡ºç°è¿™ç§æƒ…å†µçš„ã€‚</p><p>ä¸€æ—¦æœ‰æ²¡æœ‰å¾—åˆ°å³æ—¶å›æ”¶çš„å¯¹è±¡å†…å­˜ï¼Œè¿˜å¯èƒ½é€ æˆä¸€äº›æ— å¯é¢„æœŸçš„é—®é¢˜ã€‚æ¯”æ–¹è¯´æˆ‘é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ï¼šç”±äºä¸€ä¸ªVCæ²¡æœ‰å¾—åˆ°å³æ—¶é‡Šæ”¾ï¼Œå¯¼è‡´é‡Œé¢çš„ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ä¸åœæ‰§è¡Œï¼Œæœ€ç»ˆå¯¼è‡´äº†è¥æ”¶ä¸åŠé¢„æœŸã€‚</p><p>æ‰€ä»¥å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ä¸€å®šè¦é‡è§†èµ·æ¥ã€‚</p><h1 id="ä¸‹é¢3ç§æƒ…å†µä¼šé€ æˆå¾ªç¯å¼•ç”¨"><a href="#ä¸‹é¢3ç§æƒ…å†µä¼šé€ æˆå¾ªç¯å¼•ç”¨" class="headerlink" title="ä¸‹é¢3ç§æƒ…å†µä¼šé€ æˆå¾ªç¯å¼•ç”¨"></a>ä¸‹é¢3ç§æƒ…å†µä¼šé€ æˆå¾ªç¯å¼•ç”¨</h1><p>ä¼šé€ æˆå¾ªç¯å¼•ç”¨é—®é¢˜çš„æƒ…å½¢å¾ˆå¤šï¼Œä¸‹é¢æˆ‘åˆ—ä¸¾äº†3ç§æƒ…å†µï¼Œå…¶ä¸­æœ‰ä¸€äº›æ˜¯è€ç”Ÿé•¿è°ˆï¼Œæœ‰äº›æ˜¯éœ€è¦ç‰¹åˆ«æ³¨æ„çš„ï¼Œæœ‰äº›çœŸçš„æ˜¯æ‰‹æ»‘é€ æˆçš„ã€‚</p><p>åœ¨ç¼–ç è¿‡ç¨‹ä¸­æ—¶åˆ»è°¨è®°è¿™äº›æƒ…å†µçœŸçš„å¯ä»¥é¿å…å¾ˆå¤šé”™è¯¯å‘ç”Ÿã€‚</p><h3 id="block"><a href="#block" class="headerlink" title="block"></a>block</h3><p>è¿™é‡Œçš„blockæŒ‡çš„æ˜¯viewå¯¹vcçš„å›è°ƒã€modelå¯¹vcçš„å›è°ƒæˆ–è€…å­viewå¯¹çˆ¶viewçš„å›è°ƒã€‚</p><p>ä¸è®ºæ˜¯å­viewè¿˜æ˜¯vcä¸­çš„modelï¼Œæˆ‘ä»¬éƒ½ä¹ æƒ¯äºç”¨strongæ¥ä¿®é¥°å®ƒä»¬ï¼Œè¿™æ—¶å€™åœ¨å®ƒä»¬çš„blockå›è°ƒé‡Œé¢ç”¨åˆ°<code>self</code>çš„æ—¶å€™ä¸€å®šè¦ç”¨<code>weak self</code>ã€‚</p><p>å¹¶ä¸”ï¼Œåˆ‡è®°æˆå‘˜å˜é‡<code>_xxx</code>å¦‚æœåœ¨è¿™ç§blockä¸­ä½¿ç”¨ä¹Ÿä¼šé€ æˆå¾ªç¯å¼•ç”¨ã€‚ä½¿ç”¨å¼±æŒ‡é’ˆæ¥æŒ‡å‘æˆå‘˜å˜é‡æ˜¯ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå°±åƒè¿™æ ·<code>self-&gt;_redView.backgroundColor = [UIColor greenColor];</code></p><h3 id="strongä¿®é¥°çš„delegate"><a href="#strongä¿®é¥°çš„delegate" class="headerlink" title="strongä¿®é¥°çš„delegate"></a>strongä¿®é¥°çš„delegate</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“delegateè¦ä½¿ç”¨weakæ¥ä¿®é¥°ï¼Œä¸è¿‡åœ¨ç¼–ç è¿‡ç¨‹ä¸­ç”±äºç–å¿½å¯èƒ½ä¼šè¯¯ç”¨strongæ¥ä¿®é¥°delegateï¼Œæ‰€ä»¥å¦‚æœå½“ä½ é‡åˆ°å¾ªç¯å¼•ç”¨å¯æ˜¯æ€ä¹ˆä¹Ÿæ‰¾ä¸åˆ°åŸå› æ—¶ï¼Œä¸å¦¨ä»è¿™ä¸ªæ€è·¯æ‰¾æ‰¾ã€‚æˆ‘å°±é‡åˆ°è¿‡è¿™ç§æƒ…å†µğŸ˜­ ã€‚</p><h3 id="ä¸€äº›å¼‚æ­¥å›è°ƒ"><a href="#ä¸€äº›å¼‚æ­¥å›è°ƒ" class="headerlink" title="ä¸€äº›å¼‚æ­¥å›è°ƒ"></a>ä¸€äº›å¼‚æ­¥å›è°ƒ</h3><p>æœ‰ä¸€äº›å¼‚æ­¥å›è°ƒæ˜¯ä½¿ç”¨blockçš„å½¢å¼æ¥å¤„ç†çš„ï¼Œè¿™å°±å¯èƒ½å¼•èµ·å¾ªç¯å¼•ç”¨ã€‚</p><p>æœ‰ä¸€äº›ç³»ç»Ÿçš„åŠŸèƒ½æ¯”æ–¹è¯´NSTimerçš„å®šæ—¶ä»»åŠ¡å°±ä¼šå¯¹selfé€ æˆå¼ºå¼•ç”¨ã€‚</p><p>è¿˜æœ‰ä¸€äº›æ˜¯æˆ‘ä»¬è‡ªå·±çš„åŠŸèƒ½æ¯”æ–¹è¯´ç½‘ç»œè¯·æ±‚.</p><h1 id="ä¸‹é¢2ç§æƒ…å†µä¸ä¼šé€ æˆå¾ªç¯å¼•ç”¨"><a href="#ä¸‹é¢2ç§æƒ…å†µä¸ä¼šé€ æˆå¾ªç¯å¼•ç”¨" class="headerlink" title="ä¸‹é¢2ç§æƒ…å†µä¸ä¼šé€ æˆå¾ªç¯å¼•ç”¨"></a>ä¸‹é¢2ç§æƒ…å†µä¸ä¼šé€ æˆå¾ªç¯å¼•ç”¨</h1><h3 id="ç”¨Masonryç»™viewæ·»åŠ çº¦æŸ"><a href="#ç”¨Masonryç»™viewæ·»åŠ çº¦æŸ" class="headerlink" title="ç”¨Masonryç»™viewæ·»åŠ çº¦æŸ"></a>ç”¨Masonryç»™viewæ·»åŠ çº¦æŸ</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span>.redView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.top.equalTo(@<span class="number">130</span>);</span><br><span class="line">    make.left.equalTo(<span class="keyword">self</span>.view.mas_left).offset(<span class="number">10</span>);</span><br><span class="line">    make.width.equalTo(@<span class="number">60</span>);</span><br><span class="line">    make.height.equalTo(@<span class="number">40</span>);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure><p>è¿™ç§ç”¨æ³•æ˜¯ä¸ä¼šé€ æˆå¾ªç¯å¼•ç”¨çš„ï¼Œå¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSArray</span> *)mas_makeConstraints:(<span class="keyword">void</span>(^)(MASConstraintMaker *))block &#123;</span><br><span class="line">    <span class="keyword">self</span>.translatesAutoresizingMaskIntoConstraints = <span class="literal">NO</span>;</span><br><span class="line">    MASConstraintMaker *constraintMaker = [[MASConstraintMaker alloc] initWithView:<span class="keyword">self</span>];</span><br><span class="line">    block(constraintMaker);</span><br><span class="line">    <span class="keyword">return</span> [constraintMaker install];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»æºç æ¥çœ‹ï¼Œè¿™é‡Œçš„blockå…¶å®æ˜¯ä¸€ä¸ªåŒæ­¥çš„æ–¹æ³•ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ä¸ä¼šé€ æˆå¾ªç¯å¼•ç”¨çš„ã€‚</p><h3 id="ä½¿ç”¨UIViewé™æ€æ–¹æ³•å®ç°åŠ¨ç”»"><a href="#ä½¿ç”¨UIViewé™æ€æ–¹æ³•å®ç°åŠ¨ç”»" class="headerlink" title="ä½¿ç”¨UIViewé™æ€æ–¹æ³•å®ç°åŠ¨ç”»"></a>ä½¿ç”¨UIViewé™æ€æ–¹æ³•å®ç°åŠ¨ç”»</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="built_in">UIView</span> animateWithDuration:<span class="number">3</span> animations:^&#123;</span><br><span class="line">    <span class="keyword">self</span>.redView.backgroundColor = [<span class="built_in">UIColor</span> greenColor];</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µè™½ç„¶åœ¨blocké‡Œé¢å¼•ç”¨åˆ°äº†selfï¼Œä½†æ˜¯ä¸ä¼šé€ æˆå¾ªç¯å¼•ç”¨ã€‚å› ä¸º<code>animateWithDuration:</code>æ˜¯ä¸€ä¸ªç±»æ–¹æ³•ã€‚</p><h1 id="å¼€å‘ä¸­æ€ä¹ˆè§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜"><a href="#å¼€å‘ä¸­æ€ä¹ˆè§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜" class="headerlink" title="å¼€å‘ä¸­æ€ä¹ˆè§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜"></a>å¼€å‘ä¸­æ€ä¹ˆè§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜</h1><p>é¦–å…ˆè¿™é‡Œçš„æ–¹æ³•å¹¶ä¸æ˜¯ä»€ä¹ˆå·¥ç¨‹çº§åˆ«çš„é«˜æ·±æ–¹æ³•ï¼Œåªæ˜¯æˆ‘åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ€»ç»“åˆ°çš„ä¸€äº›å®ç”¨ã€ä¾¿æ·çš„å°æŠ€å·§ã€‚</p><p>å½“æ€€ç–‘æŸä¸ªæ§åˆ¶å™¨æ²¡æœ‰å¾—åˆ°å³æ—¶çš„é‡Šæ”¾æ—¶ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ§åˆ¶å™¨é‡Œé¢é‡å†™<code>dealloc</code>å‡½æ•°ç„¶åæ‰“å°ä¸€è¡Œæ–‡å­—ï¼Œå†åœ¨è¿™è¡Œæ–‡å­—ä¸ŠåŠ ä¸€ä¸ªæ–­ç‚¹ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿›å‡ºè¿™ä¸ªæ§åˆ¶å™¨æ¥çœ‹åˆ°å®ƒçš„<code>dealloc</code>æ–¹æ³•æ˜¯ä¸æ˜¯å³æ—¶è¢«è°ƒç”¨äº†ã€‚å¦‚æœæ²¡æœ‰å³æ—¶è°ƒç”¨é‚£å°±æ˜¯æœ‰å¾ªç¯å¼•ç”¨äº§ç”Ÿï¼Œç›¸ååˆ™æ²¡æœ‰ã€‚</p><p>ç¡®å®šäº†æŸä¸ªæ§åˆ¶å™¨å†…ç¡®å®å‡ºç°äº†å¾ªç¯å¼•ç”¨ä¹‹åï¼Œå°±éœ€è¦å®šä½æ˜¯å“ªé‡Œå¯¼è‡´çš„å¾ªç¯å¼•ç”¨äº†ã€‚</p><p>æˆ‘ä¸ªäººä¹ æƒ¯å…ˆçœ‹æ˜¯ä¸æ˜¯blockå¯¼è‡´çš„ï¼Œè¦æƒ³å¿«é€Ÿçš„æœç´¢åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œé¢æ‰€æœ‰çš„blockå¯ä»¥é€šè¿‡æœç´¢<code>^&#123;</code>æ¥å®šä½ï¼Œä¹‹åå°±æ˜¯æ£€æŸ¥æ¯ä¸ªblocké‡Œé¢æ˜¯ä¸æ˜¯æŒ‰è§„èŒƒä½¿ç”¨äº†<code>self</code>ã€‚æ£€æŸ¥è¿‡ç¨‹ä¸€å®šè¦ä»”ç»†ï¼Œä¸ç„¶ä½ å¾ˆå¯èƒ½è¿˜å¾—é‡æ¥ä¸€éğŸ˜­ ã€‚</p><p>æ£€æŸ¥å®Œæ‰€æœ‰çš„blockåæœ‰99%çš„å¯èƒ½å·²ç»è§£å†³äº†å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œä¸ç„¶çš„è¯å°±å†å»æ£€æŸ¥ä¸€ä¸‹delegateå’Œæ˜¯ä¸æ˜¯ä½¿ç”¨äº†<code>NSTimer</code>ã€‚</p><p>è¿™ä¸ªè¿‡ç¨‹ä¸‹æ¥100%å¯ä»¥è§£å†³æ‰å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œå¦åˆ™ä½ æ¥å…¬ä¼—å·æ‰¾æˆ‘ã€‚</p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¾ªç¯å¼•ç”¨æ˜¯iOSå¼€å‘ç§ååˆ†å¸¸è§çš„ä¸€ä¸ªé—®é¢˜ï¼Œä¹Ÿæ˜¯é¢è¯•ä¸­å‡ºç°é¢‘ç‡å¾ˆé«˜çš„ä¸€ç±»é—®é¢˜ï¼Œæœ‰äº›ç»éªŒçš„å¼€å‘è€…å¯¹å¾ªç¯å¼•ç”¨éƒ½æœ‰æ‰€äº†è§£ï¼Œä¹Ÿèƒ½åœ¨å¼€å‘è¿‡ç¨‹ä¸­å°½é‡é¿å…æ­¤ç±»é—®é¢˜ï¼Œä½†æ˜¯éšç€é¡¹ç›®çš„æ‰©å¤§å’Œå¼€å‘æ—¶é—´æœ‰é™æœ‰æ—¶ä¼šä¸ç»æ„è§ç»™å¼•ç”¨å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç±»é—®é¢˜è™½ç„¶å¾ˆå¤šæ—¶å€™ä¸ä¼šå‡ºç°ä¸¥é‡çš„å½±å“ï¼Œä½†æ˜¯åœ¨å…¶ä»–ä¸€äº›æ¡ä»¶ä¸‹å¯èƒ½ä¼šå¸¦æ¥å¾ˆè¹Šè··çš„ç°è±¡ï¼Œæœ¬äººå°±æ·±å—å…¶å®³ã€‚æ‰€ä»¥åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹å…³äºå¾ªç¯å¼•ç”¨çš„ä¸€äº›å¸¸ç”¨çŸ¥è¯†ï¼Œä¹Ÿå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="iOS" scheme="http://www.iosprogrammer.tech/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>SwiftUIæ€ä¹ˆå®ç°UISearchBar</title>
    <link href="http://www.iosprogrammer.tech/swiftui/swiftui-searchbar/"/>
    <id>http://www.iosprogrammer.tech/swiftui/swiftui-searchbar/</id>
    <published>2021-03-13T13:33:16.000Z</published>
    <updated>2021-03-13T14:08:04.238Z</updated>
    
    <content type="html"><![CDATA[<p>SwiftUIæ²¡æœ‰æä¾›UISearchBarï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨TextFieldæ¥è‡ªå·±å®ç°SeachBarçš„æ•ˆæœï¼Œä¸è¿‡è¦æƒ³å®ç°ä¸€ä¸ªå’ŒUISearchBaråŒæ ·çš„æ§ä»¶å¹¶ä¸å®¹æ˜“ï¼Œå°¤å…¶æ˜¯æ¸…é™¤æŒ‰é’®å’Œæœç´¢å›¾æ ‡ã€‚</p><p>è¿™é‡Œæ¨èç›´æ¥ä½¿ç”¨UISearchBarå’ŒUIViewRepresentableåè®®æ¥ä¸€ä¸ªSearchBarã€‚</p><a id="more"></a><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><p><img src="../../images/first/swiftui-uisearchbar.png"></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SearchBar</span>: <span class="title">UIViewRepresentable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Binding</span> <span class="keyword">var</span> text: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> placeholder: <span class="type">String</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> onCommit: ((<span class="keyword">_</span> text: <span class="type">String</span>) -&gt; <span class="type">Void</span>)<span class="operator">?</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">makeUIView</span><span class="params">(context: UIViewRepresentableContext&lt;SearchBar&gt;)</span></span> -&gt; <span class="type">UISearchBar</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> searchBar <span class="operator">=</span> <span class="type">UISearchBar</span>(frame: .zero)</span><br><span class="line">        searchBar.delegate <span class="operator">=</span> context.coordinator</span><br><span class="line"></span><br><span class="line">        searchBar.placeholder <span class="operator">=</span> placeholder</span><br><span class="line">        searchBar.autocapitalizationType <span class="operator">=</span> .none</span><br><span class="line">        searchBar.searchBarStyle <span class="operator">=</span> .minimal</span><br><span class="line">        <span class="keyword">return</span> searchBar</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">updateUIView</span><span class="params">(<span class="keyword">_</span> uiView: UISearchBar, context: UIViewRepresentableContext&lt;SearchBar&gt;)</span></span> &#123;</span><br><span class="line">        uiView.text <span class="operator">=</span> text</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">makeCoordinator</span><span class="params">()</span></span> -&gt; <span class="type">SearchBar</span>.<span class="type">Coordinator</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Coordinator</span>(text: <span class="variable">$text</span>, onCommit: <span class="keyword">self</span>.onCommit)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Coordinator</span>: <span class="title">NSObject</span>, <span class="title">UISearchBarDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Binding</span> <span class="keyword">var</span> text: <span class="type">String</span></span><br><span class="line">        <span class="keyword">var</span> onCommit: ((<span class="keyword">_</span> text: <span class="type">String</span>) -&gt; <span class="type">Void</span>)<span class="operator">?</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">init</span>(text: <span class="type">Binding</span>&lt;<span class="type">String</span>&gt;, onCommit: ((<span class="keyword">_</span> text: <span class="type">String</span>) -&gt; <span class="type">Void</span>)<span class="operator">?</span>) &#123;</span><br><span class="line">            _text <span class="operator">=</span> text</span><br><span class="line">            <span class="keyword">self</span>.onCommit <span class="operator">=</span> onCommit</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">func</span> <span class="title">searchBar</span><span class="params">(<span class="keyword">_</span> searchBar: UISearchBar, textDidChange searchText: String)</span></span> &#123;</span><br><span class="line">            text <span class="operator">=</span> searchText</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">func</span> <span class="title">searchBarSearchButtonClicked</span><span class="params">(<span class="keyword">_</span> searchBar: UISearchBar)</span></span> &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> onCommit <span class="operator">=</span> <span class="keyword">self</span>.onCommit &#123;</span><br><span class="line">                onCommit(searchBar.text <span class="operator">??</span> <span class="string">&quot;&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>UIViewRepresentable</code>æ˜¯SwiftUIæ¡†æ¶ä¸­æä¾›çš„ç”¨äºå°†UIViewè½¬æ¢æˆSwiftUIä¸­Viewçš„åè®®ã€‚</p><p><code>func makeUIView(context: Self.Context) -&gt; Self.UIViewType</code>ç”¨æ¥åˆ›å»ºViewçš„æ–¹æ³•ï¼Œéµå®ˆUIViewRepresentableåè®®çš„ç±»å¿…é¡»è¦å®ç°è¿™ä¸ªæ–¹æ³•ã€‚å®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªUIViewç±»çš„å®ä¾‹ã€‚è¿™ä¸ªæ–¹æ³•åªä¼šåœ¨åˆ›å»ºViewæ—¶è°ƒç”¨ä¸€æ¬¡ï¼Œå½“Viewéœ€è¦æ›´æ–°æ—¶ä¼šè°ƒç”¨ä¸‹é¢çš„è¿™ä¸ªæ–¹æ³•ã€‚</p><p><code>func updateUIView(_ uiView: Self.UIViewType, context: Self.Context)</code>å½“UIViewå‘ç”Ÿä»»ä½•éœ€è¦æ›´æ–°çŠ¶æ€çš„äº‹ä»¶æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¼šè¢«è°ƒç”¨æ¥æ›´æ–°Viewçš„çŠ¶æ€ã€‚</p><p><code>func makeCoordinator() -&gt; Self.Coordinator</code>éœ€è¦ä¸€ä¸ª<code>Coordinator</code>çš„å®ä¾‹ä½œä¸ºè¿”å›å€¼ã€‚å®ƒé€šå¸¸ç”¨æ¥å¤„ç†ä¸€äº›äº‹ä»¶ï¼ˆç‚¹å‡»ã€æ—¶é—´ã€delegateã€é€šçŸ¥ï¼‰å¼•èµ·äº†UIViewçš„çŠ¶æ€å˜åŒ–åï¼Œèƒ½å¤Ÿå°†æ–°çš„çŠ¶æ€åæ˜ åˆ°Viewä¸Šã€‚</p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div>]]></content>
    
    
    <summary type="html">&lt;p&gt;SwiftUIæ²¡æœ‰æä¾›UISearchBarï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨TextFieldæ¥è‡ªå·±å®ç°SeachBarçš„æ•ˆæœï¼Œä¸è¿‡è¦æƒ³å®ç°ä¸€ä¸ªå’ŒUISearchBaråŒæ ·çš„æ§ä»¶å¹¶ä¸å®¹æ˜“ï¼Œå°¤å…¶æ˜¯æ¸…é™¤æŒ‰é’®å’Œæœç´¢å›¾æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ¨èç›´æ¥ä½¿ç”¨UISearchBarå’ŒUIViewRepresentableåè®®æ¥ä¸€ä¸ªSearchBarã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="SwiftUI" scheme="http://www.iosprogrammer.tech/tags/SwiftUI/"/>
    
  </entry>
  
  <entry>
    <title>iOSè®¾ç½®æ¸å˜è‰²ï¼Œç»™borderè®¾ç½®æ¸å˜è‰²</title>
    <link href="http://www.iosprogrammer.tech/ios/ios-gradient-color/"/>
    <id>http://www.iosprogrammer.tech/ios/ios-gradient-color/</id>
    <published>2021-03-07T12:50:56.000Z</published>
    <updated>2021-03-08T01:50:12.123Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†ä»4è¡Œä»£ç å‡ºå‘ç»™ä¸€ä¸ªviewè®¾ç½®æ¸å˜è‰²ï¼Œåˆ†åˆ«ä¼šè°ˆåˆ°å‡ ä¸ªé‡è¦çš„æ¸å˜è‰²ç›¸å…³å±æ€§ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰å‡ ä¸ªéœ€è¦ç‰¹åˆ«å…³æ³¨çš„ç‚¹ã€‚</p><p>ç»™ä¸€ä¸ªviewçš„borderè®¾ç½®æ¸å˜è‰²æ˜¯æ¯”è¾ƒé«˜é˜¶çš„ç”¨æ³•ï¼Œå¸Œæœ›æœ¬æ–‡å¯ä»¥åœ¨è¿™ä¸ªæ–¹é¢å¸®åŠ©åˆ°ä½ ã€‚</p><a id="more"></a><p><img src="../../images/first/ios-gradient-color-border.png" alt="iosæ¸å˜è‰²"></p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="ç»™viewè®¾ç½®æ¸å˜è‰²"><a href="#ç»™viewè®¾ç½®æ¸å˜è‰²" class="headerlink" title="ç»™viewè®¾ç½®æ¸å˜è‰²"></a>ç»™viewè®¾ç½®æ¸å˜è‰²</h1><p>é€šè¿‡4è¡Œä»£ç å°±å¯ä»¥ç»™ä¸€ä¸ªviewè®¾ç½®æ¸å˜è‰²ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> view <span class="operator">=</span> <span class="type">UIView</span>(frame: <span class="type">CGRect</span>(x: <span class="number">100</span>, y: <span class="number">100</span>, width: <span class="number">100</span>, height: <span class="number">100</span>))</span><br><span class="line"><span class="keyword">let</span> gradientLayer <span class="operator">=</span> <span class="type">CAGradientLayer</span>()</span><br><span class="line">gradientLayer.frame <span class="operator">=</span> view.bounds</span><br><span class="line"><span class="comment">// @[(__bridge id)[UIColor redColor].CGColor, (__bridge id)[UIColor yellowColor].CGColor]</span></span><br><span class="line">gradientLayer.colors <span class="operator">=</span> [<span class="type">UIColor</span>.red.cgColor, <span class="type">UIColor</span>.yellow.cgColor]</span><br><span class="line">view.layer.addSublayer(gradientLayer)</span><br></pre></td></tr></table></figure><p>åœ¨åˆ›å»º<code>CAGradientLayer</code>ä»¥åéœ€è¦è®¾ç½®<code>frame</code>æ‰èƒ½å±•ç¤ºå‡ºæ¥ï¼Œå¦åˆ™å®ƒçš„å¤§å°ä¼šä½¿ç”¨é»˜è®¤çš„0ã€‚</p><p>æ¸å˜è‰²ä¼šæ ¹æ®<code>colors</code>æ•°ç»„æ¥å±•ç¤ºï¼Œè¿™ä¸ªæ•°ç»„çš„ç±»å‹æ˜¯<code>CGColorRef</code>ï¼Œæ‰€ä»¥éœ€è¦ç”¨<code>.cgColor</code>å¼ºåˆ¶è½¬æ¢ï¼›å¦‚æœä½¿ç”¨çš„OCè¯­æ³•ï¼Œå¿…é¡»åŠ ä¸Š<code>(__bridge id)</code>ï¼Œå¦åˆ™æ¸å˜è‰²ä¼šæ˜¾ç¤ºä¸å‡ºæ¥ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹æ¸å˜ä¼šä»ä¸Šè‡³ä¸‹ï¼Œå¯æ˜¯é€šè¿‡è®¾ç½®<code>startPoint</code>å’Œ<code>endPoint</code>æ¥æ”¹å˜è¿™ä¸ªé¡ºåºï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gradientLayer.startPoint <span class="operator">=</span> <span class="type">CGPoint</span>(x: <span class="number">0</span>, y: <span class="number">0</span>)</span><br><span class="line">gradientLayer.endPoint <span class="operator">=</span> <span class="type">CGPoint</span>(x: <span class="number">1</span>, y: <span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªç‚¹çš„èŒƒå›´æ˜¯ä»0åˆ°1ï¼Œä¹Ÿå°±æ˜¯è¯´æœ€å·¦è¾¹å’Œæœ€ä¸Šè¾¹æ˜¯0ï¼Œæœ€ä¸‹å’Œæœ€å³æ˜¯1ã€‚è¿™ä¸ªä¾‹å­ä¸­æ¸å˜ä¼šå˜æˆä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ã€‚</p><p>æ¸å˜è‰²è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„å±æ€§æ˜¯<code>locations</code>ï¼Œè¿™ä¸ªå±æ€§æ˜¯ç”¨æ¥æŒ‡å®š<code>colors</code>ä¸­è®¾ç½®çš„æ¯ä¸ªé¢œè‰²çš„ç»ˆç‚¹çš„ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradientLayer.locations <span class="operator">=</span> [<span class="number">0.2</span>, <span class="number">0.8</span>]</span><br></pre></td></tr></table></figure><p>locationsä¸­å…ƒç´ çš„èŒƒå›´æ˜¯ä»0åˆ°1ã€‚åœ¨è¿™é‡Œï¼Œæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ <em>0.2</em>æŒ‡å®šäº†colorsæ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ <em>çº¢è‰²</em>çš„ç»ˆç‚¹æ˜¯0.2ï¼Œä¹Ÿå°±æ˜¯è¯´æŠŠæ•´ä¸ªæ¸å˜è‰²èŒƒå›´åˆ†æˆ10ä»½ï¼Œä»å¼€å§‹åˆ°<em>2/10</em>å¤„éƒ½æ˜¯çº¯çº¢è‰²ï¼Œä»<em>2/10</em>åˆ°<em>8/10</em>å¤„æ˜¯çº¯çº¢è‰²åˆ°çº¯é»„è‰²çš„æ¸å˜ï¼Œè€Œä»<em>8/10</em>åˆ°<em>10/10</em>æ˜¯çº¯é»„è‰²ã€‚</p><h1 id="ç»™viewçš„borderè®¾ç½®æ¸å˜è‰²"><a href="#ç»™viewçš„borderè®¾ç½®æ¸å˜è‰²" class="headerlink" title="ç»™viewçš„borderè®¾ç½®æ¸å˜è‰²"></a>ç»™viewçš„borderè®¾ç½®æ¸å˜è‰²</h1><p>ä½¿ç”¨<code>UIBezierPath</code>æ¥åˆ›å»ºä¸€ä¸ªå¸¦åœ†è§’çš„<code>CAShapeLayer</code>ï¼Œå¹¶ä¸”æŠŠå®ƒçš„åœ†è§’è®¾ç½®æˆviewçš„åœ†è§’ï¼Œå°±å¯ä»¥æŠŠä¸€ä¸ªviewçš„borderè®¾ç½®ä¸ºæ¸å˜è‰²ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">...</span> <span class="comment">// åŒä¸Šç»™viewè®¾ç½®gradientLayer</span></span><br><span class="line">        </span><br><span class="line"><span class="keyword">let</span> shapeLayer <span class="operator">=</span> <span class="type">CAShapeLayer</span>()</span><br><span class="line">shapeLayer.borderWidth <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">shapeLayer.path <span class="operator">=</span> <span class="type">UIBezierPath</span>(roundedRect: gradientLayer.bounds, cornerRadius: <span class="number">10</span>).cgPath</span><br><span class="line">shapeLayer.fillColor <span class="operator">=</span> <span class="type">UIColor</span>.clear.cgColor <span class="comment">// å¿…é¡»è¦è®¾ç½®æˆclearColoræˆ–è€…nilï¼Œé»˜è®¤æ˜¯é»‘è‰²</span></span><br><span class="line">shapeLayer.strokeColor <span class="operator">=</span> <span class="type">UIColor</span>.white.cgColor <span class="comment">// éšä¾¿è®¾ç½®ä¸€ä¸ªéclearColorçš„é¢œè‰²</span></span><br><span class="line">        </span><br><span class="line">gradientLayer.mask <span class="operator">=</span> shapeLayer</span><br><span class="line"></span><br><span class="line">view.layer.addSublayer(gradientLayer)</span><br></pre></td></tr></table></figure><ol><li><em>borderWidth</em> shapeLayerçš„borderå®½åº¦å’Œviewçš„ç›¸åŒï¼Œå¯ä»¥æ ¹æ®è®¾è®¡å›¾æ¥è®¾ç½®ã€‚</li><li><em>cornerRadius</em> UIBezierPathçš„åœ†è§’å’Œviewçš„åœ†è§’ç›¸åŒï¼›<em>roundedRect</em>å’Œ<em>CAGradientLayer</em>çš„å¤§å°ç›¸åŒã€‚</li><li><em>fillColor</em> æ˜¯shapeLayerçš„å¡«å……è‰²ï¼Œé»˜è®¤æ˜¯é»‘è‰²ï¼Œå»ºè®®è®¾ç½®æˆnilæˆ–è€…æ˜¯é€æ˜è‰²<code>clearColor</code></li><li><em>strokeColor</em> æ˜¯borderçš„æè¾¹è‰²ï¼Œå¦‚æœè®¾ç½®æˆclearColorçš„è¯å°±ä¸ä¼šç»˜åˆ¶å‡ºæ¥borderäº†ï¼Œè¿™é‡Œéšä¾¿ä¸€ä¸ªé¢œè‰²å°±æ˜¯è®©å…¶èƒ½å¤Ÿç»˜åˆ¶å‡ºæ¥ï¼Œå®é™…ä½¿ç”¨çš„æ˜¯æ¸å˜è‰²</li><li><em>mask</em> ç”¨shapeLayerä½œä¸ºgradientLayerçš„maskï¼Œå¯ä»¥è®©gradientLayerå†…éƒ¨æŒ–ç©ºï¼Œåªä¿ç•™è¾¹ç¼˜borderçš„æ¸å˜é¢œè‰²</li><li>æœ€ç»ˆæŠŠæ¸å˜è‰²layeræ·»åŠ åˆ°view.layerä¸Šï¼ŒshapeLayeråªæ˜¯ç”¨æ¥ä¿®é¥°gradientlayerçš„ï¼Œç›®çš„æ˜¯æŠŠgradientlayerçš„å†…éƒ¨æŒ–ç©ºï¼Œå¹¶ä¸”æŠŠborderå’Œåœ†è§’åšå‡ºæ¥ã€‚</li></ol><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>é€šè¿‡è¿™ç¯‡æ–‡ç« æˆ‘ä»¬äº†è§£äº†æ€ä¹ˆç»™ä¸€ä¸ªviewè®¾ç½®æ¸å˜è‰²ï¼Œå¹¶è¯¦ç»†é˜è¿°äº†æ¸å˜è‰²çš„å‡ ä¸ªé‡è¦å±æ€§ã€‚å…³äºç»™borderè®¾ç½®æ¸å˜è‰²æ˜¯ä¸€ä¸ªè¿›é˜¶çš„çŸ¥è¯†ç‚¹ã€‚</p><p>å¸Œæœ›æœ¬ç¯‡æ–‡ç« èƒ½å¤Ÿå¸®åŠ©åˆ°ä½ ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠæ–‡ç« åˆ†äº«åˆ°æœ‹å‹åœˆæˆ–å¾®åšã€‚</p><p>æœ‰ä»»ä½•é—®é¢˜éƒ½å¯ä»¥åˆ°å…¬ä¼—å·ç»™æˆ‘å‘ä¿¡æ¯ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ¬æ–‡å°†ä»4è¡Œä»£ç å‡ºå‘ç»™ä¸€ä¸ªviewè®¾ç½®æ¸å˜è‰²ï¼Œåˆ†åˆ«ä¼šè°ˆåˆ°å‡ ä¸ªé‡è¦çš„æ¸å˜è‰²ç›¸å…³å±æ€§ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰å‡ ä¸ªéœ€è¦ç‰¹åˆ«å…³æ³¨çš„ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ç»™ä¸€ä¸ªviewçš„borderè®¾ç½®æ¸å˜è‰²æ˜¯æ¯”è¾ƒé«˜é˜¶çš„ç”¨æ³•ï¼Œå¸Œæœ›æœ¬æ–‡å¯ä»¥åœ¨è¿™ä¸ªæ–¹é¢å¸®åŠ©åˆ°ä½ ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="iOS" scheme="http://www.iosprogrammer.tech/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>environmentå’ŒenvironmentObjectçš„åŒºåˆ«åŠé€‚ç”¨åœºæ™¯</title>
    <link href="http://www.iosprogrammer.tech/swiftui/environment-vs-environmentObject/"/>
    <id>http://www.iosprogrammer.tech/swiftui/environment-vs-environmentObject/</id>
    <published>2021-03-05T03:25:18.000Z</published>
    <updated>2021-03-05T07:01:31.618Z</updated>
    
    <content type="html"><![CDATA[<p>SwiftUIä¸­ä¼ é€’ç¯å¢ƒå˜é‡æ—¶ä¼šå‘ç°ä¸¤ä¸ªç›¸ä¼¼çš„æ–¹æ³•ï¼š<code>environment&lt;V&gt;(_ keyPath:, _ value:)</code>å’Œ<code>environmentObject&lt;T&gt;(_ object:)</code>ï¼Œè¿™ç¯‡æ–‡ç« æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸¤ä¸ªæ–¹æ³•çš„ä¸åŒä¹‹å¤„å’Œåˆ†åˆ«çš„é€‚ç”¨åœºæ™¯ã€‚</p><a id="more"></a><p><img src="../../images/first/swiftui-environmentobject-environment.png" alt="Swiftç¯å¢ƒå˜é‡å¯¹æ¯”"></p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚å›å¤â€œåšå®¢â€å…è´¹è·å–å„å¤§äº’è”ç½‘å…¬å¸é¢è¯•é¢˜ã€‚</p></div><p>é¦–å…ˆè¦æ˜ç¡®çš„ä¸€ç‚¹æ˜¯ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯ç”¨æ¥è®¾ç½®ç¯å¢ƒå˜é‡çš„ï¼Œè€Œç¯å¢ƒå˜é‡ä¼šå½±å“åˆ°è¢«è®¾ç½®å˜é‡çš„è§†å›¾ä»¥åŠå®ƒçš„æ‰€æœ‰å­è§†å›¾ï¼Œå¹¶ä¸”è¿™ä¸ªä¼ é€’è¿‡ç¨‹ä¸éœ€è¦æ˜ç¡®æŒ‡å‡ºã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡è®¾æœ‰ä¸‰ä¸ªè§†å›¾ï¼Œview1ã€view2ã€view3ï¼Œå…¶ä¸­view2å’Œview3æ˜¯view1çš„å­è§†å›¾ï¼Œè¦æƒ³åœ¨view2å’Œview3ä¸­ä½¿ç”¨view1è®¾ç½®çš„ç¯å¢ƒå˜é‡çš„è¯ï¼Œåªéœ€è¦ç›´æ¥åœ¨viewä¸­ä½¿ç”¨<code>@EnvironmentObject</code>æˆ–è€…<code>@Environment</code>è€Œä¸éœ€è¦åœ¨åˆ›å»ºview2å’Œview3çš„æ—¶å€™æ˜¾å¼ä¼ å‚ã€‚</p><h1 id="EnvironmentObject"><a href="#EnvironmentObject" class="headerlink" title="@EnvironmentObject"></a>@EnvironmentObject</h1><p>ä¸‹é¢ä»¥<code>@EnvironmentObject</code>ä¸¾ä¾‹è¯´æ˜ä¸Šé¢çš„è¿™æ®µè¯ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¬ä¼—å·â€”â€”iOSå¼€å‘æ ˆ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OfficalAccount</span>: <span class="title">ObservableObject</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Published</span> <span class="keyword">var</span> amount <span class="operator">=</span> <span class="number">3000</span> <span class="comment">// è®¢é˜…äººæ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">DetailView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="meta">@EnvironmentObject</span> <span class="keyword">var</span> account: <span class="type">OfficalAccount</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Button</span>(<span class="string">&quot;Increase Score in detailView&quot;</span>) &#123;</span><br><span class="line">                account.amount <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;account: <span class="subst">\(account.amount)</span>&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">DetailView2</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="meta">@EnvironmentObject</span> <span class="keyword">var</span> account: <span class="type">OfficalAccount</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Score: <span class="subst">\(account.amount)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="meta">@StateObject</span> <span class="keyword">var</span> account <span class="operator">=</span> <span class="type">OfficalAccount</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Button</span>(<span class="string">&quot;Increase Score&quot;</span>) &#123;</span><br><span class="line">                account.amount <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="type">DetailView</span>()</span><br><span class="line">            <span class="type">DetailView2</span>()</span><br><span class="line">        &#125;</span><br><span class="line">        .environmentObject(account)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­æ˜¯ä»¥æˆ‘çš„å…¬ä¼—å·ï¼ˆâ€iOSå¼€å‘æ ˆâ€œï¼‰çš„è®¢é˜…äººæ•°åšè¯´æ˜ï¼Œå¯ä»¥çœ‹å‡º<em>ContentView</em>åˆ›å»º<em>DetailView</em>å’Œ<em>DetailView2</em>æ—¶å¹¶æ²¡æœ‰ç›´æ¥ä¼ é€’å˜é‡<em>accout</em>ï¼Œä½†æ˜¯ç»“æœæ˜¯è¿™ä¸¤ä¸ªå­è§†å›¾ä¸­çš„æ•°é‡æ˜¾ç¤ºä¼šéšç€ç‚¹å‡»æŒ‰é’®è€Œå¢åŠ ã€‚</p><p>å¯¹ä¸Šé¢ä½¿ç”¨<code>environmentObject</code>è¿›è¡Œç¯å¢ƒå˜é‡ä¼ é€’æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p><ul><li>ä½¿ç”¨<code>@Environment</code>ã€<code>@StateObject</code>ã€<code>@ObservedObject</code>åŒ…è£…çš„ç±»å¿…é¡»éµå®ˆ<code>ObservableObject</code>åè®®ï¼Œå¹¶ä¸”åªèƒ½æ˜¯ç±»ä¸èƒ½æ˜¯ç»“æ„ä½“ï¼Œå¦åˆ™ä¼šæŠ¥é”™ <mark class="label danger">Non-class type OfficalAccount cannot conform to class protocol ObservableObject</mark></li><li><code>@Published</code>ä¹Ÿåªèƒ½åœ¨<em>class</em>ä¸­ä½¿ç”¨ï¼Œå¦‚æœæ”¾åœ¨äº†structä¸­ï¼Œä¼šæŠ¥é”™<mark class="label danger">'wrappedValue' is unavailable: </mark></li><li>ä½¿ç”¨<code>@EnvironmentObject</code>åŒ…è£…çš„å˜é‡æ˜¯ä¸éœ€è¦åˆå§‹åŒ–çš„ï¼Œç¼–è¯‘å™¨ä¼šä»ç¯å¢ƒå˜é‡ä¸­è·å–è¿™ä¸ªå¯¹è±¡çš„å€¼</li><li>åœ¨å­è§†å›¾ä¸­å¯ä»¥ä¿®æ”¹äº†ç¯å¢ƒå˜é‡çš„å€¼ï¼Œå¹¶ä¸”è¿™ä¸ªæ”¹å˜ä¼šåœ¨å½“å‰çš„è§†å›¾å±‚çº§ä¸­ä¼ é€’</li></ul><h1 id="Environment"><a href="#Environment" class="headerlink" title="@Environment"></a>@Environment</h1><p>è€Œå¯¹äº<code>@Environment</code>æ¥è¯´ï¼Œå®ƒä¸»è¦æ˜¯ç”¨æ¥å¤„ç†ä¸€äº›å½“å‰çš„ç³»ç»Ÿè®¾ç½®çš„ï¼Œæ¯”å¦‚è¯´è¯­è¨€ã€æ—¶åŒºã€é»‘æš—æ¨¡å¼ã€CoreDataçš„Contextç­‰ã€‚</p><p>åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¸€ä¸ªå¾ˆå¤§çš„ä¸åŒæ˜¯ï¼Œ<code>@Environment(_ keyPath:)</code>éœ€è¦æŒ‡å®šä¸€ä¸ªç±»å‹ä¸º<code>KeyPath</code>çš„å‚æ•°ï¼Œè€Œè¿™ä¸ªå‚æ•°å¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨çš„<code>EnvironmentValues</code>ä¸­å·²ç»å®šä¹‰å¥½çš„ï¼Œæ¯”å¦‚<code>managedObjectContext</code>/<code>locale</code>ç­‰ã€‚</p><p>ä¸‹é¢ä»¥ä½¿ç”¨<em>CoreData</em>ä¸ºä¾‹è¯´æ˜ä½¿ç”¨æ–¹æ³•ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// App.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="keyword">let</span> persistenceController <span class="operator">=</span> <span class="type">PersistenceController</span>.shared</span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">Scene</span> &#123;</span><br><span class="line">    <span class="type">WindowGroup</span> &#123;</span><br><span class="line">        <span class="type">ContentView</span>()</span><br><span class="line">            .environment(\.managedObjectContext, persistenceController.container.viewContext)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="operator">...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ContentView.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="meta">@Environment</span>(\.managedObjectContext) <span class="keyword">private</span> <span class="keyword">var</span> viewContext</span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="keyword">let</span> newItem <span class="operator">=</span> <span class="type">Item</span>(context: viewContext)</span><br><span class="line">newItem.platform <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨<em>App.swift</em>ä¸­åˆ›å»ºäº†<code>persistenceController</code>å¹¶é€šè¿‡è°ƒç”¨<code>.environment</code>æŠŠå€¼ä¼ é€’ç»™äº†<em>ContentView</em>ã€‚<em>ContentView</em>ä¸­ä½¿ç”¨<code>@Environment(\.managedObjectContext) private var viewContext</code>è·å–åˆ°äº†è¿™ä¸ªç¯å¢ƒå˜é‡ã€‚</p><p>é™¤äº†éœ€è¦ä¸€ä¸ªKeyPathå’Œä¸Šé¢æåˆ°çš„ä¸»è¦ç”¨æ¥å¤„ç†ç³»ç»Ÿè‡ªå¸¦çš„ç¯å¢ƒå˜é‡å¤–ï¼Œ<code>@Environment</code>å’Œ<code>@EnvironmentObject</code>åœ¨ç”¨æ³•ä¸Šç›¸å·®ä¸å¤§ã€‚</p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚å›å¤â€œåšå®¢â€å…è´¹è·å–å„å¤§äº’è”ç½‘å…¬å¸é¢è¯•é¢˜ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>é€šè¿‡çµæ´»ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥è®©å¼€å‘è¿‡ç¨‹æ›´åŠ ç®€å•ï¼Œé¡µé¢ä¹‹é—´å¯ä»¥å†™æ›´å°‘çš„å€¼ä¼ é€’ï¼ˆæ­£å‘ã€åç›¸ï¼‰ç›¸å…³ä»£ç ã€‚é€šè¿‡æœ¬æ–‡å¯¹<code>Environment</code>å’Œ<code>EnvironmentObject</code>çš„å¯¹æ¯”ï¼Œæˆ‘ä»¬æ›´æ·±å…¥çš„äº†è§£äº†SwiftUIä¸­ç¯å¢ƒå˜é‡çš„ä¸€äº›ä½¿ç”¨ç»†èŠ‚ã€‚</p><p>å¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©è¯·å¸®å¿™åˆ†äº«åˆ°æœ‹å‹åœˆæˆ–è€…å¾®åšã€‚</p><p>å¦‚æœæœ‰ä»»ä½•é—®é¢˜ä¹Ÿå¯ä»¥åˆ°å…¬ä¼—å·è”ç³»æˆ‘ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;SwiftUIä¸­ä¼ é€’ç¯å¢ƒå˜é‡æ—¶ä¼šå‘ç°ä¸¤ä¸ªç›¸ä¼¼çš„æ–¹æ³•ï¼š&lt;code&gt;environment&amp;lt;V&amp;gt;(_ keyPath:, _ value:)&lt;/code&gt;å’Œ&lt;code&gt;environmentObject&amp;lt;T&amp;gt;(_ object:)&lt;/code&gt;ï¼Œè¿™ç¯‡æ–‡ç« æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸¤ä¸ªæ–¹æ³•çš„ä¸åŒä¹‹å¤„å’Œåˆ†åˆ«çš„é€‚ç”¨åœºæ™¯ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="SwiftUI" scheme="http://www.iosprogrammer.tech/tags/SwiftUI/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨SwiftUIä¸­å®ç°UISegmentControl</title>
    <link href="http://www.iosprogrammer.tech/swiftui/swiftui-uisegmentcontrol/"/>
    <id>http://www.iosprogrammer.tech/swiftui/swiftui-uisegmentcontrol/</id>
    <published>2021-03-04T03:09:44.000Z</published>
    <updated>2021-03-04T10:24:09.339Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨SwiftUIä¸­å®˜æ–¹æŠŠæ§ä»¶åšäº†ç²¾ç®€ï¼Œé€ æˆæœ‰äº›åœ¨UIKitä¸­ä½¿ç”¨çš„æ§ä»¶æ‰¾ä¸åˆ°äº†ã€‚è¿™ç¯‡æ–‡ç« æ¥çœ‹ä¸€ä¸‹UIPickerViewåœ¨SwiftUIä¸­æ˜¯æ€ä¹ˆè¡¨ç¤ºçš„ã€‚</p><a id="more"></a><p>äº†è§£äº†ä¸€äº›SwiftUIçš„åŸºç¡€çŸ¥è¯†ä»¥åï¼Œåº”è¯¥å°±çŸ¥é“æœ‰ä¸€ä¸ª<code>Picker</code>æ§ä»¶ï¼Œæƒ³è¦å®ç°UISegmentControlçš„æ•ˆæœå°±è¦ç”¨åˆ°è¿™ä¸ªæ§ä»¶ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> platform <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">VStack</span> &#123;</span><br><span class="line">        <span class="type">Picker</span>(<span class="string">&quot;å¹³å°åç§°&quot;</span>, selection: <span class="variable">$platform</span>) &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;æ”¯ä»˜å®&quot;</span>).tag(<span class="number">1</span>).navigationTitle(<span class="string">&quot;é€‰æ‹©å¹³å°&quot;</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;äº¬ä¸œé‡‘è&quot;</span>).tag(<span class="number">2</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        .pickerStyle(<span class="type">SegmentedPickerStyle</span>())</span><br><span class="line">        </span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;<span class="subst">\(platform)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™æ®µä»£ç å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªUISegmentControlæ•ˆæœçš„Pickeräº†ã€‚</p><p>å…¶ä¸­å…³é”®éƒ¨åˆ†æ˜¯<code>.pickerStyle(SegmentedPickerStyle())</code>ï¼ŒpickerStyleæ˜¯ä¸€ä¸ªè®¾ç½®Pickeræ ·å¼çš„Modifierï¼Œ<code>SegmentedPickerStyle</code>å°±æ˜¯å¤–å‹å’ŒUISegmentControlä¸€æ‘¸ä¸€æ ·çš„æ•ˆæœã€‚</p><p>é™¤äº†SegmentedPickerStyleä»¥å¤–ï¼ŒpickerStyleè¿˜æœ‰ä¸‹é¢å‡ ç§ç±»å‹ï¼š</p><ul><li><code>DefaultPickerStyle</code> åœ¨ä¸åŒå¹³å°æœ‰ä¸åŒçš„å±•ç°å½¢å¼ã€‚iOSå¹³å°ä¸Šå’Œ<em>InlinePickerStyle</em>ç›¸åŒéƒ½æ˜¯æ»šè½®æ ·å¼ï¼›MacOSå¹³å°å’Œ<em>MenuPickerStyle</em>ç›¸åŒï¼›tvOSå¹³å°ä¸Šå’Œ<em>SegmentedPickerStyle</em>ç›¸åŒ</li><li><code>InlinePickerStyle</code>/<code>WheelPickerStyle</code> æ»šè½®æ ·å¼</li><li><code>MenuPickerStyle</code> ç‚¹å‡»åPickerçš„textåå¼¹å‡ºé€‰é¡¹ï¼Œæœ‰ç‚¹ç±»ä¼¼äº<code>MenuController</code></li><li><code>RadioGroupPickerStyle</code> MacOSä¸Šä½¿ç”¨çš„ï¼Œæ‰€æœ‰é€‰é¡¹ä¸€å­—æ’å¼€ï¼Œæ¯ä¸ªå‰é¢éƒ½æœ‰ä¸€ä¸ªå¤é€‰æ¡†â˜‘ï¸</li><li><code>SegmentedPickerStyle</code> ä¸Šé¢è¯´çš„æ¨¡ä»¿UISegmentControlçš„å¤–å½¢ï¼Œä½¿ç”¨è¿™ç§styleçš„æ—¶å€™ï¼ŒPickerçš„contentåªèƒ½æ˜¯Textæˆ–è€…Image</li></ul><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨SwiftUIä¸­å®˜æ–¹æŠŠæ§ä»¶åšäº†ç²¾ç®€ï¼Œé€ æˆæœ‰äº›åœ¨UIKitä¸­ä½¿ç”¨çš„æ§ä»¶æ‰¾ä¸åˆ°äº†ã€‚è¿™ç¯‡æ–‡ç« æ¥çœ‹ä¸€ä¸‹UIPickerViewåœ¨SwiftUIä¸­æ˜¯æ€ä¹ˆè¡¨ç¤ºçš„ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="SwiftUI" scheme="http://www.iosprogrammer.tech/tags/SwiftUI/"/>
    
  </entry>
  
  <entry>
    <title>3ä¸ªå…³äºSwiftUIä¸­TextFieldä¸å¾—ä¸çœ‹çš„çŸ¥è¯†ç‚¹</title>
    <link href="http://www.iosprogrammer.tech/swiftui/swiftui-textfield/"/>
    <id>http://www.iosprogrammer.tech/swiftui/swiftui-textfield/</id>
    <published>2021-02-27T12:21:57.000Z</published>
    <updated>2021-02-27T13:12:43.176Z</updated>
    
    <content type="html"><![CDATA[<p>å‡ ä¹æ¯ä¸€ä¸ªiOS Appéƒ½éœ€è¦å¤„ç†ç”¨æˆ·äº¤äº’ï¼Œè¾“å…¥æ¡†ä½œä¸ºè·å–ç”¨æˆ·è¾“å…¥å†…å®¹çš„æœ€å¸¸ç”¨æ§ä»¶ä¹‹ä¸€æ˜¯å¼€å‘è€…ç»å¸¸ç”¨åˆ°çš„ä¸€ä¸ªæ§ä»¶ã€‚è¿™ç¯‡æ–‡ç« æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹åœ¨iOS14ä¸­æ€ä¹ˆä½¿ç”¨å…¨æ–°çš„SwiftUIæ¡†æ¶æ¥å¤„ç†TextFieldã€‚</p><a id="more"></a><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><p><img src="../../images/first/swiftui-textfiled.png" alt="SwiftUI TextFieldçŸ¥è¯†ç‚¹"></p><h1 id="SwiftUIåˆ›å»ºä¸€ä¸ªåŸºç¡€çš„TextField"><a href="#SwiftUIåˆ›å»ºä¸€ä¸ªåŸºç¡€çš„TextField" class="headerlink" title="SwiftUIåˆ›å»ºä¸€ä¸ªåŸºç¡€çš„TextField"></a>SwiftUIåˆ›å»ºä¸€ä¸ªåŸºç¡€çš„TextField</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> aStr <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">TextField</span>(<span class="string">&quot;å…¬ä¼—å·&lt;iOSå¼€å‘æ ˆ&gt;&quot;</span>, text: <span class="variable">$aStr</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="type">Text</span>(aStr)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ª<code>TextField</code>éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå ä½ç¬¦å’Œä¸€ä¸ª<a href="https://www.iosprogrammer.tech/swiftui/swiftui-data-flow.html"><code>Bind&lt;Binding&lt;String</code></a>ã€‚</p><h1 id="TextFieldStyle"><a href="#TextFieldStyle" class="headerlink" title="TextFieldStyle"></a>TextFieldStyle</h1><p>é€šè¿‡è®¾ç½®<code>textFieldStyle</code>å¯ä»¥ä¿®æ”¹<code>TextField</code>çš„å±•ç°æ ·å¼ï¼Œåœ¨SwiftUIä¸­ç³»ç»Ÿè‡ªå¸¦äº†UIKitæ¡†æ¶ä¸­çš„å‡ ä¸ªæ ·å¼ï¼š<code>DefaultTextFieldStyle</code>/<code>PlainTextFieldStyle</code>/<code>RoundedBorderTextFieldStyle</code>ã€‚</p><p>è®¾ç½®çš„æ–¹æ³•æ˜¯ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TextField</span>(<span class="string">&quot;å…¬ä¼—å·&lt;iOSå¼€å‘æ ˆ&gt;&quot;</span>, text: <span class="variable">$aStr</span>)</span><br><span class="line">    .textFieldStyle(<span class="type">DefaultTextFieldStyle</span>())</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœç³»ç»Ÿè‡ªå¸¦çš„è¿™ä¸‰ç§æ ·å¼éƒ½ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰TextFieldçš„æ ·å¼</p></blockquote><h1 id="TextFieldæ–‡æœ¬å¯¹é½æ–¹å¼"><a href="#TextFieldæ–‡æœ¬å¯¹é½æ–¹å¼" class="headerlink" title="TextFieldæ–‡æœ¬å¯¹é½æ–¹å¼"></a>TextFieldæ–‡æœ¬å¯¹é½æ–¹å¼</h1><p>åœ¨SwiftUIä¸­è®¾ç½®TextFieldçš„æ–‡æœ¬å¯¹é½æ–¹å¼ä½¿ç”¨çš„modifieræ˜¯<code>multilineTextAlignment</code>ï¼Œå…¶ä¸­åŒ…å«<code>leading</code>/<code>center</code>/<code>trailing</code>ä¸‰ç§å¯¹é½æ–¹å¼ã€‚</p><p>ä½¿ç”¨è¿™ä¸ªmodifierçš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TextField</span>(<span class="string">&quot;å…¬ä¼—å·&lt;iOSå¼€å‘æ ˆ&gt;&quot;</span>, text: <span class="variable">$aStr</span>)</span><br><span class="line">    .multilineTextAlignment(.trailing)</span><br></pre></td></tr></table></figure><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ç¯‡æ–‡ç« å¯¹SwiftUIæ¡†æ¶ä¸­çš„<code>TextFiled</code>æ§ä»¶è¿›è¡Œäº†è®²è§£ï¼Œä¸»è¦æ¶‰åŠäº†åˆ›å»ºæ–¹æ³•ã€ä¿®æ”¹å±•ç¤ºæ ·å¼å’Œè®¾ç½®æ–‡æœ¬å¯¹é½æ–¹æ³•ä¸‰ä¸ªæ–¹é¢ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å‡ ä¹æ¯ä¸€ä¸ªiOS Appéƒ½éœ€è¦å¤„ç†ç”¨æˆ·äº¤äº’ï¼Œè¾“å…¥æ¡†ä½œä¸ºè·å–ç”¨æˆ·è¾“å…¥å†…å®¹çš„æœ€å¸¸ç”¨æ§ä»¶ä¹‹ä¸€æ˜¯å¼€å‘è€…ç»å¸¸ç”¨åˆ°çš„ä¸€ä¸ªæ§ä»¶ã€‚è¿™ç¯‡æ–‡ç« æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹åœ¨iOS14ä¸­æ€ä¹ˆä½¿ç”¨å…¨æ–°çš„SwiftUIæ¡†æ¶æ¥å¤„ç†TextFieldã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="SwiftUI" scheme="http://www.iosprogrammer.tech/tags/SwiftUI/"/>
    
  </entry>
  
  <entry>
    <title>SwiftUIç»™Coloræ·»åŠ æ‰©å±•æ”¯æŒåå…­è¿›åˆ¶å­—ç¬¦ä¸²</title>
    <link href="http://www.iosprogrammer.tech/swiftui/SwiftUI-Color-Hex/"/>
    <id>http://www.iosprogrammer.tech/swiftui/SwiftUI-Color-Hex/</id>
    <published>2021-02-26T03:06:25.000Z</published>
    <updated>2021-02-26T03:21:50.689Z</updated>
    
    <content type="html"><![CDATA[<p>SwiftUIä¸­ä½¿ç”¨<code>Color</code>è¡¨ç¤ºé¢œè‰²ï¼Œä¸ºäº†èƒ½å¤Ÿå°½é‡ç‹¬ç«‹çš„ä½¿ç”¨SwiftUIç‰¹æ€§ï¼Œæˆ‘ä»¬é€šè¿‡ç»™Coloræ·»åŠ ä¸€ä¸ªç®€å•çš„æ‰©å±•æ¥æ»¡è¶³å¯¹åå…­è¿›åˆ¶é¢œè‰²çš„ä½¿ç”¨ã€‚</p><a id="more"></a><p>ä¸‹é¢æ˜¯è¿™ä¸ªæ‰©å±•çš„æ‰€æœ‰ä»£ç ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">    <span class="keyword">init</span>(hex: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> hex <span class="operator">=</span> hex.trimmingCharacters(<span class="keyword">in</span>: <span class="type">CharacterSet</span>.alphanumerics.inverted)</span><br><span class="line">        <span class="keyword">var</span> int: <span class="type">UInt64</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">        <span class="type">Scanner</span>(string: hex).scanHexInt64(<span class="operator">&amp;</span>int)</span><br><span class="line">        <span class="keyword">let</span> a, r, g, b: <span class="type">UInt64</span></span><br><span class="line">        <span class="keyword">switch</span> hex.count &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>: <span class="comment">// RGB (12-bit)</span></span><br><span class="line">            (a, r, g, b) <span class="operator">=</span> (<span class="number">255</span>, (int <span class="operator">&gt;&gt;</span> <span class="number">8</span>) <span class="operator">*</span> <span class="number">17</span>, (int <span class="operator">&gt;&gt;</span> <span class="number">4</span> <span class="operator">&amp;</span> <span class="number">0xF</span>) <span class="operator">*</span> <span class="number">17</span>, (int <span class="operator">&amp;</span> <span class="number">0xF</span>) <span class="operator">*</span> <span class="number">17</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>: <span class="comment">// RGB (24-bit)</span></span><br><span class="line">            (a, r, g, b) <span class="operator">=</span> (<span class="number">255</span>, int <span class="operator">&gt;&gt;</span> <span class="number">16</span>, int <span class="operator">&gt;&gt;</span> <span class="number">8</span> <span class="operator">&amp;</span> <span class="number">0xFF</span>, int <span class="operator">&amp;</span> <span class="number">0xFF</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="number">8</span>: <span class="comment">// ARGB (32-bit)</span></span><br><span class="line">            (a, r, g, b) <span class="operator">=</span> (int <span class="operator">&gt;&gt;</span> <span class="number">24</span>, int <span class="operator">&gt;&gt;</span> <span class="number">16</span> <span class="operator">&amp;</span> <span class="number">0xFF</span>, int <span class="operator">&gt;&gt;</span> <span class="number">8</span> <span class="operator">&amp;</span> <span class="number">0xFF</span>, int <span class="operator">&amp;</span> <span class="number">0xFF</span>)</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            (a, r, g, b) <span class="operator">=</span> (<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(</span><br><span class="line">            .sRGB,</span><br><span class="line">            red: <span class="type">Double</span>(r) <span class="operator">/</span> <span class="number">255</span>,</span><br><span class="line">            green: <span class="type">Double</span>(g) <span class="operator">/</span> <span class="number">255</span>,</span><br><span class="line">            blue:  <span class="type">Double</span>(b) <span class="operator">/</span> <span class="number">255</span>,</span><br><span class="line">            opacity: <span class="type">Double</span>(a) <span class="operator">/</span> <span class="number">255</span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Color</span>(hex: <span class="string">&quot;#FF6D5D&quot;</span>)</span><br></pre></td></tr></table></figure><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div>]]></content>
    
    
    <summary type="html">&lt;p&gt;SwiftUIä¸­ä½¿ç”¨&lt;code&gt;Color&lt;/code&gt;è¡¨ç¤ºé¢œè‰²ï¼Œä¸ºäº†èƒ½å¤Ÿå°½é‡ç‹¬ç«‹çš„ä½¿ç”¨SwiftUIç‰¹æ€§ï¼Œæˆ‘ä»¬é€šè¿‡ç»™Coloræ·»åŠ ä¸€ä¸ªç®€å•çš„æ‰©å±•æ¥æ»¡è¶³å¯¹åå…­è¿›åˆ¶é¢œè‰²çš„ä½¿ç”¨ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="SwiftUI" scheme="http://www.iosprogrammer.tech/tags/SwiftUI/"/>
    
  </entry>
  
  <entry>
    <title>è¯¦è§£SwiftUIä¸­Dividerå’ŒSpacerçš„ç”¨æ³•å’ŒåŒºåˆ«ï¼ˆæœ€æ–°ï¼‰</title>
    <link href="http://www.iosprogrammer.tech/swiftui/swiftui-divide-spacer/"/>
    <id>http://www.iosprogrammer.tech/swiftui/swiftui-divide-spacer/</id>
    <published>2021-02-17T11:43:10.000Z</published>
    <updated>2021-02-25T06:53:41.437Z</updated>
    
    <content type="html"><![CDATA[<p>Dividerå’ŒSpaceréƒ½å¯ä»¥ç”¨åˆ°åˆ†å‰²ä¸¤ä¸ªè§†å›¾ï¼Œä½†æ˜¯å®ƒä»¬ä¹Ÿæœ‰ä¸€äº›åŒºåˆ«ã€‚é€šè¿‡è¿™ç¯‡æ–‡ç« æˆ‘ä»¬å°†å­¦åˆ°è¿™ä¸¤ä¸ªæ§ä»¶çš„ä½¿ç”¨æ–¹å¼å’Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚</p><a id="more"></a><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p></div><p><img src="../../images/first/SwiftUI-Divider-Spacer.jpg" alt="SwiftUI-Divider-vs-Spacer"></p><h1 id="Spacer"><a href="#Spacer" class="headerlink" title="Spacer"></a>Spacer</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Top&quot;</span>).background(<span class="type">Color</span>.red)</span><br><span class="line">            <span class="type">Spacer</span>()</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Bottom&quot;</span>).background(<span class="type">Color</span>.red)</span><br><span class="line">        &#125;</span><br><span class="line">        .frame(width: <span class="number">100</span>, height: <span class="number">400</span>, alignment: .center)</span><br><span class="line">        .background(<span class="type">Color</span>.yellow)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨â€œTopâ€å’Œâ€œBottomâ€ä¹‹é—´æ·»åŠ ä¸€ä¸ª<code>Spacer</code>æ§ä»¶ï¼Œä¼šæŠŠè¿™ä¸¤ä¸ªæ–‡å­—éš”å¼€ï¼Œä½¿è¿™ä¸¤ä¸ªæ–‡å­—åˆ†åˆ«ä½äºæœ€ä¸Šå’Œæœ€ä¸‹é¢ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Spacer</span>(minLength: <span class="number">30</span>)</span><br></pre></td></tr></table></figure><p>é€šè¿‡è®¾ç½®<code>minLength</code>å¯ä»¥æŒ‡å®šè¢«åˆ†å¼€çš„ä¸¤ä¸ªè§†å›¾çš„æœ€å°è·ç¦»ï¼Œå¦‚æœä¸æŒ‡å®šçš„è¯ï¼Œä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„è·ç¦»ã€‚</p><h1 id="Divider"><a href="#Divider" class="headerlink" title="Divider"></a>Divider</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Top&quot;</span>).background(<span class="type">Color</span>.red)</span><br><span class="line">    <span class="type">Divider</span>().background(<span class="type">Color</span>.red)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Bottom&quot;</span>).background(<span class="type">Color</span>.red)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Topå’ŒBottomä¹‹é—´æ·»åŠ ä¸€ä¸ªDivideræ§ä»¶å¯ä»¥åœ¨ä¸¤ä¸ªè§†å›¾ä¹‹é—´æ·»åŠ ä¸€ä¸ªé—´éš”ï¼Œå’Œä¸Šé¢çš„<code>Spacer</code>ä¸åŒçš„æ˜¯ä¸­é—´ä¼šå‡ºç°ä¸€æ ¹çº¿ï¼Œ<code>background</code>è®¾ç½®çš„é¢œè‰²ä¼šå½±å“åˆ°è¿™æ ¹çº¿çš„é¢œè‰²ã€‚</p><p>å¹¶ä¸”ï¼Œè¢«Divideråˆ†å‰²çš„ä¸¤ä¸ªè§†å›¾ä¸­é—´çš„è·ç¦»æ˜¯å›ºå®šçš„ï¼Œå®ƒä»¬ä¸ä¼šç§»åŠ¨åˆ°çˆ¶è§†å›¾çš„ä¸¤ç«¯ã€‚</p><p>å¦å¤–ï¼ŒæŠŠ<code>Divider</code>çš„é«˜åº¦åˆ†åˆ«è®¾ç½®ä¸º0ä¹‹åï¼Œè¢«å®ƒåˆ†å‰²çš„ä¸¤ä¸ªè§†å›¾ä¸ä¼šé åœ¨ä¸€èµ·ã€‚ä½†æ˜¯æŠŠ<code>Spacer</code>çš„é«˜åº¦è®¾ç½®ä¸º0ï¼Œè¢«å®ƒåˆ†å‰²çš„ä¸¤ä¸ªè§†å›¾ä¼šé åœ¨ä¸€èµ·ï¼Œå°±å’Œæ²¡æœ‰è¢«åˆ†å‰²ä¸€æ ·ã€‚</p><div class="note info"><p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚å›å¤â€œåšå®¢â€å…è´¹è·å–å„å¤§äº’è”ç½‘å…¬å¸é¢è¯•é¢˜ã€‚</p></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ç¯‡æ–‡ç« å­¦ä¹ äº†SwiftUIä¸­<code>Spacer</code>å’Œ<code>Divider</code>çš„ç”¨æ³•ä»¥åŠå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ï¼Œè¿™ä¸¤ä¸ªæ§ä»¶åœ¨SwiftUIä¸­è™½ç„¶ç®€å•ä½†æ˜¯éå¸¸çš„å¸¸ç”¨ï¼Œæˆ‘ä»¬ä¸€å®šè¦ç†Ÿæ‚‰ã€‚å¦‚æœä½ æœ‰ä»»ä½•çš„é—®é¢˜ã€å»ºè®®éƒ½å¯ä»¥é€šè¿‡<a href="https://weibo.com/7414691003/profile">å¾®åš</a>æˆ–<a href="mailto:shizhiang@126.com">é‚®ä»¶</a>è”ç³»åˆ°æˆ‘æœ¬äººã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Dividerå’ŒSpaceréƒ½å¯ä»¥ç”¨åˆ°åˆ†å‰²ä¸¤ä¸ªè§†å›¾ï¼Œä½†æ˜¯å®ƒä»¬ä¹Ÿæœ‰ä¸€äº›åŒºåˆ«ã€‚é€šè¿‡è¿™ç¯‡æ–‡ç« æˆ‘ä»¬å°†å­¦åˆ°è¿™ä¸¤ä¸ªæ§ä»¶çš„ä½¿ç”¨æ–¹å¼å’Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="SwiftUI" scheme="http://www.iosprogrammer.tech/tags/SwiftUI/"/>
    
  </entry>
  
</feed>
