<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>不务正业的程序员</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="iOS,iOS开发技术,Objective-C,Swift,Cocoa">
<meta property="og:type" content="website">
<meta property="og:title" content="不务正业的程序员">
<meta property="og:url" content="http://www.iosprogrammer.tech/page/3/index.html">
<meta property="og:site_name" content="不务正业的程序员">
<meta property="og:description" content="iOS,iOS开发技术,Objective-C,Swift,Cocoa">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="不务正业的程序员">
<meta name="twitter:description" content="iOS,iOS开发技术,Objective-C,Swift,Cocoa">
  
    <link rel="alternate" href="/atom.xml" title="不务正业的程序员" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">不务正业的程序员</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">爱编程的大头（公众号同名）</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.iosprogrammer.tech"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-learn-react-native-with-me-project-instruction" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/learn-react-native-with-me-project-instruction/" class="article-date">
  <time datetime="2018-06-12T12:59:58.000Z" itemprop="datePublished">2018-06-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/react-native/">react-native</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/learn-react-native-with-me-project-instruction/">跟我一起学React Native之项目结构搭建</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h4><p>这篇文章是“<a href="http://www.iosprogrammer.tech/categories/react-native/">跟我一起学react-native</a>”系列文章的第二篇。这系列文章会随着这个新闻项目的进行更新。想要跟我一起学习React Native的朋友可以关注我的微信公众号<strong>iOS进阶指南</strong>，或者订阅我的<a href="http://www.iosprogrammer.tech">个人博客</a>。</p>
<p><a href="[http://www.iosprogrammer.tech/learn-react-native-with-me-construction/](http://www.iosprogrammer.tech/learn-react-native-with-me-construction/">上一篇文章</a>)讲了React Native的环境搭建过程，本篇文章将讨论“水滴新闻”项目结构的搭建。</p>
<h4 id="最终效果"><a href="#最终效果" class="headerlink" title="最终效果"></a>最终效果</h4><p><img src="https://upload-images.jianshu.io/upload_images/424855-c3242548a1c76b6b.gif?imageMogr2/auto-orient/strip" alt="效果"></p>
<h4 id="项目文件结构"><a href="#项目文件结构" class="headerlink" title="项目文件结构"></a>项目文件结构</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">rn_shuidi</span><br><span class="line">　| - - - - - - - App.js</span><br><span class="line">　| - - - - - - - app.json</span><br><span class="line">　| - - - - - - - index.js</span><br><span class="line">　| - - - - - - - node_modules</span><br><span class="line">　| - - - - - - - shuidi</span><br><span class="line">　　| - - - - - - - home</span><br><span class="line">　　　| - - - - - - - HomeScreen.js</span><br><span class="line">　　　| - - - - - - - NodeScreen.js</span><br><span class="line">　　| - - - - - - - attention</span><br><span class="line">　　| - - - - - - - me</span><br><span class="line">　| - - - - - - - android</span><br><span class="line">　| - - - - - - - ios</span><br><span class="line">　| - - - - - - - img</span><br><span class="line">　　| - - - - - - - home_normal.png</span><br><span class="line">　　| - - - - - - - home_selected.png</span><br><span class="line">　| - - - - - - - package.json</span><br></pre></td></tr></table></figure>
<h4 id="react-navigation"><a href="#react-navigation" class="headerlink" title="react-navigation"></a>react-navigation</h4><p>因为项目中包含多个页面，页面之间切换要使用TabBar和Navigation，因此要使用react-navigation这个框架。<br>安装react-navigation<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd rn_shuidi</span><br><span class="line">npm install react-navigation</span><br></pre></td></tr></table></figure></p>
<h4 id="Navigation"><a href="#Navigation" class="headerlink" title="Navigation"></a>Navigation</h4><p>下面以“主页为例”创建navigation<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">App.js</span><br><span class="line"></span><br><span class="line">import &#123; createStackNavigator, createBottomTabNavigator &#125; from &apos;react-navigation&apos;</span><br><span class="line">import HomeScreen from &apos;./shuidi/home/HomeScreen&apos;</span><br><span class="line">import NodeScreen from &apos;./shuidi/home/NodeScreen&apos;</span><br><span class="line"></span><br><span class="line">const HomeStack = createStackNavigator(&#123;</span><br><span class="line">    Home: &#123; screen: HomeScreen &#125;,</span><br><span class="line">    Nodes: &#123; screen: NodeScreen &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>StackNavigation可类比为iOS中的UINavigation，是一种栈类型的导航结构。<br><br><br>Home和Nodes分别是导航中的两个页面（控制器）。这里的名字会在执行导航行为的时候使用到。<br><br><br>screen参数是要放在导航中的页面。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">HomeScreen.js</span><br><span class="line">constructor(props) &#123;</span><br><span class="line">    super(props)</span><br><span class="line">    this.state = &#123; text: &apos;old&apos; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">static navigationOptions = &#123;</span><br><span class="line">    title: &apos;主页&apos;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;Text&gt;&#123;this.state.text&#125;&lt;/Text&gt;</span><br><span class="line"></span><br><span class="line">&lt;Button</span><br><span class="line">    title=&quot;Go to NodeScreen&quot;</span><br><span class="line">    onPress=&#123;() =&gt; &#123;</span><br><span class="line">            this.props.navigation.navigate(&apos;Nodes&apos;, &#123;</span><br><span class="line">           title: &apos;测试节点&apos;, callback: ((data) =&gt; &#123;</span><br><span class="line">           this.setState(&#123; text: data &#125;)</span><br><span class="line">         &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">   &#125;&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure></p>
<p>navigationOptions是对导航的配置，这里设置了title。相当于<code>self.title=&quot;主页&quot;</code></p>
<p>点击“Go to NodeScreen”这个<code>Button</code>后会跳转到标签为“Nodes”的页面，如果App.js的<code>HomeStack</code>中不包含“Nodes”标签则不会跳转。</p>
<p>title和callback分别是传递到“Nodes”页面的参数。其中callback是一个回调，用来进行反向传值。当“Nodes”页面以“data”为参数回调callback之后，<code>this.setState</code>保存接受到的参数，当前页面就会随之改变。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">NodeScreen.js</span><br><span class="line"></span><br><span class="line">static navigationOptions = (&#123; navigation &#125;) =&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        title: navigation.getParam(&apos;title&apos;, &apos;节点&apos;),</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const callback = navigation.getParam(&apos;callback&apos;)</span><br><span class="line"></span><br><span class="line">&lt;Button</span><br><span class="line">    title=&quot;反向传值测试&quot;</span><br><span class="line">    onPress=&#123;() =&gt; &#123;</span><br><span class="line">        this.props.navigation.goBack(),</span><br><span class="line">        callback(&apos;我是反向传值&apos;)</span><br><span class="line">    &#125;&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
<p><code>navigation.getParam(&#39;title&#39;, &#39;节点&#39;)</code>获取<code>navigation</code>中的<code>title</code>参数。</p>
<p>点击“反向传值测试”，回到上一级页面，之后调用callback，把字符串“我是反向传值”传递到上一级页面。</p>
<p><strong>TabBar</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">App.js</span><br><span class="line"></span><br><span class="line">createBottomTabNavigator(</span><br><span class="line">  &#123;</span><br><span class="line">    Home: HomeStack,</span><br><span class="line">    Attention: AttentionStack,</span><br><span class="line">    Me: MeStack</span><br><span class="line">  &#125;,</span><br><span class="line">  navigationOptions: (&#123; navigation &#125;) =&gt; (&#123;</span><br><span class="line">    tabBarLabel: (&#123;focused, tintColor&#125;) =&gt; &#123;</span><br><span class="line">      const &#123; routeName &#125; = navigation.state</span><br><span class="line">      var title = &apos;&apos;</span><br><span class="line">      if (routeName === &apos;Home&apos;) &#123;</span><br><span class="line">        title = &apos;主页&apos;</span><br><span class="line">      &#125; else if (routeName === &apos;Attention&apos;) &#123;</span><br><span class="line">        title = &apos;关注&apos;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        title = &apos;我&apos;</span><br><span class="line">      &#125;</span><br><span class="line">      return &lt;Text&gt;&#123;title&#125;&lt;/Text&gt;</span><br><span class="line">    &#125;,</span><br><span class="line">    tabBarIcon: (&#123; focused, tintColor &#125;) =&gt; &#123;</span><br><span class="line">      const &#123; routeName &#125; = navigation.state;</span><br><span class="line">      var iconName = &apos;&apos;;</span><br><span class="line">      if (routeName === &apos;Home&apos;) &#123;</span><br><span class="line">        iconName = focused ? require(&apos;./img/home_selected.png&apos;) : requi(&apos;./img/home_normal.png&apos;)</span><br><span class="line">      &#125; else if (routeName === &apos;Attention&apos;) &#123;</span><br><span class="line">        iconName = focused ? require(&apos;./img/attention_selected.png&apos;) : requi(&apos;./img/attention_normal.png&apos;)</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        iconName = focused ? require(&apos;./img/me_selected.png&apos;) : requi(&apos;./img/me_normal.png&apos;)</span><br><span class="line">      &#125;</span><br><span class="line">      return &lt;Image </span><br><span class="line">        source=&#123;iconName&#125;</span><br><span class="line">        style=&#123;&#123; width: 26, height: 26 &#125;&#125;</span><br><span class="line">      &gt;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;),</span><br><span class="line">  tabBarOptions: &#123;</span><br><span class="line">    activeTintColor: &apos;blue&apos;,</span><br><span class="line">    inactiveTintColor: &apos;black&apos;,</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><code>tabBarLabel</code>和<code>tabBarIcon</code>分别是当前标签页显示的标题和图片，其中图片根据<code>focused</code>展示不同内容。</p>
<h4 id="在navigationbar的子页面中隐藏tabbar"><a href="#在navigationbar的子页面中隐藏tabbar" class="headerlink" title="在navigationbar的子页面中隐藏tabbar"></a>在navigationbar的子页面中隐藏tabbar</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">HomeStack.navigationOptions = (&#123; navigation &#125;) =&gt; &#123;</span><br><span class="line">	let tabBarVisible = true;</span><br><span class="line">	if (navigation.state.index &gt; 0) &#123;</span><br><span class="line">		tabBarVisible = false;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return &#123;</span><br><span class="line">		tabBarVisible,</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>至此，项目结构搭建完成了。这个过程中如遇到问题可以参考<a href="http://www.iosprogrammer.tech/learn-react-native-with-me-questions">遇到的问题和解决方案</a>🎉🎉🎉</p>
<p>因为MarkDown解析的问题，排版不好，请见谅。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.iosprogrammer.tech/learn-react-native-with-me-project-instruction/" data-id="ckcezpvjz0010kcs680rojo1r" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-learn-react-native-with-me-questions" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/learn-react-native-with-me-questions/" class="article-date">
  <time datetime="2018-06-11T03:44:22.000Z" itemprop="datePublished">2018-06-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/react-native/">react-native</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/learn-react-native-with-me-questions/">跟我一起学习React Native之遇到的问题和解决方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这篇文章是“<a href="http://www.iosprogrammer.tech/categories/react-native/">跟我一起学react-native</a>”系列文章的答疑篇。这系列文章会持续更新。想要跟我一起学习RN的朋友可以关注我的微信公众号iOS进阶指南，或者订阅<a href="http://www.iosprogrammer.tech">我的个人博客</a>。</p>
<ol>
<li>No bundle URL present.<br><br><br> <img src="http://image.iosprogrammer.hongbility.com/react-native/problem-1.png" alt="No bundle URL present"><br><br><blockquote>
<ul>
<li>Run “react-native run-ios”</li>
<li>When the error appears, run “npm install”</li>
<li>Then run “react-native run-ios” again.</li>
</ul>
</blockquote>
</li>
<li>isMounted(…) is deprecated in plain JavaScript React classes…</li>
<li><p>Class RCTCxxModule was not exported. Did you forget to use RCT_EXPORT_MODULE()?<br>这两个目前没找到好的解决办法，暂时隐藏警告吧，以后找到好的办法再更新。<br>这个问题在react-navigation的github主页里面有一个<a href="https://github.com/react-navigation/react-navigation/issues/3956" target="_blank" rel="noopener">专门的issue</a>，但是根据react-navigation的开发者说这个是react-native内部调用了废弃的方法所至。<br>目前大家的统一解决办法是在index.js文件中添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123; YellowBox &#125; from &apos;react-native&apos;;</span><br><span class="line">YellowBox.ignoreWarnings([&apos;Warning: isMounted(...) is deprecated&apos;, &apos;Module RCTImageLoader&apos;]);</span><br><span class="line">YellowBox.ignoreWarnings([&apos;Class RCTCxxModule&apos;]);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Image加载不出来，onload不执行的问题。<br>iOS 8以上，默认不支持HTTP。需要在info.plist中设置App Transport Security Settings -&gt; Allow Arbitray Loads = YES</p>
</li>
<li>RCTBridge required dispatch_sync to load RCTDevLoadingView. This may lead to deadlocks.<br>APPDelegate.m<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">#if RCT_DEV</span><br><span class="line">#import &lt;React/RCTDevLoadingView.h&gt;</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">@implementation AppDelegate</span><br><span class="line"></span><br><span class="line">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions</span><br><span class="line">&#123;</span><br><span class="line">  NSURL *jsCodeLocation;</span><br><span class="line"></span><br><span class="line">  jsCodeLocation = [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@&quot;index&quot; fallbackResource:nil];</span><br><span class="line">  </span><br><span class="line">  RCTBridge *bridge = [[RCTBridge alloc] initWithBundleURL:jsCodeLocation</span><br><span class="line">                                            moduleProvider:nil</span><br><span class="line">                                             launchOptions:launchOptions];</span><br><span class="line">#if RCT_DEV</span><br><span class="line">  [bridge moduleForClass:[RCTDevLoadingView class]];</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">  RCTRootView *rootView = [[RCTRootView alloc] initWithBridge:bridge moduleName:@&quot;rn_shuidi&quot; initialProperties:launchOptions];</span><br><span class="line">  rootView.backgroundColor = [[UIColor alloc] initWithRed:1.0f green:1.0f blue:1.0f alpha:1];</span><br><span class="line"></span><br><span class="line">  self.window = [[UIWindow alloc] initWithFrame:[UIScreen mainScreen].bounds];</span><br><span class="line">  UIViewController *rootViewController = [UIViewController new];</span><br><span class="line">  rootViewController.view = rootView;</span><br><span class="line">  self.window.rootViewController = rootViewController;</span><br><span class="line">  [self.window makeKeyAndVisible];</span><br><span class="line">  return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.iosprogrammer.tech/learn-react-native-with-me-questions/" data-id="ckcezpvk00011kcs6ezfedyr3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-learn-react-native-with-me-construction" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/learn-react-native-with-me-construction/" class="article-date">
  <time datetime="2018-06-11T03:40:03.000Z" itemprop="datePublished">2018-06-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/react-native/">react-native</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/learn-react-native-with-me-construction/">跟我一起学习React Native之环境搭建</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这篇文章是“<a href="http://www.iosprogrammer.tech/categories/react-native/">跟我一起学react-native</a>”系列文章的第一篇。这系列文章会持续更新。想要跟我一起学习React Native的朋友可以关注我的微信公众号<strong>iOS进阶指南</strong>，或者订阅<a href="http://www.iosprogrammer.tech">我的个人博客</a>。</p>
<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>最近想要做一款新闻类的App，主要特点是把新闻事件按照时间线整理出来方便跟踪事情的发展。</p>
<p>作为一个雷（xia）厉（bi）风（dao）行（gu）的程序员肯定说干就干。</p>
<p>俗话说不想火的应用不是好App，想要更多的用户肯定不能只局限于一个平台，那就要让这个应用同时登陆安卓和iOS两个平台。但是我作为一个万年iOSer，现在从头开始学安卓恐怕有点不赶趟了。</p>
<p>根据当前敌我态势和恶劣的环境，跨平台开发成为了最优选择。</p>
<p>那怎么样达到跨平台开发的目的呢？根据百度爸爸的指导和以往的所见所闻，就要在阿里的weex和Facebook的react-native中二选一了。</p>
<p>从这篇文章的标题来看，大家肯定知道要选rn，其实最开始我选的是weex，奈何经过三四天的奋战和四处求教，我实在是没有搞定环境，在这里不得不说weex的官方文档真的可以称为简陋，当然我可能是因为我前几天手贱把Mac的系统升级到了Mojave。</p>
<p>在不得不放弃weex以后，只能🙏RN能给点面子。多亏上天眷顾，环境稍微折腾了一下就搞定了。</p>
<h3 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h3><ol>
<li><p>安装Node和Watchman</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install node</span><br><span class="line">brew install watchman</span><br></pre></td></tr></table></figure>
<p> 其中，node需要是8或者更新的版本。Watchman是Facebook用来监视文件系统更改的工具，RN强烈建议使用。</p>
</li>
<li><p>安装React Native command line interface.</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g react-native-cli</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建项目</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">react-native init rn-test</span><br></pre></td></tr></table></figure>
</li>
<li><p>运行项目</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd rn-test</span><br><span class="line">react-native run-ios</span><br></pre></td></tr></table></figure>
<p> 项目默认会在iPhone 6的模拟器上运行。<br><br> <img src="http://image.iosprogrammer.hongbility.com/react-native/new-project-screenshot.png" alt="iPhone 6 Screenshot"><br><br> 至此，环境搭建完成，这个过程中如遇到问题可以参考<a href="http://www.iosprogrammer.tech/learn-react-native-with-me-questions">遇到的问题和解决方案</a></p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.iosprogrammer.tech/learn-react-native-with-me-construction/" data-id="ckcezpvjx000xkcs60f0kuy8p" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-WebSocket-And-SocketRocket-Source-Analysis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/WebSocket-And-SocketRocket-Source-Analysis/" class="article-date">
  <time datetime="2018-06-02T13:16:10.000Z" itemprop="datePublished">2018-06-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/WebSocket-And-SocketRocket-Source-Analysis/">WebSocket简介和SocketRocket源码分析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://www.iosprogrammer.tech/iOS-SocketRocket/">之前的文章</a>讲了SocketRocket的用法，这里讲一下什么是WebSocket并且对SocketRocket的源码进行分析。</p>
<h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The WebSocket Protocol is an independent TCP-based protocol.&lt;br&gt;Its only relationship to HTTP is that its handshake is interpreted by HTTP servers as an Upgrade request.</span><br></pre></td></tr></table></figure>
<div align="center"><br><img src="http://image.iosprogrammer.hongbility.com/WebSocket-SocketRocket-Source/6651f2f811ec133b0e6d7e6d0e194b4c_hd.jpg"><br></div>

<p>WebSocket的特点:</p>
<pre><code>1. 建立在 TCP 协议之上，服务器端的实现比较容易。
2. 与 HTTP 协议有着良好的兼容性。默认端口也是80和443，并且握手阶段采用 HTTP 协议，因此握手时不容易屏蔽，能通过各种 HTTP 代理服务器。
3. 数据格式比较轻量，性能开销小，通信高效。
4. 可以发送文本，也可以发送二进制数据。
5. 没有同源限制，客户端可以与任意服务器通信。
6. 协议标识符是ws（如果加密，则为wss），服务器网址就是URL。`ws://example.com:80/some/path`
7. 全双工通信。
</code></pre><p>WebSocket握手类似于HTTP：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GET /chat HTTP/1.1</span><br><span class="line">Host: server.example.com</span><br><span class="line">Upgrade: websocket</span><br><span class="line">Connection: Upgrade</span><br><span class="line">Sec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==</span><br><span class="line">Sec-WebSocket-Protocol: chat, superchat</span><br><span class="line">Sec-WebSocket-Version: 13</span><br><span class="line">Origin: http://example.com</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>Upgrade和Connection是在通知Apache或者Nginx等代理服务器，正在进行的是websocket协议连接而不是普通的HTTP。<br><br>Sec-WebSocket-Key是浏览器随机生成的base64编码值，用来验证服务器是不是真正的websocket。<br> Sec_WebSocket-Protocol 是一个用户定义的字符串，用来区分同URL下，不同的服务所需要的协议。<br> Sec-WebSocket-Version 是告诉服务器所使用的协议版本。</p>
</blockquote>
<p>服务器验证通过后会返回：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 101 Switching Protocols</span><br><span class="line">Upgrade: websocket</span><br><span class="line">Connection: Upgrade</span><br><span class="line">Sec-WebSocket-Accept: HSmrc0sMlYUkAGmm5OPpG2HaGWk=</span><br><span class="line">Sec-WebSocket-Protocol: chat</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>Upgrade和Connection的作用同样是为了表明进行的是websocket连接。<br><br>Sec-WebSocket-Accept 这个则是经过服务器确认，并且加密过后的 Sec-WebSocket-Key，用来给客户端验证身份。<br><br>Sec-WebSocket-Protocol 则是表示最终使用的协议。</p>
</blockquote>
<p>数据帧：<br><br><img src="http://image.iosprogrammer.hongbility.com/WebSocket-SocketRocket-Source/frame_form.png" alt="数据帧格式"></p>
<div align="center"><br><font color="gray" size="2">数据帧格式</font><br></div>

<ol>
<li>不同于其他协议，WebSocket是基于帧的而不是基于流<br></li>
<li><p>字段解释:</p>
<ol>
<li>FIN: 1 bit 表示是否是当前信息的最后一段</li>
<li>RSV1, RSV2, RSV3: 1 bit 除非双方协商定义了非0值，否则为0</li>
<li>Opcode: 4 bits 定义了数据包的类型，如果不是已定义类型则表示连接出错。定义的数据类型包括: 0x0表示中间数据包；0x1表示text类型数据包；0x2表示binary类型数据包；0x3-7保留；0x8表示连接关闭；0x9表示ping；0xA表示pong；0xB-F保留</li>
<li>MASK：1 bit 表示Payload是否经过掩码处理。MASK如果是1，Masking-Key的数据即是掩码密钥，用于解码PayloadData。客户端发出的数据帧需要进行掩码处理，所以此为是1。</li>
<li>Payload length：7 bit，7+16 bits，or 7+64 bits 表示payload data的长度，如果其值是0-125，则是payload的真实长度；如果是126，则后面的2个字节形成的16bits无符号整型数的值是payload的真实长度；如果是127，则后面8个字节形成的64bits无符号整型数的值是payload的真实长度。</li>
</ol>
</li>
<li><p>掩码</p>
<ol>
<li>掩码值必须是随机的32-bit值</li>
<li>掩码值并不会影响Payload data的长度。</li>
<li>掩码算法：掩码后的第i字节数据 = 掩码前的第i字节的数据 XOR 掩码key的第（i mod 4）字节的数据</li>
</ol>
</li>
</ol>
<h3 id="SocketRocket源码解析"><a href="#SocketRocket源码解析" class="headerlink" title="SocketRocket源码解析"></a>SocketRocket源码解析</h3><ol>
<li><p>辅助类简单说明</p>
<ol>
<li><text>_SRRunLoopThread</text>: 承载和处理所有事件的线程。通过<code>NSRunLoop (SRWebSocket)</code>把这个线程放到了RunLoop里。并且在<code>- (void)main</code>中使用一个while循环使这个线程正常情况下永不停止。</li>
<li>SRIOConsumer和SRIOConsumerPool: 用来处理收到的消息。</li>
</ol>
</li>
<li><p>主要方法说明</p>
<ol>
<li><p><code>- (id)initWithURLRequest:(NSURLRequest *)request protocols:(NSArray *)protocols allowsUntrustedSSLCertificates:(BOOL)allowsUntrustedSSLCertificates</code> 基本初始化方法。初始化了SRSocket类内的几个成员变量。</p>
</li>
<li><p><code>_SR_commonInit</code></p>
<ol>
<li>判断协议类型</li>
<li>初始化了_workQueue，这个GCD队列用来处理主要的业务逻辑，包括处理错误、发送内容、关闭连接等。</li>
<li>初始化_delegateDispatchQueue，这个队列是用来向外发送通知的。我们可以通过<code>- (void)setDelegateOperationQueue:(NSOperationQueue*) queue</code>或<code>- (void)setDelegateDispatchQueue:(dispatch_queue_t) queue</code>来自定义这个队列。</li>
</ol>
</li>
<li><p><code>_initializeStreams</code> 创建输入/出流</p>
</li>
<li><p><code>open</code>/<code>openConnection</code> 这两个方法和被他们调用的方法是用来配置并打开流的</p>
</li>
<li><code>didConnect</code><ol>
<li>构建HTTP Header</li>
<li>发送HTTP Header</li>
<li>注册一个接收服务器返回Header信息的监听，并在回调内进行相应处理</li>
</ol>
</li>
<li><code>- (void)safeHandleEvent:(NSStreamEvent)eventCode stream:(NSStream *)aStream</code><ol>
<li>这是NSStream的回调方法，输入和输出流的共同回调</li>
<li><code>NSStreamEventOpenCompleted</code> 连接打开；<code>NSStreamEventHasBytesAvailable</code> 可读取；<code>NSStreamEventHasSpaceAvailable</code> 可写入数据</li>
<li>在<code>NSStreamEventOpenCompleted</code>里面的<code>[self _pumpScanner];</code>用来触发第5条中的3，来处理服务器返回的握手Header信息</li>
</ol>
</li>
<li><code>_pumpWriting</code><ol>
<li>向输出流写数据<code>[_outputStream write:_outputBuffer.bytes + _outputBufferOffset maxLength:dataLength - _outputBufferOffset]</code></li>
<li><code>if (_outputBufferOffset &gt; 4096 &amp;&amp; _outputBufferOffset &gt; (_outputBuffer.length &gt;&gt; 1)) { _outputBuffer = [[NSMutableData alloc] initWithBytes:(char *)_outputBuffer.bytes + _outputBufferOffset length:_outputBuffer.length - _outputBufferOffset]; _outputBufferOffset = 0; }</code> 当缓存超过4M时清空</li>
</ol>
</li>
<li><code>- (void)_sendFrameWithOpcode:(SROpCode)opcode data:(id)data</code> 把数据组装成符合协议要求的格式。参考“数据帧格式”的图片。<ol>
<li>向frame_buffer中写入fin/opcode字段</li>
<li>写入mask字段</li>
<li>根据要发送的数据得到未掩码数据<code>unmasked_payload</code></li>
<li>使用<code>int SecRandomCopyBytes(SecRandomRef rnd, size_t count, void *bytes);</code>得到掩码key<code>mask_key</code></li>
<li>根据mask_key和unmasked_payload得到掩码后数据并切入frame_buffer</li>
</ol>
</li>
<li><code>_HTTPHeadersDidFinish</code> 处理服务器返回的握手信息。通过对服务器返回的握手信息的分析来判断连接是否成功打开。</li>
<li><code>_innerPumpScanner</code> 处理收到的数据，读取未读数据，并且把未读数据通过<code>consumer.handler(self, slice);</code>返回给consumer来解析数据内容。</li>
<li><code>- (void)_handleFrameWithData:(NSData *)frameData opCode:(NSInteger)opcode</code> 根据opCode对收到的数据进行分类处理</li>
<li><code>- (void)_readFrameContinue</code> 这个是主要的数据处理方法。整个数据结构的处理的过程就是按照WebSocket协议的规定来的。</li>
</ol>
</li>
</ol>
<p>到此，SocketRocket的源码分析就结束了。其中一些地方说的比较啰嗦，有些地方说的可能不够详细。大家在看源码的时候一定要对照着WebSocket的协议内容。如果有不清楚的地方欢迎咨询。有说的不对的地方也欢迎指正。<br></p>
<p>祝你早日走上人生巅峰!!!</p>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><p><a href="http://www.ruanyifeng.com/blog/2017/05/websocket.html" target="_blank" rel="noopener">阮一峰的网络日志</a><br><br><a href="https://www.zhihu.com/question/20215561" target="_blank" rel="noopener">知乎</a><br><br><a href="https://tools.ietf.org/html/rfc6455" target="_blank" rel="noopener">RFC6455 WebSocket Protocol</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.iosprogrammer.tech/WebSocket-And-SocketRocket-Source-Analysis/" data-id="ckcezpvjt000qkcs6zn68xvo9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Calendar-Notes-Reminders" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/Calendar-Notes-Reminders/" class="article-date">
  <time datetime="2018-05-26T06:40:15.000Z" itemprop="datePublished">2018-05-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/其他/">其他</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Calendar-Notes-Reminders/">Mac OS/iOS中日历、备忘录、提醒事项的使用以及使用iMessage共享屏幕</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>既然花了上万元买了一台苹果的设备就要好好利用。本篇文章让我们学习一下iPhone/Mac自带的几个APP的使用。</p>
<h2 id="一-日历"><a href="#一-日历" class="headerlink" title="一. 日历"></a>一. 日历</h2><p>这部分我直接用电脑上的截图，和手机上的是一样的不用担心。<br><br><strong>日常使用</strong>：我们学校的课程表是外包给一个科技公司，可以自动导入日历的，安卓的也可以。如果其他朋友没有这种服务的话，需要添加课程表的话就看看有没有特殊的软件可以导入。实在不行就手动导入了，日程是可以设置循环周期的。<br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/calendar-1.jpg" alt="课表"><br><strong>团队协作</strong>：比如我会给我同事发日历，开会时间，并且设置了提前一天和提前6小时提醒，怕有些人会忘记= =。这个功能在使用之前需要把同事们的绑定iCloud的手机号/邮箱地址存入通讯录中，添加名字的时候直接输入参加会议的成员名字，对方即可收到通知（前提是对方打开了日历的通知）<br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/calendar-2.jpg" alt="团队协作"><br><strong>时间管理</strong>的好习惯：我放假回家和同学频繁聚餐约饭，我甚至把每顿饭时间地点人物提前写在日历上提醒自己（对，我基本不放人家鸽子，答应的事情除非天塌下来才会爽约）<br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/calendar-3.jpg" alt></p>
<h2 id="二、备忘录"><a href="#二、备忘录" class="headerlink" title="二、备忘录"></a>二、备忘录</h2><p><strong>日常使用</strong>：我已经不把这个东西当备忘录了，已经是我的随身笔记本了。（其实英文版的系统就叫Note）<br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/notes-1.jpg" alt><br><strong>多种媒体/多种形式的文件支持</strong>：图片、手绘、扫描文件、插入文件（例如pdf.）、表格、地图、音频、视频，而且在mac上截图后直接粘贴是相当方便的。<br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/notes-2.jpg" alt="多种文件格式支持"><br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/notes-4.jpg" alt="表格功能"><br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/notes-8.jpg" alt="烧烤list"></p>
<p><strong>团队协作</strong>：同样又是iCloud账号共享给好友，可以同时修改同一份文案，实时的协作。另一个人有改动你马上可以看到，宛如直播同事码字一样。可以打开提醒和高亮显示所有修改，这样修改的部分一目了然。<br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/notes-11.jpg" alt><br><strong>排版也像Word一样好用</strong>：选项要么在最顶部的状态栏里面，要么就选中词以后单击右键会调出更多选项，只有你想不到，没有备忘录做不到。（这些特殊功能要Mac才可以实现，手机端不可调整，仅可以做除了这个部分的功能）<br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/notes-12.jpg" alt="顶部状态栏"><br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/notes-13.jpg" alt="排版"><br><strong>快捷的“拷贝”功能</strong>：当两台苹果设备同时协作的时候，打开蓝牙和wifi功能，不管是否连接，打开就好（这个原理类似于内联网？我问了一个学计算机的同学）。需要拷贝的文字或者图片，图片得在原生的“照片”软件中拷贝（如下图）；文字的话直接复制即可。然后在想粘贴的地方粘贴即可。<br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/notes-14.jpg" alt="拷贝"></p>
<h2 id="三、提醒事项"><a href="#三、提醒事项" class="headerlink" title="三、提醒事项"></a>三、提醒事项</h2><p><strong>提醒你做固定周期、固定时间和固定地点必须要做但是又怕忘记的的事情</strong>。比如提醒每天做法语作业，运动，记账，固定时间吃药等。在 设置——通知——提醒事项 里面，检查下通知是否是出现。有些事情要坚持下来，不是说没时间做，是态度问题或者说是优先级排序的问题，就是你重不重视它，如果有个人或者软件来提醒你的话，每天坚持做某件事情不再是一件难事。<br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/reminders-2.jpg" alt="日常提醒"><br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/reminders-5.jpg" alt="日常提醒"></p>
<h2 id="四、iMessage共享屏幕"><a href="#四、iMessage共享屏幕" class="headerlink" title="四、iMessage共享屏幕"></a>四、iMessage共享屏幕</h2><ol>
<li>在Mac上的“信息”应用中，给您要与之共享的联系人发送信息，然后点按“详细信息”</li>
<li><p>点按“屏幕共享”按钮，然后执行以下一项操作。</p>
<ul>
<li>共享屏幕：选取“邀请共享我的屏幕”</li>
<li>查看您朋友给的屏幕：选取“请求共享屏幕”</li>
</ul>
<p>当共享屏幕请求被允许后，系统会自动开始音频通话（这样你们可以边说边做）且“屏幕共享”应用将打开。</p>
</li>
<li>若要停止共享屏幕，请执行以下一项操作<ul>
<li>如果正在共享您的屏幕：点按菜单栏中的屏幕共享图标，选取“结束屏幕共享”。（如果您尚未准备好停止共享，请选取“暂停屏幕共享”；再次选取该按钮以继续共享。）</li>
<li>如果正在查看您朋友的屏幕：选取“屏幕共享”&gt;“退出”，或者点按屏幕共享窗口中的红色关闭按钮。</li>
</ul>
</li>
</ol>
<h4 id="如果您不能共享屏幕"><a href="#如果您不能共享屏幕" class="headerlink" title="如果您不能共享屏幕"></a>如果您不能共享屏幕</h4><p>在 Mac 上的“信息”应用  中，如果“屏幕共享”按钮  呈灰色，请尝试以下操作：<br>确保尝试进行共享的联系人用来登录 iCloud 的 Apple ID 与用来登录“信息”的相同。<br>如果联系人无法使用同一个 Apple ID 登录 iCloud 和“信息”，请打开您的“通讯录”应用，确保该联系人的名片中包含了两个 Apple ID，即该联系人用于登录 iCloud 的 Apple ID 以及登录“信息”的 Apple ID。然后再次尝试共享。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>iCloud真的是苹果的黑科技，如果你买了苹果产品没有充分用到iCloud功能，真的很浪费钱啊，这个肯定是算在售价里面的。购买并使用苹果产品，更多情况下我理解为买他们的服务和操作系统，因为比起Windows真的太好用了。<br><br>把你的日常事务电子化，并且存储在云端，实时同步，不受地域限制。<br><br>如果苹果系统本身有原生app的，就别去下别的软件了，比如印象笔记、有道云笔记等（个人观点），支持苹果原生app的理由：</p>
<ol>
<li>简约，操作不繁琐 </li>
<li>其他app功能大同小异，操作繁琐，有些功能不实用，还有广告，苹果的打开直接</li>
<li>兼容性强，可以共享给很多app </li>
<li>可以在你的多个设备上同步</li>
</ol>
<p>当三个app出现在Widget里面时<br><img src="http://image.iosprogrammer.hongbility.com/Calendar-Notes-Reminders/conclusion-2.jpg" alt="日常提醒"></p>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><p><a href="https://www.zhihu.com/question/22027616/answer/338956660" target="_blank" rel="noopener">知乎上的回答</a></p>
<p><a href="https://support.apple.com/zh-cn/guide/messages/icht11883/mac" target="_blank" rel="noopener">苹果文档</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.iosprogrammer.tech/Calendar-Notes-Reminders/" data-id="ckcezpvjc0009kcs6dp5dbzme" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/Apple开发文档/">Apple开发文档</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/日期Date和时间Time/">日期Date和时间Time</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/react-native/">react-native</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他/">其他</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/直播/">直播</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书/">读书</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/读书/《Effective-Objective-C-2-0》/">《Effective Objective-C 2.0》</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书/数据结构与算法分析/">数据结构与算法分析</a></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/DSAA-1-1/">引论</a>
          </li>
        
          <li>
            <a href="/Read-Effective-Objective-C-2-0-2/">读《Effective Objective-C 2.0》（二）</a>
          </li>
        
          <li>
            <a href="/Read-Effective-Objective-C-2-0-1/">读《Effective Objective-C 2.0》（一）</a>
          </li>
        
          <li>
            <a href="/Programming-With-ObjC/">OC编程基础</a>
          </li>
        
          <li>
            <a href="/KVC-KVO/">KVC/KVO 总结</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 施治昂<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>